[
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi I\n\n\n\n\n\n\n\n\n\n\n\n\nMehmet GÃ¶ktuÄŸ Ã–ztÃ¼rk\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "HakkÄ±mda",
    "section": "",
    "text": "Merhaba ben Mehmet GÃ¶ktuÄŸ Ã–ztÃ¼rk. Kendimi bildim bileli doÄŸayÄ± ve onu ÅŸekillendiren dinamikleri gÃ¶zlemlemeye karÅŸÄ± bÃ¼yÃ¼k bir ilgiye sahibim. DoÄŸup, bÃ¼yÃ¼dÃ¼ÄŸÃ¼m evin dÄ±ÅŸarÄ±dan izole bahÃ§esiyle baÅŸlayan doÄŸayla temasÄ±m, bÃ¼yÃ¼kbabamla gezdiÄŸim Orta Karadeniz meÅŸelikleri ve dedemden dinlediÄŸim yaban hayatÄ± hikÃ¢yeleriyle perÃ§inlendi. Bu sayede yolumun dÃ¼ÅŸtÃ¼ÄŸÃ¼ Hacettepe Ãœniversitesi Biyoloji BÃ¶lÃ¼mÃ¼â€™nden 2021 yÄ±lÄ±nda mezun oldum. Hacettepe Ãœniversitesi Fen Bilimleri EnstitÃ¼sÃ¼ Ekoloji Anabilim DalÄ±â€™nda, Ã‡aÄŸatay TavÅŸanoÄŸlu danÄ±ÅŸmanlÄ±ÄŸÄ±nda yÃ¼ksek lisans Ã§alÄ±ÅŸmamÄ± yÃ¼rÃ¼tÃ¼yorum. YÃ¼ksek lisans Ã§alÄ±ÅŸmam, yÄ±ldÄ±rÄ±m kÃ¶kenli orman yangÄ±nlarÄ±nÄ±n mekÃ¢n-zamansal Ã¶rÃ¼ntÃ¼leri Ã¼zerine. Lisans eÄŸitimim boyunca yangÄ±n ekolojisi, fonksiyonel bitki karakterleri, gÃ¶Ã§ebe hayvancÄ±lÄ±k, yÄ±rtÄ±cÄ± kuÅŸ gÃ¶Ã§Ã¼, Ã¼reyen kuÅŸlar ve bÃ¼yÃ¼k memeliler Ã¼zerine Ã§eÅŸitli projeler kapsamÄ±nda Ä°Ã§ Anadolu, Karadeniz, Akdeniz ve Ege BÃ¶lgesiâ€™nde arazi Ã§alÄ±ÅŸmalarÄ±na katÄ±ldÄ±m. Ekoloji, yaban hayatÄ±, doÄŸa koruma, klimatoloji, meteoroloji, mekÃ¢nsal veri analizi ve R programlama konularÄ±na bÃ¼yÃ¼k ilgi duymaktayÄ±m. AyrÄ±ca 2011 yÄ±lÄ±ndan beri mÃ¼davimi olduÄŸum havadelisi.comâ€™un editÃ¶rlÃ¼ÄŸÃ¼nÃ¼ yapmaktayÄ±m.\nBir blog yazma fikri ilk olarak, anadilde bilim anlatÄ±cÄ±lÄ±ÄŸÄ± ve blog kÃ¼ltÃ¼rÃ¼ konusunda Ã§ok ÅŸey Ã¶ÄŸrendiÄŸim Ozan Mert GÃ¶ktÃ¼rk ve meÅŸhur blogu havadelisi ile tanÄ±ÅŸtÄ±ÄŸÄ±m vakit ortaya Ã§Ä±ktÄ±. YÄ±llar iÃ§inde geliÅŸen ilgi alanlarÄ±m ve doÄŸayÄ± daha yakÄ±ndan tanÄ±ma Ã§abamla beraber bu blogun R ile ilgili olmasÄ± gerektiÄŸine karar verdim. R, sÄ±kÄ±cÄ± bir anlatÄ±mla, veri analizi ve istatistik konularÄ±nda aÃ§Ä±k ve tekrarlanabilir bir ortam saÄŸlayan bir programlama dili. Ancak merakÄ±nÄ±zÄ± cezbedecek bir ÅŸeyler sÃ¶yleyecek olursam, ilgi duyduÄŸunuz alanda bilgiye ulaÅŸmanÄ±z ve yeni bilgiler Ã¼retmeniz iÃ§in iÅŸinizi Ã§okÃ§a kolaylaÅŸtÄ±ran bir araÃ§. R ile ekoloji, biyoinformatik ve coÄŸrafi bilgi sistemleri (CBS) analizleri yapabilir; uydu gÃ¶rÃ¼ntÃ¼lerini iÅŸleyebilir; istatistik ve yapay zeka modelleri Ã§alÄ±ÅŸtÄ±rabilir; birbirinden gÃ¼zel grafikler, haritalar Ã§izebilir; makale, blog ve kitap dahi yazabilirsiniz. AÃ§Ä±k kaynaklÄ± olmasÄ± sebebiyle farklÄ± alanlardan, Ã¶zellikle de bilim Ã§evrelerinden, binlerce geliÅŸtirici sÃ¼rekli olarak yeni R paketleri geliÅŸtirmektedir. 17.04.2023 tarihi itibariyle 19 binden fazla R paketi mevcutmuÅŸ.\nBu blogda daha Ã§ok R ile ekoloji, biyocoÄŸrafya, iklimbilim konularÄ±ndaki verilerle ilgilenecek, veri manipÃ¼lasyonu, analizler, gÃ¶rselleÅŸtirmeler yapacaÄŸÄ±z. Ã–zellikle de mekÃ¢nsal analizler Ã¼zerine yoÄŸunlaÅŸacaÄŸÄ±mÄ±zÄ± dÃ¼ÅŸÃ¼nÃ¼yorum. Râ€™Ä±n yanÄ± sÄ±ra Python, Bash gibi dillerle de Ã§eÅŸitli iÃ§erikler oluÅŸturacaÄŸÄ±z. Bol tartÄ±ÅŸmalÄ±, hep birlikte Ã¶ÄŸreneceÄŸimiz iÃ§eriklereâ€¦\nBilimle ve huzurla kalÄ±nÄ±z."
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html",
    "href": "posts/ebird_R/ebird_r.html",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi I",
    "section": "",
    "text": "Merhabalar, blogun ilk yazÄ±sÄ±na hoÅŸ geldiniz. Temel bilgiler iÃ§eren yazÄ±lar da olacak ancak blog iÃ§eriklerinin Ã§oÄŸunun bu gibi vaka Ã¶rneklerinden oluÅŸacaÄŸÄ±nÄ± dÃ¼ÅŸÃ¼nÃ¼yorum. TakÄ±ldÄ±ÄŸÄ±nÄ±z ve anlamadÄ±ÄŸÄ±nÄ±z yerler olursa lÃ¼tfen yorum yapmaya Ã§ekinmeyiniz. AyrÄ±ca katkÄ±larÄ±nÄ±zÄ± ve eleÅŸtirilerinizi de bekliyorum. Keyifli okumalar.\nLisansa baÅŸladÄ±ÄŸÄ±m yÄ±llarda arazi Ã§alÄ±ÅŸmalarÄ± iÃ§in can atan, lablardan ve her tÃ¼rlÃ¼ veri iÅŸinden kaÃ§an biriydim. DoÄŸayÄ± gÃ¶zlemlemeyi; kuÅŸ ve memeli arazilerine gitmeyi Ã§ok seviyor, bu konularda yapacaÄŸÄ±m bilimsel Ã§alÄ±ÅŸmalarÄ± dÃ¼ÅŸlÃ¼yordum. Ancak korkunun ecele faydasÄ± yokmuÅŸ. DoÄŸadaki gÃ¶zlemlerimizden anlamlÄ± bilgiler Ã§Ä±kartmanÄ±n yolu veriden geÃ§iyormuÅŸ. ğŸ˜… Veriyi, mÃ¼nasebetimiz arttÄ±kÃ§a sevmeye baÅŸladÄ±m. Ama Ã¶yle zorunluluktan sevmek falan deÄŸil. Ä°Ã§ine girdikÃ§e ne kadar haz veren bir uÄŸraÅŸ olduÄŸunu keÅŸfettim. Ä°statistik ve veri analizi, rakamlardan ibaret deÄŸil, hayatÄ±n her yerinde. Onu sevelim, koruyalÄ±m. :) Neyse lafÄ± fazla uzatmadan konuya dÃ¶neyim.\nBu blog yazÄ±sÄ±nda, R programlama dilini kullanarak kuÅŸ verilerinin nasÄ±l iÅŸlendiÄŸini gÃ¶stereceÄŸim. YazÄ±nÄ±n uzunluÄŸu korkutmasÄ±n! Sadece azÄ±cÄ±k bir ilgi ve temel R ile GIS bilgisi yeterli olacak. KuÅŸlara ilginiz olmasa bile, bu yazÄ±nÄ±n bazÄ± temel mekÃ¢nsal analizleri Ã¶ÄŸrenmek iÃ§in faydalÄ± olacaÄŸÄ±nÄ± dÃ¼ÅŸÃ¼nÃ¼yorum. TakÄ±ldÄ±ÄŸÄ±nÄ±z her noktada Ã§ekinmeden yorum yapabilirsiniz.\nSize iki ana soru sunuyorum:\n\nTÃ¼rkiyeâ€™deki iller bazÄ±nda kuÅŸ tÃ¼rÃ¼ Ã§eÅŸitliliÄŸi nasÄ±l bir daÄŸÄ±lÄ±ma sahip?\nBilindiÄŸi gibi KÄ±zÄ±lcahamam, TÃ¼rkiyeâ€™deki en Ã¶nemli kara akbaba - Aegypius monachus popÃ¼lasyonlarÄ±ndan birisini barÄ±ndÄ±rÄ±yor. Bu tÃ¼rÃ¼n, KÄ±zÄ±lcahamam ilÃ§e sÄ±nÄ±rlarÄ± iÃ§erisinde nasÄ±l bir daÄŸÄ±lÄ±mÄ± vardÄ±r? TÃ¼rÃ¼n daÄŸÄ±lÄ±mÄ±yla Ã§evresel faktÃ¶rler arasÄ±ndaki iliÅŸki kabaca nasÄ±ldÄ±r?\n\nBu yazÄ±da yalnÄ±zca birinci soruya odaklanacaÄŸÄ±z. Ä°kinci soru iÃ§in ikinci yazÄ±yÄ± bekleyiniz lÃ¼tfen. :)\n\n\nYazÄ±nÄ±n AkÄ±ÅŸÄ±\nYazÄ±nÄ±n genel akÄ±ÅŸÄ± aÅŸaÄŸÄ±daki gibidir:\n\nGerekli paketlerin yÃ¼klenmesi\nKuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nKuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nTR il katmanÄ±nÄ±n yÃ¼klenmesi\nKuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nHer bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nVerinin gÃ¶rselleÅŸtirilmesi\n\n\n\n1. Gerekli paketlerin yÃ¼klenmesi\n\n\n\n\n\n\n\n\n\nPaket\nAÃ§Ä±klama\n\n\n\n\ntidyverse\nÃ‡oÄŸunlukla veri manipÃ¼lasyonu ve gÃ¶rselleÅŸtirme Ã¼zerine paketler iÃ§eren bir paket koleksiyonu\n\n\nsf\nSimple Features: MekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in\n\n\nrgeoboundaries\nMÃ¼lki idare sÄ±nÄ±rlarÄ±nÄ± indirmek iÃ§in\n\n\n\n\n\nEÄŸer bu paketler kurulu deÄŸilse aÅŸaÄŸÄ±daki kod bloÄŸu ile kurabilirsiniz. Bu kod bloÄŸu, paketi Râ€™a yÃ¼klemeye Ã§alÄ±ÅŸacak, eÄŸer yÃ¼kleyemezse kuracaktÄ±r. EÄŸer kurulumda sÄ±kÄ±ntÄ± yaÅŸarsanÄ±z paketlerin dÃ¶kÃ¼mantasyonuna bakabilirsiniz.\n\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\nif (!require(\"sf\")) install.packages(\"sf\")\nif (!require(\"rgeoboundaries\")) install.packages(\"rgeoboundaries\")\n\nEÄŸer paketler kuruluysa, bu paketleri library() fonksiyonu ile yÃ¼kleyebiliriz.\n\nlibrary(tidyverse) # bircok veri isini kolaylastirmak icin\nlibrary(sf) # r'da mekansal vektor verileri islemek icin\nlibrary(rgeoboundaries) # tr il sinirlarina erismek icin\n\n\n\n2. KuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nYazÄ±mÄ±zdaki ilk soruya cevap verebilmek iÃ§in iki temel veriye ihtiyacÄ±mÄ±z var. Bunlar kuÅŸ ve TÃ¼rkiyeâ€™nin il sÄ±nÄ±rlarÄ± verileri.\nKuÅŸ verisini eBird veri tabanÄ±ndan alacaÄŸÄ±z. eBird, TÃ¼rkiye ve dÃ¼nyadaki en kapsamlÄ± kuÅŸ gÃ¶zlem veri tabanÄ±. KuÅŸ gÃ¶zlemcileri araziye Ã§Ä±ktÄ±klarÄ±nda gÃ¶zlemledikleri kuÅŸlarÄ± bu veri tabanÄ±na kaydediyor, bu ÅŸekilde bilime ve doÄŸa korumaya katkÄ± saÄŸlayabiliyorlar.\neBird verilerini siteye Ã¼ye olduktan sonra, en altta, Bilim baÅŸlÄ±ÄŸÄ± altÄ±ndaki Veri indirme talebi sayfasÄ±ndan ya da {rebird} paketini kullanarak indirebilirsiniz. Ben, site Ã¼zerinden tÃ¼m TÃ¼rkiye verilerini indirdim.\nÄ°lk adÄ±m olarak indirdiÄŸimiz eBird verisini Râ€™a yÃ¼kleyelim. Bu veri txt formatÄ±nda olduÄŸu iÃ§in, {tidyverse} paket grubuna ait read_delim() fonksiyonunu kullandÄ±k. Base Râ€™daki read.table() fonksiyonu da bu iÅŸ iÃ§in kullanÄ±labilir. Veri biraz bÃ¼yÃ¼k olduÄŸundan yÃ¼klenmesi ve iÅŸlenmesi biraz zaman alabilir.\n\nebird &lt;- read_delim(\"./ebird/ebd_TR_relApr-2023.txt\")\n\n\nprint(ebird)\n\n# A tibble: 2,403,720 Ã— 50\n   `GLOBAL UNIQUE IDENTIFIER`     `LAST EDITED DATE`  `TAXONOMIC ORDER` CATEGORY\n   &lt;chr&gt;                          &lt;dttm&gt;                          &lt;dbl&gt; &lt;chr&gt;   \n 1 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:59:44             10043 species \n 2 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:58:56              5625 species \n 3 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 13:04:32              1361 species \n 4 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:13             22215 species \n 5 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32              5787 species \n 6 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-21 02:26:13             29239 species \n 7 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:35             22156 species \n 8 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32               291 species \n 9 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n10 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n# â„¹ 2,403,710 more rows\n# â„¹ 46 more variables: `TAXON CONCEPT ID` &lt;chr&gt;, `COMMON NAME` &lt;chr&gt;,\n#   `SCIENTIFIC NAME` &lt;chr&gt;, `SUBSPECIES COMMON NAME` &lt;chr&gt;,\n#   `SUBSPECIES SCIENTIFIC NAME` &lt;chr&gt;, `EXOTIC CODE` &lt;chr&gt;,\n#   `OBSERVATION COUNT` &lt;chr&gt;, `BREEDING CODE` &lt;chr&gt;,\n#   `BREEDING CATEGORY` &lt;chr&gt;, `BEHAVIOR CODE` &lt;chr&gt;, `AGE/SEX` &lt;chr&gt;,\n#   COUNTRY &lt;chr&gt;, `COUNTRY CODE` &lt;chr&gt;, STATE &lt;chr&gt;, `STATE CODE` &lt;chr&gt;, â€¦\n\n\nVerimizi Râ€™a yÃ¼kledikten sonra print() fonksiyonu ile veri setimizin temel yapÄ±sÄ±na bir gÃ¶z attÄ±k. 2,403,720 gÃ¶zlem (satÄ±r) ve 50 deÄŸiÅŸkene (sÃ¼tun) sahip bir tibble karÅŸÄ±mÄ±za Ã§Ä±ktÄ±. tibble, {tidyverse}â€™e Ã¶zel klasik data.frameâ€™den daha kullanÄ±ÅŸlÄ± bir veri yapÄ±sÄ±dÄ±r. Ã–zel bir data.frame diyebiliriz. Ancak bu kadar fazla deÄŸiÅŸkenimiz varken print() fonksiyonu yeterince iÅŸlevsel deÄŸil. Verinin bÃ¼yÃ¼k bir kÄ±smÄ±nÄ± gÃ¶remiyoruz. Bu sebeple, Râ€™a yÃ¼klediÄŸimiz veri tablosunun tÃ¼m sÃ¼tunlarÄ±nÄ± ve onlarÄ±n yapÄ±larÄ±nÄ± gÃ¶rmek iÃ§in glimpse() fonksiyonunu kullanacaÄŸÄ±z. Bu fonksiyon, base Râ€™daki str() fonksiyonuna benziyor ancak tibble veri yapÄ±sÄ±yla kullanÄ±lÄ±rken daha sade ve kullanÄ±ÅŸlÄ±. Ã–zetle, bu fonksiyonu, print() fonksiyonunun transpoze edilmiÅŸ hÃ¢li olarak gÃ¶rebilirsiniz.\n\nglimpse(ebird)\n\nRows: 2,403,720\nColumns: 50\n$ `GLOBAL UNIQUE IDENTIFIER`   &lt;chr&gt; \"URN:CornellLabOfOrnithology:EBIRD:OBS112â€¦\n$ `LAST EDITED DATE`           &lt;dttm&gt; 2021-04-15 12:59:44, 2021-04-15 12:58:56â€¦\n$ `TAXONOMIC ORDER`            &lt;dbl&gt; 10043, 5625, 1361, 22215, 5787, 29239, 22â€¦\n$ CATEGORY                     &lt;chr&gt; \"species\", \"species\", \"species\", \"speciesâ€¦\n$ `TAXON CONCEPT ID`           &lt;chr&gt; \"avibase-4F404CB9\", \"avibase-77845DAD\", \"â€¦\n$ `COMMON NAME`                &lt;chr&gt; \"Indian Roller\", \"Siberian Crane\", \"Blackâ€¦\n$ `SCIENTIFIC NAME`            &lt;chr&gt; \"Coracias benghalensis\", \"Leucogeranus leâ€¦\n$ `SUBSPECIES COMMON NAME`     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SUBSPECIES SCIENTIFIC NAME` &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EXOTIC CODE`                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `OBSERVATION COUNT`          &lt;chr&gt; \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"â€¦\n$ `BREEDING CODE`              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BREEDING CATEGORY`          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BEHAVIOR CODE`              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `AGE/SEX`                    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ COUNTRY                      &lt;chr&gt; \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiyeâ€¦\n$ `COUNTRY CODE`               &lt;chr&gt; \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\",â€¦\n$ STATE                        &lt;chr&gt; \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbuâ€¦\n$ `STATE CODE`                 &lt;chr&gt; \"TR-41\", \"TR-06\", \"TR-34\", \"TR-34\", \"TR-3â€¦\n$ COUNTY                       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `COUNTY CODE`                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `IBA CODE`                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BCR CODE`                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `USFWS CODE`                 &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `ATLAS BLOCK`                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ LOCALITY                     &lt;chr&gt; \"Haydarpasa-Izmit Yolu\", \"Ankara\", \"Istanâ€¦\n$ `LOCALITY ID`                &lt;chr&gt; \"L14466142\", \"L14465903\", \"L14465858\", \"Lâ€¦\n$ `LOCALITY TYPE`              &lt;chr&gt; \"P\", \"P\", \"P\", \"H\", \"H\", \"H\", \"P\", \"H\", \"â€¦\n$ LATITUDE                     &lt;dbl&gt; 40.78331, 39.92951, 41.00805, 40.99209, 3â€¦\n$ LONGITUDE                    &lt;dbl&gt; 29.47437, 32.85443, 28.97673, 28.83948, 3â€¦\n$ `OBSERVATION DATE`           &lt;date&gt; 1875-06-01, 1879-04-01, 1890-12-01, 1896â€¦\n$ `TIME OBSERVATIONS STARTED`  &lt;time&gt;       NA,       NA,       NA,       NA, â€¦\n$ `OBSERVER ID`                &lt;chr&gt; \"obsr1979154\", \"obsr1979154\", \"obsr197915â€¦\n$ `SAMPLING EVENT IDENTIFIER`  &lt;chr&gt; \"S85596027\", \"S85594679\", \"S85597213\", \"Sâ€¦\n$ `PROTOCOL TYPE`              &lt;chr&gt; \"Historical\", \"Historical\", \"Historical\",â€¦\n$ `PROTOCOL CODE`              &lt;chr&gt; \"P62\", \"P62\", \"P62\", \"P62\", \"P62\", \"P62\",â€¦\n$ `PROJECT CODE`               &lt;chr&gt; \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRâ€¦\n$ `DURATION MINUTES`           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT DISTANCE KM`         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT AREA HA`             &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `NUMBER OBSERVERS`           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 1, 1, 1, â€¦\n$ `ALL SPECIES REPORTED`       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ `GROUP IDENTIFIER`           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `HAS MEDIA`                  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ APPROVED                     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REVIEWED                     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REASON                       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `TRIP COMMENTS`              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SPECIES COMMENTS`           &lt;chr&gt; \"Collected (Sclator & Taylor, 1876)., Kirâ€¦\n$ ...50                        &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n\n\nBu fonksiyon sayesinde sÃ¼tunlarÄ± Ã§ok daha rahat bir ÅŸekilde gÃ¶rebiliyoruz. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi bu yazÄ± iÃ§in iÅŸimize yaramayacak olan bir sÃ¼rÃ¼ sÃ¼tun var. KalabalÄ±kta kaybolmamak iÃ§in yalnÄ±zca iÅŸimize yarayabilecek sÃ¼tunlarÄ± seÃ§elim. ArdÄ±ndan da sadece tÃ¼r kaydÄ± olan gÃ¶zlemleri seÃ§mek iÃ§in speciesâ€™e gÃ¶re filtreleyelim.\n\nebird_subset &lt;- ebird |&gt;\n  select(4, 6, 7, 11, 12, 18, 29, 30) |&gt;  # burada indeks kullanarak sectik, sutun isimleriyle de secebiliriz\n  filter(CATEGORY == \"species\")\nebird_subset\n\n# A tibble: 2,298,920 Ã— 8\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n   &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;             &lt;chr&gt;               &lt;chr&gt;          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   &lt;NA&gt;           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   &lt;NA&gt;           \n 3 species  Black Grouse   Lyrurus tetrix    X                   &lt;NA&gt;           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   &lt;NA&gt;           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   &lt;NA&gt;           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   &lt;NA&gt;           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   &lt;NA&gt;           \n 8 species  Brant          Branta bernicla   1                   &lt;NA&gt;           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   &lt;NA&gt;           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   &lt;NA&gt;           \n# â„¹ 2,298,910 more rows\n# â„¹ 3 more variables: STATE &lt;chr&gt;, LATITUDE &lt;dbl&gt;, LONGITUDE &lt;dbl&gt;\n\n\n\nglimpse(ebird_subset)\n\nRows: 2,298,920\nColumns: 8\n$ CATEGORY            &lt;chr&gt; \"species\", \"species\", \"species\", \"species\", \"speciâ€¦\n$ `COMMON NAME`       &lt;chr&gt; \"Indian Roller\", \"Siberian Crane\", \"Black Grouse\",â€¦\n$ `SCIENTIFIC NAME`   &lt;chr&gt; \"Coracias benghalensis\", \"Leucogeranus leucogeranuâ€¦\n$ `OBSERVATION COUNT` &lt;chr&gt; \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"2\", \"1\", â€¦\n$ `BREEDING CODE`     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NAâ€¦\n$ STATE               &lt;chr&gt; \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbul\", \"Hataâ€¦\n$ LATITUDE            &lt;dbl&gt; 40.78331, 39.92951, 41.00805, 40.99209, 36.35517, â€¦\n$ LONGITUDE           &lt;dbl&gt; 29.47437, 32.85443, 28.97673, 28.83948, 36.31517, â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi verinin iÅŸimize yarayacak bir alt kÃ¼mesini aldÄ±k, kalabalÄ±ktan kurtulduk.\nArtÄ±k ilk yÃ¼klediÄŸimiz veriyi (ebird) Râ€™dan silebiliriz. Veri, tÃ¼m TRâ€™yi kapsadÄ±ÄŸÄ± iÃ§in 2 milyondan fazla gÃ¶zlem iÃ§eriyor. BÃ¼yÃ¼k veri setleri RAMâ€™in ÅŸiÅŸmesine ve Râ€™Ä±n Ã§Ã¶kmesine sebep olabilir. Bu sebeple artÄ±k iÅŸimize yaramayacak olan verileri environmentâ€™ten kaldÄ±ralÄ±m.\n\nrm(ebird)\n\n\n\n3. KuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nKuÅŸ verisinin ihtiyacÄ±mÄ±z olan alt kÃ¼mesini aldÄ±ktan sonra sÄ±ra geldi verimizi mekÃ¢nsallaÅŸtÄ±rmaya. Verimizi, uygun mekÃ¢nsal veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼p, mekÃ¢nsal analizlerde kullanÄ±labilecek bir hÃ¢le getireceÄŸiz. Bunun iÃ§in, Râ€™da mekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in geliÅŸtirilen {sf} paketini kullanacaÄŸÄ±z.\nLat long verisini ve koordinat sistemini tanÄ±mlayarak eBird verisini sf objesine dÃ¶nÃ¼ÅŸtÃ¼relim.\n\nebird_sf &lt;- st_as_sf(\n    ebird_subset, coords = c(\"LONGITUDE\", \"LATITUDE\"), crs = \"EPSG:4326\"\n)\nebird_sf\n\nSimple feature collection with 2298920 features and 6 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 2,298,920 Ã— 7\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n * &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;             &lt;chr&gt;               &lt;chr&gt;          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   &lt;NA&gt;           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   &lt;NA&gt;           \n 3 species  Black Grouse   Lyrurus tetrix    X                   &lt;NA&gt;           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   &lt;NA&gt;           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   &lt;NA&gt;           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   &lt;NA&gt;           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   &lt;NA&gt;           \n 8 species  Brant          Branta bernicla   1                   &lt;NA&gt;           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   &lt;NA&gt;           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   &lt;NA&gt;           \n# â„¹ 2,298,910 more rows\n# â„¹ 2 more variables: STATE &lt;chr&gt;, geometry &lt;POINT [Â°]&gt;\n\n\nVerimizi sf formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rdÃ¼ÄŸÃ¼mÃ¼zde, bazÄ± Ã¶nemli mekÃ¢nsal Ã¶zelliklerin eklenmiÅŸ olduÄŸunu gÃ¶rÃ¼yoruz. Bunlar arasÄ±nda geometri tipi (POINT), veri boyutu (dimension), verinin coÄŸrafi sÄ±nÄ±rlarÄ±nÄ± tanÄ±mlayan bounding box koordinatlarÄ± ve koordinat referans sistemi (CRS) bulunuyor. Bundan sonra mekÃ¢nsal analizleri rahatÃ§a yapabiliriz.\nDikkat ederseniz verinin her bir satÄ±rÄ±, bir koordinat Ã§iftiyle iliÅŸkili. Bu, her bir satÄ±rÄ±n ve bu satÄ±rdaki tÃ¼m bilgilerin, bir geometriyle iliÅŸkili olduÄŸunu gÃ¶steriyor. Bu geometri de, geometri tipinde belirtildiÄŸi ya da bir koordinat Ã§iftinin varlÄ±ÄŸÄ±ndan anlayabileceÄŸimiz gibi nokta. Yani 2,298,920 tane noktamÄ±z var ve her bir nokta bir gÃ¶zlemle iliÅŸkili.\n\n\n4. TR il katmanÄ±nÄ±n yÃ¼klenmesi\neBird verisini mekÃ¢nsallaÅŸtÄ±rdÄ±ÄŸÄ±mÄ±za gÃ¶re sÄ±ra geldi TR il sÄ±nÄ±rlarÄ±nÄ± Râ€™a yÃ¼klemeye. Ben geoBoundaries veri tabanÄ±nÄ± kullanÄ±yorum. Ä°htiyaÃ§ duyduÄŸunuz mÃ¼lki idare sÄ±nÄ±rlarÄ± verisinine eriÅŸmek iÃ§in bu linki ya da {rgeoboundaries} paketini kullanabilirsiniz.\n\ntr_il &lt;- gb_adm1(country = \"Turkey\", type = \"SSCGS\") # type = \"SSCGS\" argumaniyla basitlestirilmiÅŸ versiyonunu indiriyoruz\ntr_il\n\nSimple feature collection with 81 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 25.66545 ymin: 35.80768 xmax: 44.81766 ymax: 42.1048\nGeodetic CRS:  WGS 84\nFirst 10 features:\n   shapeGroup shapeType      shapeName shapeISO                 shapeID\n1         TUR      ADM1          Adana    TR-01 25984515B95172477822815\n2         TUR      ADM1       AdÄ±yaman    TR-02 25984515B90872828599679\n3         TUR      ADM1 Afyonkarahisar    TR-03 25984515B26209284550223\n4         TUR      ADM1           AÄŸrÄ±    TR-04 25984515B39003465173278\n5         TUR      ADM1         Amasya    TR-05 25984515B32583172380009\n6         TUR      ADM1        Antalya    TR-07 25984515B97476213604692\n7         TUR      ADM1         Artvin    TR-08  25984515B1602304411378\n8         TUR      ADM1          AydÄ±n    TR-09 25984515B63739470532168\n9         TUR      ADM1      BalÄ±kesir    TR-10 25984515B55384476443375\n10        TUR      ADM1         Ankara    TR-06 25984515B47806653651907\n   shapeCanonical                       geometry\n1        province MULTIPOLYGON (((34.91146 36...\n2        province MULTIPOLYGON (((37.861 37.4...\n3        province MULTIPOLYGON (((30.48061 38...\n4        province MULTIPOLYGON (((43.77542 39...\n5        province MULTIPOLYGON (((36.3878 40....\n6        province MULTIPOLYGON (((30.40305 36...\n7        province MULTIPOLYGON (((41.87016 40...\n8        province MULTIPOLYGON (((27.33197 37...\n9        province MULTIPOLYGON (((26.7224 39....\n10       province MULTIPOLYGON (((31.96673 38...\n\n\nBase R plot() fonksiyonu ile tr_il objemizi Ã§izelim.\n\nplot(tr_il)\n\n\n\n\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sf objesi iÃ§in plot() fonksiyonu, tÃ¼m deÄŸiÅŸkenleri (sÃ¼tunlarÄ±) Ã§iziyor. Sadece shapeName deÄŸiÅŸkenini seÃ§ip, eksenleri ve baÅŸlÄ±ÄŸÄ± ekleyerek daha iyi bir TÃ¼rkiye il sÄ±nÄ±rlarÄ± haritasÄ± Ã§izelim.\n\nplot(tr_il[, \"shapeName\"], graticule = TRUE, axes = TRUE, main = \"TÃ¼rkiye HaritasÄ±\")\n\n\n\n\n\n\n\n\nHop! Ã‡ok daha iyi!\nArtÄ±k kuÅŸ verimizin TÃ¼rkiye Ã¼zerindeki daÄŸÄ±lÄ±mÄ±nÄ± incelemeye baÅŸlama vakti geldi. Ancak 2 milyondan fazla satÄ±rÄ± olan bir verinin grafiÄŸini Ã§izmek muhtemelen Râ€™Ä±n Ã§Ã¶kmesiyle sonuÃ§lanacaktÄ±r. Bu yÃ¼zden bu verinin bir alt kÃ¼mesini alalÄ±m.\n\nebird_sample &lt;- sample_n(ebird_sf, 500000)\n\nVeri tablomuzdan rastgele 500000 satÄ±r seÃ§tik. Bu sayÄ± bilgisayarÄ±nÄ±z iÃ§in fazla geliyorsa 5-10b de seÃ§ebilirsiniz.\nVerimizi, bu sefer de Râ€™Ä±n vazgeÃ§ilmez paketi olan {ggplot2} ile gÃ¶rselleÅŸtirelim. ggplot2, Ã§izeceÄŸimiz verileri katman katman belirtip + ile birbirine baÄŸlamamÄ±za izin veren oldukÃ§a esnek bir paket. Åimdi haritamÄ±zÄ± Ã§izelim.\n\nggplot() +                                       # grafigi baslatiyor\n  geom_sf(data = tr_il, aes()) +                 # tr katmanini ekliyoruz\n  geom_sf(data = ebird_sample, aes(), size = .5) # kus verimizi ekliyoruz\n\n\n\n\n\n\n\n\n500000 kuÅŸ gÃ¶zlem verisinin TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± bu ÅŸekildeymiÅŸ. Bu grafiÄŸe dayanarak, Ã¼lkenin batÄ±sÄ±nda ve bÃ¼yÃ¼kÅŸehirlerde daha Ã§ok gÃ¶zlem olduÄŸunu sÃ¶yleyebiliriz. Bu genel daÄŸÄ±lÄ±mÄ± gÃ¶rdÃ¼ÄŸÃ¼mÃ¼ze gÃ¶re merak ettiÄŸim 2 tÃ¼rÃ¼n daÄŸÄ±lÄ±mÄ±na bakmak istiyorum. Veriyi tÃ¼r ismine gÃ¶re filtreleyip haritayÄ± Ã§iziyoruz.\n\nSakallÄ± Akbaba\n\n\n\nAlbum of Abyssinian birds and mammals | Chicago :Field Museum of Natural History,1930.\n\n\nSakallÄ± akbaba - Gypaetus barbatus, sarp daÄŸlarÄ±n insandan uzak kÃ¶ÅŸelerinde; genellikle kanyonlar ve derin yarlarda yaÅŸayan bir akbaba tÃ¼rÃ¼. Kendine has gÃ¶rÃ¼nÃ¼ÅŸÃ¼ ve diyetinin kemikten oluÅŸmasÄ± sebebiyle oldukÃ§a ilgi Ã§ekici bir tÃ¼r. Nesli tehdit altÄ±ndaki bu nadir tÃ¼rÃ¼n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m.\n\nsakalli &lt;- ebird_sf |&gt; \n  filter(`SCIENTIFIC NAME` == \"Gypaetus barbatus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = sakalli, aes(), size = .7)\n\n\n\n\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sakallÄ± akbabanÄ±n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± KÃ¶roÄŸlu DaÄŸlarÄ±, AladaÄŸlar, KaÃ§kar DaÄŸlarÄ±, AkdaÄŸ gibi daÄŸlÄ±k alanlarda yoÄŸunlaÅŸÄ±yor.\n\n\nKÄ±zÄ±l Akbaba\n\n\n\nColoured figures of the birds of the British Islands. v.1 | London :R. H. Porter,1885-1897.\n\n\nKÄ±zÄ±l akbaba - Gyps fulvus da daÄŸlarÄ± tercih eden ve kayalÄ±klarda yuvalayan bir tÃ¼r. KÄ±zÄ±l akbaba, sakallÄ± akbaba kadar Ã§ekingen olmayan, genellikle koloni hÃ¢linde yaÅŸayan bir tÃ¼r. Åimdi de kÄ±zÄ±l akbabanÄ±n daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m. Acaba nerelerden kayÄ±tlar gelmiÅŸ!\n\nkizil &lt;- ebird_sf |&gt; \n  filter(`SCIENTIFIC NAME` == \"Gyps fulvus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = kizil, aes(), size = .7)\n\n\n\n\n\n\n\n\nKÄ±zÄ±l akbaba daÄŸÄ±lÄ±mÄ±nÄ±n, Ã¼reme ve gÃ¶Ã§ bÃ¶lgelerinde yoÄŸunlaÅŸan bir Ã¶rÃ¼ntÃ¼ sergilediÄŸini gÃ¶rebiliyoruz.\n\n\n\n5. KuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nBiraz oyalanmanÄ±n ardÄ±ndan tekrardan sorumuza odaklanabiliriz. Ã–ncelikle TÃ¼rkiyeâ€™deki kuÅŸ tÃ¼rlerini ve her tÃ¼rden kaÃ§ adet kayÄ±t olduÄŸunu gÃ¶rmek iÃ§in kuÅŸ verisini tÃ¼r ismine gÃ¶re gruplayÄ±p, kayÄ±t sayÄ±sÄ±na gÃ¶re Ã¶zetleyelim. Bu iÅŸlem biraz uzun sÃ¼rebilir.\n\nebird_grouped &lt;- ebird_sf |&gt;\n  group_by(`SCIENTIFIC NAME`) |&gt;\n  summarise(n = n())\nprint(ebird_grouped)\n\nSimple feature collection with 503 features and 2 fields\nGeometry type: GEOMETRY\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 503 Ã— 3\n   `SCIENTIFIC NAME`             n                                      geometry\n   &lt;chr&gt;                     &lt;int&gt;                                &lt;GEOMETRY [Â°]&gt;\n 1 Acanthis flammea              1                     POINT (32.87976 39.96636)\n 2 Accipiter badius              3 MULTIPOINT ((41.23051 37.10523), (39.85856 4â€¦\n 3 Accipiter brevipes         2157 MULTIPOINT ((26.218 40.00467), (26.20626 40.â€¦\n 4 Accipiter gentilis         1617 MULTIPOINT ((26.16617 39.819), (26.20626 40.â€¦\n 5 Accipiter nisus           17281 MULTIPOINT ((26.01417 39.80894), (25.89106 4â€¦\n 6 Acridotheres tristis        792 MULTIPOINT ((28.56435 41.1764), (28.61338 40â€¦\n 7 Acrocephalus agricola       355 MULTIPOINT ((42.41 38.7), (42.42388 38.70286â€¦\n 8 Acrocephalus arundinaceus  6899 MULTIPOINT ((25.89106 40.15504), (26.16617 3â€¦\n 9 Acrocephalus dumetorum       25 MULTIPOINT ((35.95475 36.06548), (39.72347 4â€¦\n10 Acrocephalus griseldis        1                       POINT (43.578 40.11865)\n# â„¹ 493 more rows\n\n\n\nglimpse(ebird_grouped)\n\nRows: 503\nColumns: 3\n$ `SCIENTIFIC NAME` &lt;chr&gt; \"Acanthis flammea\", \"Accipiter badius\", \"Accipiter bâ€¦\n$ n                 &lt;int&gt; 1, 3, 2157, 1617, 17281, 792, 355, 6899, 25, 1, 2164â€¦\n$ geometry          &lt;GEOMETRY [Â°]&gt; POINT (32.87976 39.96636), MULTIPOINT ((41.â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi eBird veri tabanÄ±nda TÃ¼rkiyeâ€™den kayÄ±tlÄ± 503 tÃ¼r varmÄ±ÅŸ. eBirdâ€™Ã¼n internet sitesinde ise 494 adet tÃ¼r gÃ¶steriyor. Bu farklÄ±lÄ±ÄŸÄ±n sebebi nedir bilmiyorum doÄŸrusu. AklÄ±ma, kesin olmayan bazÄ± kayÄ±tlarÄ±n da olabileceÄŸi geliyor sadece. Bilenler aÃ§Ä±klayabilirse sÃ¼per olur.\n\n\n6. Her bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nÅimdi, TÃ¼rkiyeâ€™deki her bir ilin sÄ±nÄ±rlarÄ± iÃ§ine dÃ¼ÅŸen kuÅŸ gÃ¶zlem noktalarÄ±nÄ± sayacaÄŸÄ±z. Yani her bir poligonun iÃ§indeki noktalarÄ± sayacaÄŸÄ±z. Bu da bize her bir ildeki toplam tÃ¼r sayÄ±sÄ±nÄ± verecek. Ã–ncelikle st_intersects() fonksiyonu ile her bir il ile kesiÅŸen noktalarÄ± belirliyoruz. ArdÄ±ndan lengths() fonksiyonu ile her bir ilde kaÃ§ adet nokta olduÄŸunu hesaplÄ±yoruz ve bunu, tr_il verisine yeni bir sÃ¼tun olarak ekliyoruz. Temelde Ã§ok basit bir iÅŸlem ama baÅŸta anlamak zor olabiliyor.\n\ntr_il$bird_count &lt;- lengths(st_intersects(tr_il, ebird_grouped))\n\n\n\n7. Verinin gÃ¶rselleÅŸtirilmesi\nÅimdi, hÄ±zlÄ±ca bir plotlayalÄ±m. Bunun iÃ§in plot() fonksiyonunu kullacaÄŸÄ±z. tr_il iÃ§indeki bird_count sÃ¼tununu seÃ§elim.\n\nplot(tr_il[, \"bird_count\"])\n\n\n\n\n\n\n\n\nHaritamÄ±z hazÄ±r. Åimdi daha iyi bir gÃ¶rselleÅŸtirme iÃ§in ggplot() fonksiyonunu kullanalÄ±m.\nÃ–ncelikle kÄ±rÄ±lÄ±mlarÄ±mÄ±zÄ± belirleyelim ki haritamÄ±z daha gÃ¼zel gÃ¶rÃ¼nsÃ¼n. Bunun iÃ§in jenks optimizasyonunu kullanacaÄŸÄ±z.\n\nbreaks &lt;- classInt::classIntervals(\n  tr_il$bird_count,\n  n = 7,\n  style = \"jenks\"\n)\n\n\nggplot() +                                     # grafigi baslatiyor\n  geom_sf(\n    data = tr_il,                              # tr katmanini ekliyoruz\n    aes(fill = bird_count),                    # renkleri kus turu sayisina gore seciyoruz\n    colour = \"grey12\",                         # il sinirlarinin rengini belirliyoruz\n    linewidth = .1                             # il sinirlarinin kalinligini belirliyoruz\n  ) +\n  scale_fill_viridis_c(breaks = breaks$brks) + # haritamizi viridis paletiyle dolduruyoruz\n  guides(                                      # lejant ozelliklerini seciyoruz\n    fill = guide_colorsteps(\n      barwidth = 20,\n      barheight = .5,\n      title.position = \"right\"\n    )\n  ) +\n  labs(                                        # etiketleri yaziyoruz\n    title = \"Ä°llere GÃ¶re KuÅŸ TÃ¼rÃ¼ SayÄ±sÄ±\",\n    x = \"Boylam\",\n    y = \"Enlem\"\n  ) +\n  theme_bw() +                                 # tema seciyoruz\n  theme(                                       # temanÄ±n ozellliklerini berlirliyoruz\n    legend.position = \"bottom\",\n    plot.background = element_rect(\"white\", colour = \"white\"),\n    text = element_text(family = \"Ubuntu Mono\"),\n    legend.title = element_blank()\n  )\n\n\n\n\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Ã§ok daha iyi bir gÃ¶rselleÅŸtirme oldu. Åu an elimizde, TÃ¼rkiyeâ€™deki illere gÃ¶re kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ±nÄ± gÃ¶steren bir harita bulunmakta. Ancak bu harita Ã¼zerinden yapacaÄŸÄ±mÄ±z yorumlarda dikkatli olmamÄ±z gereken birkaÃ§ Ã¶nemli nokta var. Ä°l yÃ¼zÃ¶lÃ§Ã¼mÃ¼nÃ¼n ve illere gÃ¶re gÃ¶zlem sayÄ±sÄ±nÄ±n farklÄ± olmasÄ±ndan kaynaklanan yanlÄ±lÄ±k (bias) potansiyeli. Bu harita genel fikirler verebilir ancak net Ã§Ä±karÄ±mlar iÃ§in verinin standartlaÅŸtÄ±rÄ±lmasÄ± ve istatistiki testlere tabi tutulmasÄ± Ã¶nem arz etmektedir.\nÄ°kinci yazÄ±da gÃ¶rÃ¼ÅŸmek dileÄŸiyle.\nBilimle ve huzurla kalÄ±nÄ±z."
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#tÃ¼rkiyede-illere-gÃ¶re-toplam-kuÅŸ-tÃ¼rÃ¼-sayÄ±sÄ±-nasÄ±l-bir-daÄŸÄ±lÄ±m-gÃ¶steriyor",
    "href": "posts/ebird_R/ebird_r.html#tÃ¼rkiyede-illere-gÃ¶re-toplam-kuÅŸ-tÃ¼rÃ¼-sayÄ±sÄ±-nasÄ±l-bir-daÄŸÄ±lÄ±m-gÃ¶steriyor",
    "title": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi I",
    "section": "1. TÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?",
    "text": "1. TÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?\nBu soruya cevap verebilmek iÃ§in Ã¶ncelikle iki temel veriye ihtiyacÄ±mÄ±z var. Bunlardan birisi kuÅŸ, diÄŸeri ise TÃ¼rkiyeâ€™deki iller. EÄŸer elimizdeki kuÅŸ verisinde her bir tÃ¼r iÃ§in kaydedildiÄŸi il bilgisi varsa, illere gÃ¶re kuÅŸ tÃ¼rlerini gruplayÄ±p, kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ±nÄ± bulacak ÅŸekilde Ã¶zetleyebiliriz. Bu, aÅŸina olanlar iÃ§in, Excelâ€™deki pivot tableâ€™a benziyor. Ancak bu yÃ¶ntemle mekÃ¢nsal bir veri elde edemeyiz. Bu iÅŸlemin ardÄ±ndan kuÅŸ verisinin, TÃ¼rkiye illeri katmanÄ±na, il isimlerine gÃ¶re baÄŸlanmasÄ± gerekir. HÃ¢lihazÄ±rda kuÅŸlarÄ±n kaydedildiÄŸi noktalarÄ±n koordinatlarÄ± olduÄŸundan, mekÃ¢nsal olarak iÅŸleyeceÄŸiz. Zaten koordinata gÃ¶re toplanan verilerin mekansÃ¢l olarak iÅŸlenmesi daha gÃ¼venli.\n\nYazÄ±nÄ±n AkÄ±ÅŸÄ±\nYazÄ±nÄ±n genel akÄ±ÅŸÄ± aÅŸaÄŸÄ±daki gibidir:\n\nGerekli paketlerin yÃ¼klenmesi\nKuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nKuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nTR il katmanÄ±nÄ±n yÃ¼klenmesi\nKuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nHer bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nVerinin gÃ¶rselleÅŸtirilmesi\n\n\n\n1. Gerekli paketlerin yÃ¼klenmesi\n\n\n\n\n\n\n\n\n\nPaket\nAÃ§Ä±klama\n\n\n\n\ntidyverse\nÃ‡oÄŸunlukla veri manipÃ¼lasyonu ve gÃ¶rselleÅŸtirme Ã¼zerine paketler iÃ§eren bir paket koleksiyonu\n\n\nsf\nSimple Features: MekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in\n\n\nrgeoboundaries\nMÃ¼lki idare sÄ±nÄ±rlarÄ±nÄ± indirmek iÃ§in\n\n\ntmap\nGÃ¼zel haritalar Ã§izmek iÃ§in\n\n\n\n\n\nEÄŸer bu paketler kurulu deÄŸilse aÅŸaÄŸÄ±daki kod bloÄŸu ile kurabilirsiniz. Bu kod bloÄŸu, paketi Râ€™a yÃ¼klemeye Ã§alÄ±ÅŸacak, eÄŸer yÃ¼kleyemezse kuracaktÄ±r. EÄŸer kurulumda sÄ±kÄ±ntÄ± yaÅŸarsanÄ±z paketlerin dÃ¶kÃ¼mantasyonuna bakabilirsiniz.\n\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\nif (!require(\"sf\")) install.packages(\"sf\")\nif (!require(\"rgeoboundaries\")) install.packages(\"rgeoboundaries\")\nif (!require(\"tmap\")) install.packages(\"tmap\")\n\nEÄŸer paketler kuruluysa library() fonksiyonu ile yÃ¼kleyebiliriz.\n\nlibrary(tidyverse) # bircok veri isini kolaylastirmak icin\nlibrary(sf) # r'da mekansal vektor verileri islemek icin\nlibrary(rgeoboundaries) # tr il sinirlarina erismek icin\nlibrary(tmap) # guzel haritalar cizmek icin \n\nKuÅŸ verisi olarak, TÃ¼rkiye ve dÃ¼nyadaki en kapsamlÄ± kuÅŸ gÃ¶zlem veri tabanÄ± olan eBirdâ€™Ã¼ kullanacaÄŸÄ±z. eBird, dÃ¼nyadaki en bÃ¼yÃ¼k kuÅŸ veri tabanÄ±. KuÅŸ gÃ¶zlemcileri araziye Ã§Ä±ktÄ±klarÄ±nda gÃ¶zlemledikleri kuÅŸlarÄ± bu veri tabanÄ±na kaydediyor, bilime ve doÄŸa korumaya katkÄ± saÄŸlayabiliyorlar. 2015 yÄ±lÄ±nda ulusal veri tabanÄ±mÄ±z KuÅŸbankâ€™Ä±n eBirdâ€™e taÅŸÄ±nmasÄ±ndan beri TÃ¼rkiye kuÅŸlarÄ±nÄ± konu alan en kapsamlÄ± veri tabanÄ± aynÄ± zamanda.\neBird verilerini siteye Ã¼ye olup, en altta, Bilim baÅŸlÄ±ÄŸÄ± altÄ±ndaki Veri indirme talebi sayfasÄ±ndan ya da {rebird} paketini kullanarak indirebilirsiniz. Ben, site Ã¼zerinden tÃ¼m TÃ¼rkiye verilerini talep ederek indirdim.\n\n\n2. KuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nÄ°ndirdiÄŸimiz eBird verilerini Râ€™a yÃ¼kleyelim. eBird verileri txt dosyasÄ± olduÄŸundan {tidyverse} paket evreni iÃ§indeki bir fonksiyon olan read_delim()â€™i kullandÄ±k. Base Râ€™daki read.table() fonksiyonu da kullanÄ±labilir. Veri biraz bÃ¼yÃ¼k olduÄŸundan yÃ¼klenmesi ve iÅŸlenmesi yavaÅŸ olabilir.\n\nebird <- read_delim(\"./ebird/ebd_TR_relApr-2023.txt\")\n\n\nprint(ebird)\n\n# A tibble: 2,403,720 Ã— 50\n   `GLOBAL UNIQUE IDENTIFIER`     `LAST EDITED DATE`  `TAXONOMIC ORDER` CATEGORY\n   <chr>                          <dttm>                          <dbl> <chr>   \n 1 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:59:44             10043 species \n 2 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:58:56              5625 species \n 3 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 13:04:32              1361 species \n 4 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:13             22215 species \n 5 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32              5787 species \n 6 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-21 02:26:13             29239 species \n 7 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:35             22156 species \n 8 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32               291 species \n 9 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n10 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n# â„¹ 2,403,710 more rows\n# â„¹ 46 more variables: `TAXON CONCEPT ID` <chr>, `COMMON NAME` <chr>,\n#   `SCIENTIFIC NAME` <chr>, `SUBSPECIES COMMON NAME` <chr>,\n#   `SUBSPECIES SCIENTIFIC NAME` <chr>, `EXOTIC CODE` <chr>,\n#   `OBSERVATION COUNT` <chr>, `BREEDING CODE` <chr>,\n#   `BREEDING CATEGORY` <chr>, `BEHAVIOR CODE` <chr>, `AGE/SEX` <chr>,\n#   COUNTRY <chr>, `COUNTRY CODE` <chr>, STATE <chr>, `STATE CODE` <chr>, â€¦\n\n\nprint() fonksiyonu ile verinin genel yapÄ±sÄ±nÄ± gÃ¶rdÃ¼k. 2,403,720 gÃ¶zlem (satÄ±r) ve 50 deÄŸiÅŸkene (sÃ¼tun) sahip bir tibble ({tidyverse}â€™e Ã¶zel bir data frame ÅŸekli, bence daha kullanÄ±ÅŸlÄ±). DeÄŸiÅŸken sayÄ±sÄ± fazla olduÄŸu iÃ§in print() fonksiyonu yeterince kullanÄ±ÅŸlÄ±. Bu sebeple, Râ€™a yÃ¼klediÄŸimiz eBird veri tablosunun tÃ¼m sÃ¼tunlarÄ±nÄ± ve onlarÄ±n yapÄ±larÄ±nÄ± gÃ¶rmek iÃ§in glimpse() fonksiyonunu kullanacaÄŸÄ±z. Bu fonksiyon, base Râ€™daki str() fonksiyonuna benziyor ancak tibble veri yapÄ±sÄ±yla kullanÄ±lÄ±rken daha sade ve kullanÄ±ÅŸlÄ± bence. Ã–zetle, bu fonksiyonu, print() fonksiyonunun transpoze edilmiÅŸ hÃ¢li olarak gÃ¶rebilirsiniz.\n\nglimpse(ebird)\n\nRows: 2,403,720\nColumns: 50\n$ `GLOBAL UNIQUE IDENTIFIER`   <chr> \"URN:CornellLabOfOrnithology:EBIRD:OBS112â€¦\n$ `LAST EDITED DATE`           <dttm> 2021-04-15 12:59:44, 2021-04-15 12:58:56â€¦\n$ `TAXONOMIC ORDER`            <dbl> 10043, 5625, 1361, 22215, 5787, 29239, 22â€¦\n$ CATEGORY                     <chr> \"species\", \"species\", \"species\", \"speciesâ€¦\n$ `TAXON CONCEPT ID`           <chr> \"avibase-4F404CB9\", \"avibase-77845DAD\", \"â€¦\n$ `COMMON NAME`                <chr> \"Indian Roller\", \"Siberian Crane\", \"Blackâ€¦\n$ `SCIENTIFIC NAME`            <chr> \"Coracias benghalensis\", \"Leucogeranus leâ€¦\n$ `SUBSPECIES COMMON NAME`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SUBSPECIES SCIENTIFIC NAME` <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EXOTIC CODE`                <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `OBSERVATION COUNT`          <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"â€¦\n$ `BREEDING CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BREEDING CATEGORY`          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BEHAVIOR CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `AGE/SEX`                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ COUNTRY                      <chr> \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiyeâ€¦\n$ `COUNTRY CODE`               <chr> \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\",â€¦\n$ STATE                        <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbuâ€¦\n$ `STATE CODE`                 <chr> \"TR-41\", \"TR-06\", \"TR-34\", \"TR-34\", \"TR-3â€¦\n$ COUNTY                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `COUNTY CODE`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `IBA CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BCR CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `USFWS CODE`                 <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `ATLAS BLOCK`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ LOCALITY                     <chr> \"Haydarpasa-Izmit Yolu\", \"Ankara\", \"Istanâ€¦\n$ `LOCALITY ID`                <chr> \"L14466142\", \"L14465903\", \"L14465858\", \"Lâ€¦\n$ `LOCALITY TYPE`              <chr> \"P\", \"P\", \"P\", \"H\", \"H\", \"H\", \"P\", \"H\", \"â€¦\n$ LATITUDE                     <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 3â€¦\n$ LONGITUDE                    <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 3â€¦\n$ `OBSERVATION DATE`           <date> 1875-06-01, 1879-04-01, 1890-12-01, 1896â€¦\n$ `TIME OBSERVATIONS STARTED`  <time>       NA,       NA,       NA,       NA, â€¦\n$ `OBSERVER ID`                <chr> \"obsr1979154\", \"obsr1979154\", \"obsr197915â€¦\n$ `SAMPLING EVENT IDENTIFIER`  <chr> \"S85596027\", \"S85594679\", \"S85597213\", \"Sâ€¦\n$ `PROTOCOL TYPE`              <chr> \"Historical\", \"Historical\", \"Historical\",â€¦\n$ `PROTOCOL CODE`              <chr> \"P62\", \"P62\", \"P62\", \"P62\", \"P62\", \"P62\",â€¦\n$ `PROJECT CODE`               <chr> \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRâ€¦\n$ `DURATION MINUTES`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT DISTANCE KM`         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT AREA HA`             <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `NUMBER OBSERVERS`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 1, 1, 1, â€¦\n$ `ALL SPECIES REPORTED`       <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ `GROUP IDENTIFIER`           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `HAS MEDIA`                  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ APPROVED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REVIEWED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REASON                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `TRIP COMMENTS`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SPECIES COMMENTS`           <chr> \"Collected (Sclator & Taylor, 1876)., Kirâ€¦\n$ ...50                        <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n\n\nBurada sÃ¼tunlarÄ± Ã§ok daha rahat bir ÅŸekilde gÃ¶rebiliyoruz. Åu an iÃ§in iÅŸimize yaramayacak olan bir sÃ¼rÃ¼ sÃ¼tun var. Bu sebeple iÅŸimize yarayacak olanlarÄ± seÃ§elim. ArdÄ±ndan da sadece tÃ¼r kategorisindeki gÃ¶zlemleri seÃ§mek iÃ§in speciesâ€™e gÃ¶re filtreleyelim.\n\nebird_subset <- ebird |>\n  select(4, 6, 7, 11, 12, 18, 29, 30) |>  # burada indeks kullanarak sectik, sutun isimleriyle de secebiliriz\n  filter(CATEGORY == \"species\")\nebird_subset\n\n# A tibble: 2,298,920 Ã— 8\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n   <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 3 more variables: STATE <chr>, LATITUDE <dbl>, LONGITUDE <dbl>\n\n\n\nglimpse(ebird_subset)\n\nRows: 2,298,920\nColumns: 8\n$ CATEGORY            <chr> \"species\", \"species\", \"species\", \"species\", \"speciâ€¦\n$ `COMMON NAME`       <chr> \"Indian Roller\", \"Siberian Crane\", \"Black Grouse\",â€¦\n$ `SCIENTIFIC NAME`   <chr> \"Coracias benghalensis\", \"Leucogeranus leucogeranuâ€¦\n$ `OBSERVATION COUNT` <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"2\", \"1\", â€¦\n$ `BREEDING CODE`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NAâ€¦\n$ STATE               <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbul\", \"Hataâ€¦\n$ LATITUDE            <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 36.35517, â€¦\n$ LONGITUDE           <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 36.31517, â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi verinin iÅŸimize yarayacak bir alt kÃ¼mesini aldÄ±k.\nArtÄ±k ilk yÃ¼klediÄŸimiz veriyi (ebird) Râ€™dan silebiliriz. Veri, tÃ¼m TRâ€™yi kapsadÄ±ÄŸÄ± iÃ§in 2 milyondan fazla gÃ¶zlem iÃ§eriyor. BÃ¼yÃ¼k veri setleri RAMâ€™in ÅŸiÅŸmesine ve Râ€™Ä±n Ã§Ã¶kmesine sebep olabilir. Bu sebeple artÄ±k iÅŸimize yaramayacak olan verileri environmentâ€™ten kaldÄ±rÄ±yoruz.\n\nrm(ebird)\n\n\n\n3. KuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nEbird verimizi yÃ¼kleyip, iÅŸimize yarayacak olan alt kÃ¼mesini aldÄ±ktan sonra sÄ±ra geldi verimizi mekÃ¢nsallaÅŸtÄ±rmaya. Verimizi, uygun mekÃ¢nsal veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼p, mekÃ¢nsal analizlerde kullanÄ±labilecek bir hÃ¢le getireceÄŸiz. Bunun iÃ§in, Râ€™da vektÃ¶r verileri iÅŸlemek iÃ§in geliÅŸtirilen {sf} paketini kullanacaÄŸÄ±z.\nLat long verisini ve koordinat sistemini tanÄ±mlayarak Ebird verisini sf objesine Ã§evirdik.\n\nebird_sf <- st_as_sf(\n    ebird_subset, coords = c(\"LONGITUDE\", \"LATITUDE\"), crs = \"EPSG:4326\"\n)\nebird_sf\n\nSimple feature collection with 2298920 features and 6 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 2,298,920 Ã— 7\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n * <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 2 more variables: STATE <chr>, geometry <POINT [Â°]>\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi veri tablosuyla beraber artÄ±k geometri tipi (POINT), veri boyutu (dimension), verinin coÄŸrafi sÄ±nÄ±rlarÄ±nÄ± belirten bounding box koordinatlarÄ± ve bir CRSâ€™e (koordinat referans sistemi) sahibiz. Bundan sonra mekÃ¢nsal analizleri rahatÃ§a yapabiliriz.\nDikkat ederseniz her bir satÄ±rda, bir koordinat Ã§iftinden oluÅŸan koordinat verisi var. Bu, her bir satÄ±rÄ±n ve bu satÄ±rdaki tÃ¼m bilgilerin, bir geometriyle iliÅŸkili olduÄŸunu gÃ¶steriyor. Bu geometri de, gemoetri tipinde belirtildiÄŸi ya da bir koordinat Ã§iftinin varlÄ±ÄŸÄ±ndan anlayabileceÄŸimiz gibi nokta. Yani 2,298,920 tane noktamÄ±z var ve her bir nokta bir gÃ¶zlemle iliÅŸkili.\n\n\n4. TR il katmanÄ±nÄ±n yÃ¼klenmesi\neBird verisini mekÃ¢nsallaÅŸtÄ±rdÄ±ÄŸÄ±mÄ±za gÃ¶re, TR il sÄ±nÄ±rlarÄ±nÄ± Râ€™a yÃ¼kleyebiliriz. Ben geoBoundaries veri tabanÄ±nÄ± kullanÄ±yorum. Siz de buradan indirebilirsiniz idari sÄ±nÄ±rlara dair verileri. AÅŸaÄŸÄ±da da gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi {rgeoboundaries} paketiyle tr il sÄ±nÄ±rlarÄ±na doÄŸrudan eriÅŸebiliyoruz.\n\ntr_il <- gb_adm1(country = \"Turkey\", type = \"SSCGS\") # type = \"SSCGS\" argumaniyla basitlestirilmiÅŸ versiyonunu indiriyoruz\n\n[1] \"WARNING: geoBoundaries now provides two only types of boundaries: simplified and unsimplified.All other types are deprecated. If you selected SSCGS or SSCU it will be changed to simlified, HPSCU will be changed to usimplifed \"\n\ntr_il\n\nSimple feature collection with 81 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 25.66545 ymin: 35.80768 xmax: 44.81766 ymax: 42.1048\nGeodetic CRS:  WGS 84\nFirst 10 features:\n        shapeName shapeISO                 shapeID shapeGroup shapeType\n1           Adana    TR-01 80719077B95172477822815        TUR      ADM1\n2        AdÄ±yaman    TR-02 80719077B90872828599679        TUR      ADM1\n3  Afyonkarahisar    TR-03 80719077B26209284550223        TUR      ADM1\n4            AÄŸrÄ±    TR-04 80719077B39003465173278        TUR      ADM1\n5          Amasya    TR-05 80719077B32583172380009        TUR      ADM1\n6         Antalya    TR-07 80719077B97476213604692        TUR      ADM1\n7          Artvin    TR-08  80719077B1602304411378        TUR      ADM1\n8           AydÄ±n    TR-09 80719077B63739470532168        TUR      ADM1\n9       BalÄ±kesir    TR-10 80719077B55384476443375        TUR      ADM1\n10         Ankara    TR-06 80719077B47806653651907        TUR      ADM1\n                         geometry\n1  MULTIPOLYGON (((34.91146 36...\n2  MULTIPOLYGON (((37.861 37.4...\n3  MULTIPOLYGON (((30.48061 38...\n4  MULTIPOLYGON (((43.77542 39...\n5  MULTIPOLYGON (((36.3878 40....\n6  MULTIPOLYGON (((30.40305 36...\n7  MULTIPOLYGON (((41.87016 40...\n8  MULTIPOLYGON (((27.33197 37...\n9  MULTIPOLYGON (((26.7224 39....\n10 MULTIPOLYGON (((31.96673 38...\n\n\nBase R plot fonksiyonu ile tr_il objemizi Ã§izelim.\n\nplot(tr_il)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sf objesi iÃ§in plot() fonksiyonu, tÃ¼m deÄŸiÅŸkenleri Ã§iziyor. Sadece shapeName deÄŸiÅŸkenini seÃ§ip, eksenleri ve baÅŸlÄ±ÄŸÄ± ekleyerek daha iyi bir TÃ¼rkiye il sÄ±nÄ±rlarÄ± haritasÄ± Ã§izelim.\n\nplot(tr_il[, \"shapeName\"], graticule = TRUE, axes = TRUE, main = \"TÃ¼rkiye HaritasÄ±\")\n\n\n\n\nHop! Ã‡ok daha iyi!\nÅimdi de {tmap} paketinin iÃ§indeki qtm() fonksiyonu ile Ã§izelim.\n\nqtm(tr_il)\n\n\n\n\nDaha az yazarak gayet gÃ¼zel bir sonuÃ§ elde ettik. YukarÄ±da da gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi harita Ã§izmek iÃ§in farklÄ± yÃ¶ntemler mevcut. Ben genelde {ggplot2} ve {tmap} paketlerini tercih ediyorum. Tercih size kalmÄ±ÅŸ.\nÅimdi, kuÅŸ verimizin, TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ±na bakalÄ±m. 2 milyondan fazla satÄ±rÄ± olan bir verinin grafiÄŸini Ã§izmek muhtemelen Râ€™Ä±n Ã§Ã¶kmesine sebep olacaktÄ±r. Bu yÃ¼zden bu verinin de bir alt kÃ¼mesini alacaÄŸÄ±z.\n\nebird_sample <- sample_n(ebird_sf, 500000)\n\nVerideki 500000 satÄ±rÄ± rastgele seÃ§tik. Bu satÄ±r sayÄ±sÄ± bilgisayarÄ±nÄ±z iÃ§in fazla gelebilir. 5-10b de seÃ§ebilirsiniz.\nVerimizi, bu sefer de Râ€™Ä±n vazgeÃ§ilmez paketi olan ggplot ile gÃ¶rselleÅŸtiriyoruz.\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = ebird_sample, aes(), size = .5)\n\n\n\n\n500000 kuÅŸ gÃ¶zlem verisinin TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± bu ÅŸekildeymiÅŸ. BatÄ±â€™da ve bÃ¼yÃ¼kÅŸehirlerin yakÄ±nlarÄ±nda daha Ã§ok gÃ¶zlem var. HazÄ±r bu ÅŸekilde gÃ¶rselleÅŸtirmiÅŸken merak ettiÄŸim 2 tÃ¼rÃ¼n de daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m. TÃ¼r ismine gÃ¶re filtreleyip Ã§iziyoruz.\n\nSakallÄ± Akbaba\n\n\nsakalli <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gypaetus barbatus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = sakalli, aes(), size = .7)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sakallÄ± akbabanÄ±n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± KÃ¶roÄŸlu DaÄŸlarÄ±, AladaÄŸlar, KaÃ§kar DaÄŸlarÄ±, AkdaÄŸ gibi daÄŸlÄ±k alanlarda yoÄŸunlaÅŸÄ±yor.\nBir de kÄ±zÄ±l akbaba iÃ§in bakalÄ±m.\n\nkizil <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gyps fulvus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = kizil, aes(), size = .7)\n\n\n\n\nKÄ±zÄ±l akbaba daÄŸÄ±lÄ±mÄ±nÄ±n, Ã¼reme ve gÃ¶Ã§ bÃ¶lgelerinde yoÄŸunlaÅŸan bir Ã¶rÃ¼ntÃ¼ sergilediÄŸini gÃ¶rebiliyoruz.\nBu arada aynÄ± haritayÄ± {tmap} paketi ile aÅŸaÄŸÄ±daki gibi Ã§izebiliriz.\n\ntm_shape(tr_il) +\n  tm_polygons() +\n  tm_shape(kizil) +\n  tm_dots()\n\n\n\n\n\n\n5. KuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nBiraz oyalanmanÄ±n ardÄ±ndan tekrardan sorumuza odaklanabiliriz. Ã–ncelikle TÃ¼rkiyeâ€™deki kuÅŸ tÃ¼rlerini ve her tÃ¼rden kaÃ§ adet kayÄ±t olduÄŸunu gÃ¶rmek iÃ§in kuÅŸ verisini tÃ¼r ismine gÃ¶re grupluyor, ardÄ±ndan kayÄ±t sayÄ±sÄ±na gÃ¶re Ã¶zetliyoruz. Bu iÅŸlem biraz uzun sÃ¼rebilir.\n\nebird_grouped <- ebird_sf |>\n  group_by(`SCIENTIFIC NAME`) |>\n  summarise(n = n())\nprint(ebird_grouped)\n\nSimple feature collection with 503 features and 2 fields\nGeometry type: GEOMETRY\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 503 Ã— 3\n   `SCIENTIFIC NAME`             n                                      geometry\n   <chr>                     <int>                                <GEOMETRY [Â°]>\n 1 Acanthis flammea              1                     POINT (32.87976 39.96636)\n 2 Accipiter badius              3 MULTIPOINT ((41.23051 37.10523), (39.85856 4â€¦\n 3 Accipiter brevipes         2157 MULTIPOINT ((26.218 40.00467), (26.20626 40.â€¦\n 4 Accipiter gentilis         1617 MULTIPOINT ((26.16617 39.819), (26.20626 40.â€¦\n 5 Accipiter nisus           17281 MULTIPOINT ((26.01417 39.80894), (25.89106 4â€¦\n 6 Acridotheres tristis        792 MULTIPOINT ((28.56435 41.1764), (28.61338 40â€¦\n 7 Acrocephalus agricola       355 MULTIPOINT ((42.41 38.7), (42.42388 38.70286â€¦\n 8 Acrocephalus arundinaceus  6899 MULTIPOINT ((25.89106 40.15504), (26.16617 3â€¦\n 9 Acrocephalus dumetorum       25 MULTIPOINT ((35.95475 36.06548), (39.72347 4â€¦\n10 Acrocephalus griseldis        1                       POINT (43.578 40.11865)\n# â„¹ 493 more rows\n\n\n\nglimpse(ebird_grouped)\n\nRows: 503\nColumns: 3\n$ `SCIENTIFIC NAME` <chr> \"Acanthis flammea\", \"Accipiter badius\", \"Accipiter bâ€¦\n$ n                 <int> 1, 3, 2157, 1617, 17281, 792, 355, 6899, 25, 1, 2164â€¦\n$ geometry          <GEOMETRY [Â°]> POINT (32.87976 39.96636), MULTIPOINT ((41.â€¦\n\n\neBird veri tabanÄ±nda TÃ¼rkiyeâ€™den kayÄ±tlÄ± 503 tÃ¼r varmÄ±ÅŸ. eBirdâ€™Ã¼n internet sitesinde 494 adet tÃ¼r gÃ¶steriyor ancak veri talebiyle aldÄ±ÄŸÄ±mÄ±z veri de 9 fazla tÃ¼r var. Sebebi nedir bilmiyorum doÄŸrusu. AklÄ±ma, kesin olmayan bazÄ± kayÄ±tlarÄ±n da olabileceÄŸi geliyor sadece. Bilenler aÃ§Ä±klarsa sÃ¼per olur.\n\n\n6. Her bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nÅimdi, TÃ¼rkiyeâ€™deki her bir ilin poligonu iÃ§erisindeki noktalarÄ± sayacaÄŸÄ±z. Bu da bize her bir ildeki toplam tÃ¼r sayÄ±sÄ±nÄ± verecek. Ã–ncelikle st_intersects() fonksiyonu ile her bir il ile kesiÅŸen noktalarÄ± belirliyoruz. ArdÄ±ndan lengths() fonksiyonu ile her bir ilde kaÃ§ adet nokta olduÄŸunu hesaplÄ±yoruz ve bunu, tr_il verisine yeni bir sÃ¼tun olarak ekliyoruz. Temelde Ã§ok basit bir iÅŸlem ama baÅŸta anlamak zor olabiliyor.\n\ntr_il$bird_count <- lengths(st_intersects(tr_il, ebird_grouped))\n\n\n\n7. Verinin gÃ¶rselleÅŸtirilmesi\nÅimdi, hÄ±zlÄ±ca bir plotlayalÄ±m. Bunun iÃ§in plot() fonksiyonunu kullacaÄŸÄ±z. tr_il iÃ§indeki bird_count sÃ¼tununu seÃ§elim.\n\nplot(tr_il[, \"bird_count\"])\n\n\n\n\nHaritamÄ±z hazÄ±r. Åimdi daha iyi bir gÃ¶rselleÅŸtirme iÃ§in ggplot() fonksiyonunu kullanalÄ±m.\nÃ–ncelikle kÄ±rÄ±lÄ±mlarÄ±mÄ±z belirleyelim ki haritamÄ±z daha gÃ¼zel gÃ¶rÃ¼nsÃ¼n. Bunun iÃ§in jenks optimizasyonunu kullanacaÄŸÄ±z.\n\nbreaks <-\n  classInt::classIntervals(tr_il$bird_count,\n                           n = 7,\n                           style = \"jenks\")\n\n\nggplot() +\n  geom_sf(data = tr_il,\n          aes(fill = bird_count),\n          colour = \"grey12\",\n          linewidth = .1) +\n  scale_fill_viridis_c(breaks = breaks$brks) +\n  guides(fill = guide_colorsteps(\n    barwidth = 20,\n    barheight = .5,\n    title.position = \"right\"\n  )) +\n  labs(\n    title = \"Ä°llere GÃ¶re KuÅŸ TÃ¼rÃ¼ SayÄ±sÄ±\",\n    x = \"Boylam\",\n    y = \"Enlem\"\n  ) +\n  theme_bw() +\n  theme(\n    legend.position = \"bottom\",\n    plot.background = element_rect(\"white\", colour = \"white\"),\n    text = element_text(family = \"Ubuntu Mono\"),\n    legend.title = element_blank()\n  )\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Ã§ok daha iyi bir gÃ¶rselleÅŸtirme oldu.\nBurada dikkat etmemiz gereken en Ã¶nemli ÅŸeylerden birisi, verilerin, gÃ¶zlem sayÄ±sÄ± ve il yÃ¼zÃ¶lÃ§Ã¼mÃ¼ farklÄ±lÄ±klarÄ±ndan dolayÄ± yanlÄ± (bias) olduÄŸu. Bu harita genel fikirler verebilir ancak net Ã§Ä±karÄ±mlar iÃ§in verinin standartlaÅŸtÄ±rÄ±lmasÄ± Ã¶nem arz etmektedir.\nÄ°kinci yazÄ±da gÃ¶rÃ¼ÅŸmek dileÄŸiyle.\nBilimle ve huzurla kalÄ±nÄ±z."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R Delisi",
    "section": "",
    "text": "R ile Topografik Veri Ä°ndirme 2 - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme\n\n\n\n\n\n\nR\n\n\ngis\n\n\nr-spatial\n\n\nbase R\n\n\n\nR ile Topografik Topografik Veri Ä°ndirme 2\n\n\n\n\n\nMar 10, 2025\n\n\nMehmet GÃ¶ktuÄŸ Ã–ztÃ¼rk\n\n\n\n\n\n\n\n\n\n\n\n\nR ile Topografik Veri Ä°ndirme - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme\n\n\n\n\n\n\nR\n\n\ngis\n\n\nr-spatial\n\n\nbase R\n\n\n\nR ile Topografik Topografik Veri Ä°ndirme\n\n\n\n\n\nMar 3, 2025\n\n\nMehmet GÃ¶ktuÄŸ Ã–ztÃ¼rk\n\n\n\n\n\n\n\n\n\n\n\n\nR ve KuÅŸlar - eBird Verilerinin R ile Analizi II\n\n\n\n\n\n\nR\n\n\ngis\n\n\nr-spatial\n\n\ncase_study\n\n\n\nR ile KuÅŸ Verilerinin Analizi II\n\n\n\n\n\nDec 10, 2023\n\n\nMehmet GÃ¶ktuÄŸ Ã–ztÃ¼rk\n\n\n\n\n\n\n\n\n\n\n\n\nR ve KuÅŸlar - eBird Verilerinin R ile Analizi I\n\n\n\n\n\n\nR\n\n\ngis\n\n\nr-spatial\n\n\ncase_study\n\n\n\nR ile KuÅŸ Verilerinin Analizi\n\n\n\n\n\nSep 27, 2023\n\n\nMehmet GÃ¶ktuÄŸ Ã–ztÃ¼rk\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "blog/ebird_R/ebird_r.html",
    "href": "blog/ebird_R/ebird_r.html",
    "title": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi 1",
    "section": "",
    "text": "Ä°lk blog yazÄ±sÄ±yla alakalÄ± aklÄ±mda benzer bir plan vardÄ± ancak geÃ§tiÄŸimiz haftalarda (yazÄ±yÄ± yazmamÄ±n Ã¼stÃ¼nden aylar geÃ§ti :) ), yÃ¼ksek lisansÄ±mÄ± yaptÄ±ÄŸÄ±m labdaki sunumumun ardÄ±ndan, bu yazÄ±yÄ± yazmaya karar verdim. Bu blog yazÄ±sÄ±nda, Ã¶zetle, Râ€™da kuÅŸ verilerini nasÄ±l iÅŸleyeceÄŸimize deÄŸineceÄŸim. KuÅŸlara doÄŸrudan ilginiz olmasa dahi, temel bazÄ± mekÃ¢nsal analizleri Ã¶ÄŸrenmek iÃ§in faydalÄ± bir yazÄ± olacak.\nBurada iki temel sorumuz var:\n\nTÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?\nBilindiÄŸi gibi KÄ±zÄ±lcahamam, TÃ¼rkiyeâ€™deki en Ã¶nemli kara akbaba - Aegypius monachus popÃ¼lasyonlarÄ±ndan birisini barÄ±ndÄ±rÄ±yor. Bu tÃ¼rÃ¼n, KÄ±zÄ±lcahamam ilÃ§e sÄ±nÄ±rlarÄ± iÃ§erisinde nasÄ±l bir daÄŸÄ±lÄ±mÄ± vardÄ±r? TÃ¼rÃ¼n daÄŸÄ±lÄ±mÄ±yla Ã§evresel faktÃ¶rler arasÄ±ndaki iliÅŸki kabaca nasÄ±ldÄ±r?\n\nBu yazÄ±da yalnÄ±zca birinci soruya odaklanacaÄŸÄ±z. Ä°kinci soru iÃ§in ikinci yazÄ±yÄ± bekleyiniz lÃ¼tfen. :)"
  },
  {
    "objectID": "blog/ebird_R/ebird_r.html#tÃ¼rkiyede-illere-gÃ¶re-toplam-kuÅŸ-tÃ¼rÃ¼-sayÄ±sÄ±-nasÄ±l-bir-daÄŸÄ±lÄ±m-gÃ¶steriyor",
    "href": "blog/ebird_R/ebird_r.html#tÃ¼rkiyede-illere-gÃ¶re-toplam-kuÅŸ-tÃ¼rÃ¼-sayÄ±sÄ±-nasÄ±l-bir-daÄŸÄ±lÄ±m-gÃ¶steriyor",
    "title": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi 1",
    "section": "1. TÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?",
    "text": "1. TÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?\nBu soruya cevap verebilmek iÃ§in Ã¶ncelikle iki temel veriye ihtiyacÄ±mÄ±z var. Bunlardan birisi kuÅŸ, diÄŸeri ise TÃ¼rkiyeâ€™deki iller. EÄŸer elimizdeki kuÅŸ verisinde her bir tÃ¼r iÃ§in kaydedildiÄŸi il bilgisi varsa, illere gÃ¶re kuÅŸ tÃ¼rlerini gruplayÄ±p, kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ±nÄ± bulacak ÅŸekilde Ã¶zetleyebiliriz. Bu, aÅŸina olanlar iÃ§in, Excelâ€™deki pivot tableâ€™a benziyor. Ancak bu yÃ¶ntemle mekÃ¢nsal bir veri elde edemeyiz. Bu iÅŸlemin ardÄ±ndan kuÅŸ verisinin, TÃ¼rkiye illeri katmanÄ±na, il isimlerine gÃ¶re baÄŸlanmasÄ± gerekir. HÃ¢lihazÄ±rda kuÅŸlarÄ±n kaydedildiÄŸi noktalarÄ±n koordinatlarÄ± olduÄŸundan, mekÃ¢nsal olarak iÅŸleyeceÄŸiz. Zaten koordinata gÃ¶re toplanan verilerin mekansÃ¢l olarak iÅŸlenmesi daha gÃ¼venli.\n\nYazÄ±nÄ±n AkÄ±ÅŸÄ±\nYazÄ±nÄ±n genel akÄ±ÅŸÄ± aÅŸaÄŸÄ±daki gibidir:\n\nGerekli paketlerin yÃ¼klenmesi\nKuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nKuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nTR il katmanÄ±nÄ±n yÃ¼klenmesi\nKuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nHer bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nVerinin gÃ¶rselleÅŸtirilmesi\n\n\n\n1. Gerekli paketlerin yÃ¼klenmesi\n\n\n\n\n\n\n\n\n\nPaket\nAÃ§Ä±klama\n\n\n\n\ntidyverse\nÃ‡oÄŸunlukla veri manipÃ¼lasyonu ve gÃ¶rselleÅŸtirme Ã¼zerine paketler iÃ§eren bir paket koleksiyonu\n\n\nsf\nSimple Features: MekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in\n\n\nrgeoboundaries\nMÃ¼lki idare sÄ±nÄ±rlarÄ±nÄ± indirmek iÃ§in\n\n\ntmap\nGÃ¼zel haritalar Ã§izmek iÃ§in\n\n\n\n\n\nEÄŸer bu paketler kurulu deÄŸilse aÅŸaÄŸÄ±daki kod bloÄŸu ile kurabilirsiniz. Bu kod bloÄŸu, paketi Râ€™a yÃ¼klemeye Ã§alÄ±ÅŸacak, eÄŸer yÃ¼kleyemezse kuracaktÄ±r. EÄŸer kurulumda sÄ±kÄ±ntÄ± yaÅŸarsanÄ±z paketlerin dÃ¶kÃ¼mantasyonuna bakabilirsiniz.\n\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\nif (!require(\"sf\")) install.packages(\"sf\")\nif (!require(\"rgeoboundaries\")) install.packages(\"rgeoboundaries\")\nif (!require(\"tmap\")) install.packages(\"tmap\")\n\nEÄŸer paketler kuruluysa library() fonksiyonu ile yÃ¼kleyebiliriz.\n\nlibrary(tidyverse) # bircok veri isini kolaylastirmak icin\nlibrary(sf) # r'da mekansal vektor verileri islemek icin\nlibrary(rgeoboundaries) # tr il sinirlarina erismek icin\nlibrary(tmap) # guzel haritalar cizmek icin \n\nKuÅŸ verisi olarak, TÃ¼rkiye ve dÃ¼nyadaki en kapsamlÄ± kuÅŸ gÃ¶zlem veri tabanÄ± olan eBirdâ€™Ã¼ kullanacaÄŸÄ±z. eBird, dÃ¼nyadaki en bÃ¼yÃ¼k kuÅŸ veri tabanÄ±. KuÅŸ gÃ¶zlemcileri araziye Ã§Ä±ktÄ±klarÄ±nda gÃ¶zlemledikleri kuÅŸlarÄ± bu veri tabanÄ±na kaydediyor, bilime ve doÄŸa korumaya katkÄ± saÄŸlayabiliyorlar. 2015 yÄ±lÄ±nda ulusal veri tabanÄ±mÄ±z KuÅŸbankâ€™Ä±n eBirdâ€™e taÅŸÄ±nmasÄ±ndan beri TÃ¼rkiye kuÅŸlarÄ±nÄ± konu alan en kapsamlÄ± veri tabanÄ± aynÄ± zamanda.\neBird verilerini siteye Ã¼ye olup, en altta, Bilim baÅŸlÄ±ÄŸÄ± altÄ±ndaki Veri indirme talebi sayfasÄ±ndan ya da {rebird} paketini kullanarak indirebilirsiniz. Ben, site Ã¼zerinden tÃ¼m TÃ¼rkiye verilerini talep ederek indirdim.\n\n\n2. KuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nÄ°ndirdiÄŸimiz eBird verilerini Râ€™a yÃ¼kleyelim. eBird verileri txt dosyasÄ± olduÄŸundan {tidyverse} paket evreni iÃ§indeki bir fonksiyon olan read_delim()â€™i kullandÄ±k. Base Râ€™daki read.table() fonksiyonu da kullanÄ±labilir. Veri biraz bÃ¼yÃ¼k olduÄŸundan yÃ¼klenmesi ve iÅŸlenmesi yavaÅŸ olabilir.\n\nebird <- read_delim(\"./ebird/ebd_TR_relApr-2023.txt\")\n\n\nprint(ebird)\n\n# A tibble: 2,403,720 Ã— 50\n   `GLOBAL UNIQUE IDENTIFIER`     `LAST EDITED DATE`  `TAXONOMIC ORDER` CATEGORY\n   <chr>                          <dttm>                          <dbl> <chr>   \n 1 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:59:44             10043 species \n 2 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:58:56              5625 species \n 3 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 13:04:32              1361 species \n 4 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:13             22215 species \n 5 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32              5787 species \n 6 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-21 02:26:13             29239 species \n 7 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:35             22156 species \n 8 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32               291 species \n 9 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n10 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n# â„¹ 2,403,710 more rows\n# â„¹ 46 more variables: `TAXON CONCEPT ID` <chr>, `COMMON NAME` <chr>,\n#   `SCIENTIFIC NAME` <chr>, `SUBSPECIES COMMON NAME` <chr>,\n#   `SUBSPECIES SCIENTIFIC NAME` <chr>, `EXOTIC CODE` <chr>,\n#   `OBSERVATION COUNT` <chr>, `BREEDING CODE` <chr>,\n#   `BREEDING CATEGORY` <chr>, `BEHAVIOR CODE` <chr>, `AGE/SEX` <chr>,\n#   COUNTRY <chr>, `COUNTRY CODE` <chr>, STATE <chr>, `STATE CODE` <chr>, â€¦\n\n\nprint() fonksiyonu ile verinin genel yapÄ±sÄ±nÄ± gÃ¶rdÃ¼k. 2,403,720 gÃ¶zlem (satÄ±r) ve 50 deÄŸiÅŸkene (sÃ¼tun) sahip bir tibble ({tidyverse}â€™e Ã¶zel bir data frame ÅŸekli, bence daha kullanÄ±ÅŸlÄ±). DeÄŸiÅŸken sayÄ±sÄ± fazla olduÄŸu iÃ§in print() fonksiyonu yeterince kullanÄ±ÅŸlÄ±. Bu sebeple, Râ€™a yÃ¼klediÄŸimiz eBird veri tablosunun tÃ¼m sÃ¼tunlarÄ±nÄ± ve onlarÄ±n yapÄ±larÄ±nÄ± gÃ¶rmek iÃ§in glimpse() fonksiyonunu kullanacaÄŸÄ±z. Bu fonksiyon, base Râ€™daki str() fonksiyonuna benziyor ancak tibble veri yapÄ±sÄ±yla kullanÄ±lÄ±rken daha sade ve kullanÄ±ÅŸlÄ± bence. Ã–zetle, bu fonksiyonu, print() fonksiyonunun transpoze edilmiÅŸ hÃ¢li olarak gÃ¶rebilirsiniz.\n\nglimpse(ebird)\n\nRows: 2,403,720\nColumns: 50\n$ `GLOBAL UNIQUE IDENTIFIER`   <chr> \"URN:CornellLabOfOrnithology:EBIRD:OBS112â€¦\n$ `LAST EDITED DATE`           <dttm> 2021-04-15 12:59:44, 2021-04-15 12:58:56â€¦\n$ `TAXONOMIC ORDER`            <dbl> 10043, 5625, 1361, 22215, 5787, 29239, 22â€¦\n$ CATEGORY                     <chr> \"species\", \"species\", \"species\", \"speciesâ€¦\n$ `TAXON CONCEPT ID`           <chr> \"avibase-4F404CB9\", \"avibase-77845DAD\", \"â€¦\n$ `COMMON NAME`                <chr> \"Indian Roller\", \"Siberian Crane\", \"Blackâ€¦\n$ `SCIENTIFIC NAME`            <chr> \"Coracias benghalensis\", \"Leucogeranus leâ€¦\n$ `SUBSPECIES COMMON NAME`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SUBSPECIES SCIENTIFIC NAME` <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EXOTIC CODE`                <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `OBSERVATION COUNT`          <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"â€¦\n$ `BREEDING CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BREEDING CATEGORY`          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BEHAVIOR CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `AGE/SEX`                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ COUNTRY                      <chr> \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiyeâ€¦\n$ `COUNTRY CODE`               <chr> \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\",â€¦\n$ STATE                        <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbuâ€¦\n$ `STATE CODE`                 <chr> \"TR-41\", \"TR-06\", \"TR-34\", \"TR-34\", \"TR-3â€¦\n$ COUNTY                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `COUNTY CODE`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `IBA CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BCR CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `USFWS CODE`                 <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `ATLAS BLOCK`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ LOCALITY                     <chr> \"Haydarpasa-Izmit Yolu\", \"Ankara\", \"Istanâ€¦\n$ `LOCALITY ID`                <chr> \"L14466142\", \"L14465903\", \"L14465858\", \"Lâ€¦\n$ `LOCALITY TYPE`              <chr> \"P\", \"P\", \"P\", \"H\", \"H\", \"H\", \"P\", \"H\", \"â€¦\n$ LATITUDE                     <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 3â€¦\n$ LONGITUDE                    <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 3â€¦\n$ `OBSERVATION DATE`           <date> 1875-06-01, 1879-04-01, 1890-12-01, 1896â€¦\n$ `TIME OBSERVATIONS STARTED`  <time>       NA,       NA,       NA,       NA, â€¦\n$ `OBSERVER ID`                <chr> \"obsr1979154\", \"obsr1979154\", \"obsr197915â€¦\n$ `SAMPLING EVENT IDENTIFIER`  <chr> \"S85596027\", \"S85594679\", \"S85597213\", \"Sâ€¦\n$ `PROTOCOL TYPE`              <chr> \"Historical\", \"Historical\", \"Historical\",â€¦\n$ `PROTOCOL CODE`              <chr> \"P62\", \"P62\", \"P62\", \"P62\", \"P62\", \"P62\",â€¦\n$ `PROJECT CODE`               <chr> \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRâ€¦\n$ `DURATION MINUTES`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT DISTANCE KM`         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT AREA HA`             <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `NUMBER OBSERVERS`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 1, 1, 1, â€¦\n$ `ALL SPECIES REPORTED`       <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ `GROUP IDENTIFIER`           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `HAS MEDIA`                  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ APPROVED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REVIEWED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REASON                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `TRIP COMMENTS`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SPECIES COMMENTS`           <chr> \"Collected (Sclator & Taylor, 1876)., Kirâ€¦\n$ ...50                        <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n\n\nBurada sÃ¼tunlarÄ± Ã§ok daha rahat bir ÅŸekilde gÃ¶rebiliyoruz. Åu an iÃ§in iÅŸimize yaramayacak olan bir sÃ¼rÃ¼ sÃ¼tun var. Bu sebeple iÅŸimize yarayacak olanlarÄ± seÃ§elim. ArdÄ±ndan da sadece tÃ¼r kategorisindeki gÃ¶zlemleri seÃ§mek iÃ§in speciesâ€™e gÃ¶re filtreleyelim.\n\nebird_subset <- ebird |>\n  select(4, 6, 7, 11, 12, 18, 29, 30) |>  # burada indeks kullanarak sectik, sutun isimleriyle de secebiliriz\n  filter(CATEGORY == \"species\")\nebird_subset\n\n# A tibble: 2,298,920 Ã— 8\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n   <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 3 more variables: STATE <chr>, LATITUDE <dbl>, LONGITUDE <dbl>\n\n\n\nglimpse(ebird_subset)\n\nRows: 2,298,920\nColumns: 8\n$ CATEGORY            <chr> \"species\", \"species\", \"species\", \"species\", \"speciâ€¦\n$ `COMMON NAME`       <chr> \"Indian Roller\", \"Siberian Crane\", \"Black Grouse\",â€¦\n$ `SCIENTIFIC NAME`   <chr> \"Coracias benghalensis\", \"Leucogeranus leucogeranuâ€¦\n$ `OBSERVATION COUNT` <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"2\", \"1\", â€¦\n$ `BREEDING CODE`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NAâ€¦\n$ STATE               <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbul\", \"Hataâ€¦\n$ LATITUDE            <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 36.35517, â€¦\n$ LONGITUDE           <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 36.31517, â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi verinin iÅŸimize yarayacak bir alt kÃ¼mesini aldÄ±k.\nArtÄ±k ilk yÃ¼klediÄŸimiz veriyi (ebird) Râ€™dan silebiliriz. Veri, tÃ¼m TRâ€™yi kapsadÄ±ÄŸÄ± iÃ§in 2 milyondan fazla gÃ¶zlem iÃ§eriyor. BÃ¼yÃ¼k veri setleri RAMâ€™in ÅŸiÅŸmesine ve Râ€™Ä±n Ã§Ã¶kmesine sebep olabilir. Bu sebeple artÄ±k iÅŸimize yaramayacak olan verileri environmentâ€™ten kaldÄ±rÄ±yoruz.\n\nrm(ebird)\n\n\n\n3. KuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nEbird verimizi yÃ¼kleyip, iÅŸimize yarayacak olan alt kÃ¼mesini aldÄ±ktan sonra sÄ±ra geldi verimizi mekÃ¢nsallaÅŸtÄ±rmaya. Verimizi, uygun mekÃ¢nsal veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼p, mekÃ¢nsal analizlerde kullanÄ±labilecek bir hÃ¢le getireceÄŸiz. Bunun iÃ§in, Râ€™da vektÃ¶r verileri iÅŸlemek iÃ§in geliÅŸtirilen {sf} paketini kullanacaÄŸÄ±z.\nLat long verisini ve koordinat sistemini tanÄ±mlayarak Ebird verisini sf objesine Ã§evirdik.\n\nebird_sf <- st_as_sf(\n    ebird_subset, coords = c(\"LONGITUDE\", \"LATITUDE\"), crs = \"EPSG:4326\"\n)\nebird_sf\n\nSimple feature collection with 2298920 features and 6 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 2,298,920 Ã— 7\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n * <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 2 more variables: STATE <chr>, geometry <POINT [Â°]>\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi veri tablosuyla beraber artÄ±k geometri tipi (POINT), veri boyutu (dimension), verinin coÄŸrafi sÄ±nÄ±rlarÄ±nÄ± belirten bounding box koordinatlarÄ± ve bir CRSâ€™e (koordinat referans sistemi) sahibiz. Bundan sonra mekÃ¢nsal analizleri rahatÃ§a yapabiliriz.\nDikkat ederseniz her bir satÄ±rda, bir koordinat Ã§iftinden oluÅŸan koordinat verisi var. Bu, her bir satÄ±rÄ±n ve bu satÄ±rdaki tÃ¼m bilgilerin, bir geometriyle iliÅŸkili olduÄŸunu gÃ¶steriyor. Bu geometri de, gemoetri tipinde belirtildiÄŸi ya da bir koordinat Ã§iftinin varlÄ±ÄŸÄ±ndan anlayabileceÄŸimiz gibi nokta. Yani 2,298,920 tane noktamÄ±z var ve her bir nokta bir gÃ¶zlemle iliÅŸkili.\n\n\n4. TR il katmanÄ±nÄ±n yÃ¼klenmesi\neBird verisini mekÃ¢nsallaÅŸtÄ±rdÄ±ÄŸÄ±mÄ±za gÃ¶re, TR il sÄ±nÄ±rlarÄ±nÄ± Râ€™a yÃ¼kleyebiliriz. Ben geoBoundaries veri tabanÄ±nÄ± kullanÄ±yorum. Siz de buradan indirebilirsiniz idari sÄ±nÄ±rlara dair verileri. AÅŸaÄŸÄ±da da gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi {rgeoboundaries} paketiyle tr il sÄ±nÄ±rlarÄ±na doÄŸrudan eriÅŸebiliyoruz.\n\ntr_il <- gb_adm1(country = \"Turkey\", type = \"SSCGS\") # type = \"SSCGS\" argumaniyla basitlestirilmiÅŸ versiyonunu indiriyoruz\n\n[1] \"WARNING: geoBoundaries now provides two only types of boundaries: simplified and unsimplified.All other types are deprecated. If you selected SSCGS or SSCU it will be changed to simlified, HPSCU will be changed to usimplifed \"\n\ntr_il\n\nSimple feature collection with 81 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 25.66545 ymin: 35.80768 xmax: 44.81766 ymax: 42.1048\nGeodetic CRS:  WGS 84\nFirst 10 features:\n        shapeName shapeISO                 shapeID shapeGroup shapeType\n1           Adana    TR-01 80719077B95172477822815        TUR      ADM1\n2        AdÄ±yaman    TR-02 80719077B90872828599679        TUR      ADM1\n3  Afyonkarahisar    TR-03 80719077B26209284550223        TUR      ADM1\n4            AÄŸrÄ±    TR-04 80719077B39003465173278        TUR      ADM1\n5          Amasya    TR-05 80719077B32583172380009        TUR      ADM1\n6         Antalya    TR-07 80719077B97476213604692        TUR      ADM1\n7          Artvin    TR-08  80719077B1602304411378        TUR      ADM1\n8           AydÄ±n    TR-09 80719077B63739470532168        TUR      ADM1\n9       BalÄ±kesir    TR-10 80719077B55384476443375        TUR      ADM1\n10         Ankara    TR-06 80719077B47806653651907        TUR      ADM1\n                         geometry\n1  MULTIPOLYGON (((34.91146 36...\n2  MULTIPOLYGON (((37.861 37.4...\n3  MULTIPOLYGON (((30.48061 38...\n4  MULTIPOLYGON (((43.77542 39...\n5  MULTIPOLYGON (((36.3878 40....\n6  MULTIPOLYGON (((30.40305 36...\n7  MULTIPOLYGON (((41.87016 40...\n8  MULTIPOLYGON (((27.33197 37...\n9  MULTIPOLYGON (((26.7224 39....\n10 MULTIPOLYGON (((31.96673 38...\n\n\nBase R plot fonksiyonu ile tr_il objemizi Ã§izelim.\n\nplot(tr_il)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sf objesi iÃ§in plot() fonksiyonu, tÃ¼m deÄŸiÅŸkenleri Ã§iziyor. Sadece shapeName deÄŸiÅŸkenini seÃ§ip, eksenleri ve baÅŸlÄ±ÄŸÄ± ekleyerek daha iyi bir TÃ¼rkiye il sÄ±nÄ±rlarÄ± haritasÄ± Ã§izelim.\n\nplot(tr_il[, \"shapeName\"], graticule = TRUE, axes = TRUE, main = \"TÃ¼rkiye HaritasÄ±\")\n\n\n\n\nHop! Ã‡ok daha iyi!\nÅimdi de {tmap} paketinin iÃ§indeki qtm() fonksiyonu ile Ã§izelim.\n\nqtm(tr_il)\n\n\n\n\nDaha az yazarak gayet gÃ¼zel bir sonuÃ§ elde ettik. YukarÄ±da da gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi harita Ã§izmek iÃ§in farklÄ± yÃ¶ntemler mevcut. Ben genelde {ggplot2} ve {tmap} paketlerini tercih ediyorum. Tercih size kalmÄ±ÅŸ.\nÅimdi, kuÅŸ verimizin, TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ±na bakalÄ±m. 2 milyondan fazla satÄ±rÄ± olan bir verinin grafiÄŸini Ã§izmek muhtemelen Râ€™Ä±n Ã§Ã¶kmesine sebep olacaktÄ±r. Bu yÃ¼zden bu verinin de bir alt kÃ¼mesini alacaÄŸÄ±z.\n\nebird_sample <- sample_n(ebird_sf, 500000)\n\nVerideki 500000 satÄ±rÄ± rastgele seÃ§tik. Bu satÄ±r sayÄ±sÄ± bilgisayarÄ±nÄ±z iÃ§in fazla gelebilir. 5-10b de seÃ§ebilirsiniz.\nVerimizi, bu sefer de Râ€™Ä±n vazgeÃ§ilmez paketi olan ggplot ile gÃ¶rselleÅŸtiriyoruz.\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = ebird_sample, aes(), size = .5)\n\n\n\n\n500000 kuÅŸ gÃ¶zlem verisinin TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± bu ÅŸekildeymiÅŸ. BatÄ±â€™da ve bÃ¼yÃ¼kÅŸehirlerin yakÄ±nlarÄ±nda daha Ã§ok gÃ¶zlem var. HazÄ±r bu ÅŸekilde gÃ¶rselleÅŸtirmiÅŸken merak ettiÄŸim 2 tÃ¼rÃ¼n de daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m. TÃ¼r ismine gÃ¶re filtreleyip Ã§iziyoruz.\n\nSakallÄ± Akbaba\n\n\nsakalli <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gypaetus barbatus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = sakalli, aes(), size = .7)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sakallÄ± akbabanÄ±n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± KÃ¶roÄŸlu DaÄŸlarÄ±, AladaÄŸlar, KaÃ§kar DaÄŸlarÄ±, AkdaÄŸ gibi daÄŸlÄ±k alanlarda yoÄŸunlaÅŸÄ±yor.\nBir de kÄ±zÄ±l akbaba iÃ§in bakalÄ±m.\n\nkizil <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gyps fulvus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = kizil, aes(), size = .7)\n\n\n\n\nKÄ±zÄ±l akbaba daÄŸÄ±lÄ±mÄ±nÄ±n, Ã¼reme ve gÃ¶Ã§ bÃ¶lgelerinde yoÄŸunlaÅŸan bir Ã¶rÃ¼ntÃ¼ sergilediÄŸini gÃ¶rebiliyoruz.\nBu arada aynÄ± haritayÄ± {tmap} paketi ile aÅŸaÄŸÄ±daki gibi Ã§izebiliriz.\n\ntm_shape(tr_il) +\n  tm_polygons() +\n  tm_shape(kizil) +\n  tm_dots()\n\n\n\n\n\n\n5. KuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nBiraz oyalanmanÄ±n ardÄ±ndan tekrardan sorumuza odaklanabiliriz. Ã–ncelikle TÃ¼rkiyeâ€™deki kuÅŸ tÃ¼rlerini ve her tÃ¼rden kaÃ§ adet kayÄ±t olduÄŸunu gÃ¶rmek iÃ§in kuÅŸ verisini tÃ¼r ismine gÃ¶re grupluyor, ardÄ±ndan kayÄ±t sayÄ±sÄ±na gÃ¶re Ã¶zetliyoruz. Bu iÅŸlem biraz uzun sÃ¼rebilir.\n\nebird_grouped <- ebird_sf |>\n  group_by(`SCIENTIFIC NAME`) |>\n  summarise(n = n())\nprint(ebird_grouped)\n\nSimple feature collection with 503 features and 2 fields\nGeometry type: GEOMETRY\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 503 Ã— 3\n   `SCIENTIFIC NAME`             n                                      geometry\n   <chr>                     <int>                                <GEOMETRY [Â°]>\n 1 Acanthis flammea              1                     POINT (32.87976 39.96636)\n 2 Accipiter badius              3 MULTIPOINT ((41.23051 37.10523), (39.85856 4â€¦\n 3 Accipiter brevipes         2157 MULTIPOINT ((26.218 40.00467), (26.20626 40.â€¦\n 4 Accipiter gentilis         1617 MULTIPOINT ((26.16617 39.819), (26.20626 40.â€¦\n 5 Accipiter nisus           17281 MULTIPOINT ((26.01417 39.80894), (25.89106 4â€¦\n 6 Acridotheres tristis        792 MULTIPOINT ((28.56435 41.1764), (28.61338 40â€¦\n 7 Acrocephalus agricola       355 MULTIPOINT ((42.41 38.7), (42.42388 38.70286â€¦\n 8 Acrocephalus arundinaceus  6899 MULTIPOINT ((25.89106 40.15504), (26.16617 3â€¦\n 9 Acrocephalus dumetorum       25 MULTIPOINT ((35.95475 36.06548), (39.72347 4â€¦\n10 Acrocephalus griseldis        1                       POINT (43.578 40.11865)\n# â„¹ 493 more rows\n\n\n\nglimpse(ebird_grouped)\n\nRows: 503\nColumns: 3\n$ `SCIENTIFIC NAME` <chr> \"Acanthis flammea\", \"Accipiter badius\", \"Accipiter bâ€¦\n$ n                 <int> 1, 3, 2157, 1617, 17281, 792, 355, 6899, 25, 1, 2164â€¦\n$ geometry          <GEOMETRY [Â°]> POINT (32.87976 39.96636), MULTIPOINT ((41.â€¦\n\n\neBird veri tabanÄ±nda TÃ¼rkiyeâ€™den kayÄ±tlÄ± 503 tÃ¼r varmÄ±ÅŸ. eBirdâ€™Ã¼n internet sitesinde 494 adet tÃ¼r gÃ¶steriyor ancak veri talebiyle aldÄ±ÄŸÄ±mÄ±z veri de 9 fazla tÃ¼r var. Sebebi nedir bilmiyorum doÄŸrusu. AklÄ±ma, kesin olmayan bazÄ± kayÄ±tlarÄ±n da olabileceÄŸi geliyor sadece. Bilenler aÃ§Ä±klarsa sÃ¼per olur.\n\n\n6. Her bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nÅimdi, TÃ¼rkiyeâ€™deki her bir ilin poligonu iÃ§erisindeki noktalarÄ± sayacaÄŸÄ±z. Bu da bize her bir ildeki toplam tÃ¼r sayÄ±sÄ±nÄ± verecek. Ã–ncelikle st_intersects() fonksiyonu ile her bir il ile kesiÅŸen noktalarÄ± belirliyoruz. ArdÄ±ndan lengths() fonksiyonu ile her bir ilde kaÃ§ adet nokta olduÄŸunu hesaplÄ±yoruz ve bunu, tr_il verisine yeni bir sÃ¼tun olarak ekliyoruz. Temelde Ã§ok basit bir iÅŸlem ama baÅŸta anlamak zor olabiliyor.\n\ntr_il$bird_count <- lengths(st_intersects(tr_il, ebird_grouped))\n\n\n\n7. Verinin gÃ¶rselleÅŸtirilmesi\nÅimdi, hÄ±zlÄ±ca bir plotlayalÄ±m. Bunun iÃ§in plot() fonksiyonunu kullacaÄŸÄ±z. tr_il iÃ§indeki bird_count sÃ¼tununu seÃ§elim.\n\nplot(tr_il[, \"bird_count\"])\n\n\n\n\nHaritamÄ±z hazÄ±r. Åimdi daha iyi bir gÃ¶rselleÅŸtirme iÃ§in ggplot() fonksiyonunu kullanalÄ±m.\nÃ–ncelikle kÄ±rÄ±lÄ±mlarÄ±mÄ±z belirleyelim ki haritamÄ±z daha gÃ¼zel gÃ¶rÃ¼nsÃ¼n. Bunun iÃ§in jenks optimizasyonunu kullanacaÄŸÄ±z.\n\nbreaks <-\n  classInt::classIntervals(tr_il$bird_count,\n                           n = 7,\n                           style = \"jenks\")\n\n\nggplot() +\n  geom_sf(data = tr_il,\n          aes(fill = bird_count),\n          colour = \"grey12\",\n          linewidth = .1) +\n  scale_fill_viridis_c(breaks = breaks$brks) +\n  guides(fill = guide_colorsteps(\n    barwidth = 20,\n    barheight = .5,\n    title.position = \"right\"\n  )) +\n  labs(\n    title = \"Ä°llere GÃ¶re KuÅŸ TÃ¼rÃ¼ SayÄ±sÄ±\",\n    x = \"Boylam\",\n    y = \"Enlem\"\n  ) +\n  theme_bw() +\n  theme(\n    legend.position = \"bottom\",\n    plot.background = element_rect(\"white\", colour = \"white\"),\n    text = element_text(family = \"Ubuntu Mono\"),\n    legend.title = element_blank()\n  )\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Ã§ok daha iyi bir gÃ¶rselleÅŸtirme oldu.\nBurada dikkat etmemiz gereken en Ã¶nemli ÅŸeylerden birisi, verilerin, gÃ¶zlem sayÄ±sÄ± ve il yÃ¼zÃ¶lÃ§Ã¼mÃ¼ farklÄ±lÄ±klarÄ±ndan dolayÄ± yanlÄ± (bias) olduÄŸu. Bu harita genel fikirler verebilir ancak net Ã§Ä±karÄ±mlar iÃ§in verinin standartlaÅŸtÄ±rÄ±lmasÄ± Ã¶nem arz etmektedir.\nÄ°kinci yazÄ±da gÃ¶rÃ¼ÅŸmek dileÄŸiyle.\nBilimle ve huzurla kalÄ±nÄ±z."
  },
  {
    "objectID": "posts/ebird_R_2/ebird_r_2.html",
    "href": "posts/ebird_R_2/ebird_r_2.html",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi II",
    "section": "",
    "text": "Merhabalar, blogun ikinci yazÄ±sÄ±na hoÅŸ geldiniz. TakÄ±ldÄ±ÄŸÄ±nÄ±z ve anlamadÄ±ÄŸÄ±nÄ±z yerler olursa lÃ¼tfen yorum yapmaya Ã§ekinmeyiniz. AyrÄ±ca katkÄ±larÄ±nÄ±zÄ± ve eleÅŸtirilerinizi de bekliyorum. Keyifli okumalar.\nBlogun ilk yazÄ±sÄ±nÄ± yazarken, ikincisi de birkaÃ§ haftaya Ã§Ä±kar, nasÄ±l olsa kodlar hazÄ±r diye dÃ¼ÅŸÃ¼nÃ¼yordum ancak tezdir, iÅŸtir derken uzadÄ±. YoÄŸunluk yetmiyormuÅŸ gibi bilgisayarÄ±n format ihtiyacÄ± ve NTFS dosya sistemine sahip harici diskin linux ile uyumsuzluÄŸu da eklenince yazÄ±nÄ±n taslaÄŸÄ± ve kodlarÄ±nÄ± kaybettim. SonuÃ§ olarak -birbirinden gÃ¼zel bahanelerimi Ã¶zetleyecek olursam- gecikmiÅŸ, kaybedilmiÅŸ ve sÄ±fÄ±rdan yazÄ±lmÄ±ÅŸ bir yazÄ±yla karÅŸÄ±nÄ±zdayÄ±m.\nBu blog yazÄ±sÄ±, bir Ã¶ncekinin devamÄ± niteliÄŸinde sayÄ±labilir. R ile eBird verilerini iÅŸlemeye devam edeceÄŸiz. Ä°lk yazÄ±da birinci soru Ã¼zerine odaklanmÄ±ÅŸtÄ±k, bunda ise ikinci soruya odaklanacaÄŸÄ±z:\n\nBilindiÄŸi gibi KÄ±zÄ±lcahamam, TÃ¼rkiyeâ€™deki en Ã¶nemli kara akbaba - Aegypius monachus popÃ¼lasyonlarÄ±ndan birisini barÄ±ndÄ±rÄ±yor. Bu tÃ¼rÃ¼n, KÄ±zÄ±lcahamam ilÃ§e sÄ±nÄ±rlarÄ± iÃ§erisinde nasÄ±l bir daÄŸÄ±lÄ±mÄ± vardÄ±r? TÃ¼rÃ¼n daÄŸÄ±lÄ±mÄ±yla Ã§evresel faktÃ¶rler arasÄ±ndaki iliÅŸki kabaca nasÄ±ldÄ±r?\n\nTemel R ve GIS bilgisine sahip olmanÄ±z yazÄ±daki birÃ§ok yeri anlamanÄ±z iÃ§in yeterli olacaktÄ±r. Ancak bu alanlarda yeniyseniz de endiÅŸelenmeyin. AnlamadÄ±ÄŸÄ±nÄ±z her ÅŸeyi yorum olarak sorabilirsiniz. Blogun da ana amaÃ§larÄ±ndan birisi bu zaten. AyrÄ±ca kuÅŸlara ilginiz olmasa bile, bu yazÄ±nÄ±n bazÄ± temel mekÃ¢nsal analizleri Ã¶ÄŸrenmek iÃ§in faydalÄ± olacaÄŸÄ±nÄ± dÃ¼ÅŸÃ¼nÃ¼yorum.\n\n\nYazÄ±nÄ±nÄ±n AkÄ±ÅŸÄ±\nYazÄ±nÄ±n genel akÄ±ÅŸÄ± aÅŸaÄŸÄ±daki gibidir:\n\nPaketlerin yÃ¼klenmesi\nÄ°lÃ§e verisinin iÅŸleri\nKuÅŸ verisinin iÅŸleri\nDEM verisinin iÅŸleri\nTopografik hesaplamalar\nVerinin gÃ¶rselleÅŸtirilmesi\n\n\n\n1. Paketlerin yÃ¼klenmesi\n\n\n\n\n\n\n\n\n\nPaket\nAÃ§Ä±klama\n\n\n\n\ntidyverse\nÃ‡oÄŸunlukla veri manipÃ¼lasyonu ve gÃ¶rselleÅŸtirme Ã¼zerine paketler iÃ§eren bir paket koleksiyonu\n\n\nsf\nSimple Features: MekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in\n\n\nterra\nRaster verileri iÅŸlemek iÃ§in\n\n\ntidyterra\nterra paketi iÃ§in tidyverse metotlarÄ± saÄŸlayan bir paket\n\n\nmapview\nÄ°nteraktif haritalar iÃ§in\n\n\nrgeoboundaries\nMÃ¼lki idare sÄ±nÄ±rlarÄ±nÄ± indirmek iÃ§in\n\n\n\n\n\nBu paketler kurulu deÄŸilse aÅŸaÄŸÄ±daki kod bloÄŸu ile kurabilirsiniz. Bu kod bloÄŸu, paketi Râ€™a yÃ¼klemeye Ã§alÄ±ÅŸacak, eÄŸer yÃ¼kleyemezse kuracaktÄ±r. Paketler kuruluysa, library() fonksiyonu ile yÃ¼kleyebiliriz.\n\n# eger paketler yuklu degilse onlari kur\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\nif (!require(\"sf\")) install.packages(\"sf\")\nif (!require(\"terra\")) install.packages(\"terra\")\nif (!require(\"tidyterra\")) install.packages(\"tidyterra\")\nif (!require(\"mapview\")) install.packages(\"mapview\")\nif (!require(\"rgeoboundaries\")) remotes::install_github(\"wmgeolab/rgeoboundaries\")\n\n# paketleri R'a yukle\nlibrary(tidyverse) # bircok veri isini kolaylastirmak iÃ§in\nlibrary(sf) # r'da mekansal vektor verileri islemek icin\nlibrary(terra) # r'da mekansal raster verileri islemek icin\nlibrary(tidyterra) # terra ile tidyverse metotlari kullanmak icin\nlibrary(mapview) # interaktif haritalar cizmek icin\nlibrary(rgeoboundaries) # tr ilce sinirlarina erismek icin\n\n\n\n2. Ä°lÃ§e verisinin iÅŸleri\nÄ°kinci soruya cevap verebilmek iÃ§in kuÅŸ, ilÃ§e sÄ±nÄ±rlarÄ± ve dijital yÃ¼kseklik modeline (DEM) ihtiyacÄ±mÄ±z var. Ä°lk ilÃ§eden baÅŸlayalÄ±m. KuÅŸ ve DEM verisini iÅŸlemek iÃ§in ilÃ§eye ihtiyaÃ§ duyacaÄŸÄ±z ne de olsa.\nÄ°lk yazÄ±da olduÄŸu gibi bu sefer de geoBoundaries verisini kullanacaÄŸÄ±z. Åimdi ilÃ§e verilerini indirip, iÃ§inden KÄ±zÄ±lcahamamâ€™Ä± Ã§Ä±kartalÄ±m.\n\ntr_ilce &lt;- gb_adm2(country = \"Turkey\", type = \"SSCGS\") # type = \"SSCGS\" argumaniyla basitlestirilmiÅŸ versiyonunu indiriyoruz\nkhamam &lt;- tr_ilce[tr_ilce$shapeName == \"KÄ±zÄ±lcahamam\", ]\nkhamam\n\nSimple feature collection with 1 feature and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 32.27539 ymin: 40.21093 xmax: 32.91882 ymax: 40.75389\nGeodetic CRS:  WGS 84\n    shapeGroup shapeType    shapeName shapeISO                shapeID\n388        TUR      ADM2 KÄ±zÄ±lcahamam     &lt;NA&gt; 54988432B2925959455693\n    shapeCanonical                       geometry\n388      Districts MULTIPOLYGON (((32.51627 40...\n\n\nKÄ±zÄ±lcahamamâ€™Ä± doÄŸru bir ÅŸekilde aldÄ±k gibi gÃ¶rÃ¼nÃ¼yor. Verimizi {mapview} paketini kullanarak gÃ¶rselleÅŸtirelim, bir kontrol edelim. Bu paket, interaktif haritalar yapmak iÃ§in oldukÃ§a iÅŸlevsel.\n\nmapview(khamam)\n\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi her ÅŸey yolunda. :)\n\n\n3. KuÅŸ verisinin iÅŸleri\n\n\n\nKara akbaba. Kaynak: Johann Andreas Naumannâ€™s â€¦ Naturgeschichte der VÃ¶gel Deutschlandsâ€¦ | Leipzig, G. Fleischer, 1820-1860\n\n\nKara akbaba - Aegypius monachus, Avrasyaâ€™da geniÅŸ daÄŸÄ±lÄ±ma sahip bir yÄ±rtÄ±cÄ± tÃ¼rÃ¼. 3 metreye varan kanat aÃ§Ä±klÄ±ÄŸÄ±yla en bÃ¼yÃ¼k kuÅŸlardan birisi ve azalan bir popÃ¼lasyona sahip. TÃ¼rkiye, tÃ¼rÃ¼n en Ã¶nemli yaÅŸam alanlarÄ±ndan birisi. TÃ¼r, Ã¶zellikle Kuzey Anadoluâ€™da, orman - bozkÄ±r geÃ§iÅŸindeki yaÅŸlÄ± ormanlarÄ± tercih ediyor. Bu alanlardan birisi de bu yazÄ±da incelediÄŸimiz yer olan KÄ±zÄ±lcahamam. KÄ±zÄ±lcahamamâ€™Ä±n yaÅŸlÄ± karaÃ§am - Pinus nigra ormanlarÄ±, tÃ¼rÃ¼n Ã¼remesi iÃ§in oldukÃ§a elveriÅŸli.\nTÃ¼rle alakalÄ± kÄ±sa bir bilgi verdikten sonra verilere tekrardan dÃ¶nebiliriz. KuÅŸ verisini nasÄ±l elde ettiÄŸimize ilk yazÄ±da deÄŸinmiÅŸtik. Tekrardan uzun uzun anlatmaya gerek yok.\nÃ–ncelikle kuÅŸ verimizi Râ€™a yÃ¼kleyelim:\n\nebird &lt;- read_delim(\"./ebird/ebd_TR_relApr-2023.txt\")\n\n\nprint(ebird)\n\n# A tibble: 2,403,720 Ã— 50\n   `GLOBAL UNIQUE IDENTIFIER`     `LAST EDITED DATE`  `TAXONOMIC ORDER` CATEGORY\n   &lt;chr&gt;                          &lt;dttm&gt;                          &lt;dbl&gt; &lt;chr&gt;   \n 1 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:59:44             10043 species \n 2 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:58:56              5625 species \n 3 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 13:04:32              1361 species \n 4 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:13             22215 species \n 5 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32              5787 species \n 6 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-21 02:26:13             29239 species \n 7 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:35             22156 species \n 8 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32               291 species \n 9 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n10 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n# â„¹ 2,403,710 more rows\n# â„¹ 46 more variables: `TAXON CONCEPT ID` &lt;chr&gt;, `COMMON NAME` &lt;chr&gt;,\n#   `SCIENTIFIC NAME` &lt;chr&gt;, `SUBSPECIES COMMON NAME` &lt;chr&gt;,\n#   `SUBSPECIES SCIENTIFIC NAME` &lt;chr&gt;, `EXOTIC CODE` &lt;chr&gt;,\n#   `OBSERVATION COUNT` &lt;chr&gt;, `BREEDING CODE` &lt;chr&gt;,\n#   `BREEDING CATEGORY` &lt;chr&gt;, `BEHAVIOR CODE` &lt;chr&gt;, `AGE/SEX` &lt;chr&gt;,\n#   COUNTRY &lt;chr&gt;, `COUNTRY CODE` &lt;chr&gt;, STATE &lt;chr&gt;, `STATE CODE` &lt;chr&gt;, â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi 2,403,720 gÃ¶zlem (satÄ±r) ve 50 deÄŸiÅŸkene (sÃ¼tun) sahip bir veri tablomuz var. Bu verilerin Ã§oÄŸuna ihtiyaÃ§ duymuyoruz. DolayÄ±sÄ±yla iÅŸimize yaramayanlardan kurtulmamÄ±z iÅŸimizi Ã§okÃ§a kolaylaÅŸtÄ±racaktÄ±r. Sadece iÅŸimize yarayan sÃ¼tunlarÄ± seÃ§ip, kara akbaba tÃ¼rÃ¼ne ait gÃ¶zlemleri iÃ§erecek ÅŸekilde filtreleyelim.\n\nkaraakbaba &lt;- ebird |&gt;\n  select(6, 7, 11, 12, 29, 30) |&gt;  # burada indeks kullanarak sectik, sutun isimleriyle de secebiliriz\n  filter(`SCIENTIFIC NAME` == \"Aegypius monachus\")\nkaraakbaba\n\n# A tibble: 1,910 Ã— 6\n   `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE` LATITUDE\n   &lt;chr&gt;          &lt;chr&gt;             &lt;chr&gt;               &lt;chr&gt;              &lt;dbl&gt;\n 1 Cinereous Vulâ€¦ Aegypius monachus 1                   &lt;NA&gt;                40.5\n 2 Cinereous Vulâ€¦ Aegypius monachus 5                   &lt;NA&gt;                40.5\n 3 Cinereous Vulâ€¦ Aegypius monachus 1                   &lt;NA&gt;                40.0\n 4 Cinereous Vulâ€¦ Aegypius monachus 3                   &lt;NA&gt;                40.5\n 5 Cinereous Vulâ€¦ Aegypius monachus 1                   &lt;NA&gt;                40.5\n 6 Cinereous Vulâ€¦ Aegypius monachus 1                   &lt;NA&gt;                40.5\n 7 Cinereous Vulâ€¦ Aegypius monachus 2                   &lt;NA&gt;                40.5\n 8 Cinereous Vulâ€¦ Aegypius monachus 2                   &lt;NA&gt;                40.5\n 9 Cinereous Vulâ€¦ Aegypius monachus 1                   &lt;NA&gt;                40.5\n10 Cinereous Vulâ€¦ Aegypius monachus 2                   &lt;NA&gt;                40.5\n# â„¹ 1,900 more rows\n# â„¹ 1 more variable: LONGITUDE &lt;dbl&gt;\n\n\nÅimdi deÄŸiÅŸken sayÄ±mÄ±z 6â€™ya, gÃ¶zlem sayÄ±mÄ±z ise 1910â€™a dÃ¼ÅŸtÃ¼. Veri, Ã§ok daha yÃ¶netilebilir bir hÃ¢lde. Bu etkiyi, deÄŸiÅŸken isimlerini deÄŸiÅŸtirerek daha da artÄ±rabiliriz. Daha kÄ±sa, tamamÄ± kÃ¼Ã§Ã¼k harflerden oluÅŸan, latinize ve boÅŸluklar yerine alt Ã§izgi kullandÄ±ÄŸÄ±mÄ±z isimler daha kullanÄ±ÅŸlÄ± olacaktÄ±r. Herhangi bir hatayla karÅŸÄ±laÅŸma riskimiz dÃ¼ÅŸecektir. Bunun iÃ§in ilk olarak karaakbaba data frameâ€™inin deÄŸiÅŸken (sÃ¼tun) isimlerine bakalÄ±m. names() ya da colnames() fonksiyonunu kullanabiliriz.\n\nnames(karaakbaba)\n\n[1] \"COMMON NAME\"       \"SCIENTIFIC NAME\"   \"OBSERVATION COUNT\"\n[4] \"BREEDING CODE\"     \"LATITUDE\"          \"LONGITUDE\"        \n\n\nÅimdi de yeni isimlerden oluÅŸan bir karakter vektÃ¶rÃ¼ oluÅŸturalÄ±m ve bunu karaakbaba data frameâ€™inin deÄŸiÅŸken isimlerine atayalÄ±m.\n\nnames(karaakbaba) &lt;- c(\n  \"eng_name\", \"sci_name\", \"obs_count\", \"breeding_code\", \"y\", \"x\"\n)\nnames(karaakbaba)\n\n[1] \"eng_name\"      \"sci_name\"      \"obs_count\"     \"breeding_code\"\n[5] \"y\"             \"x\"            \n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi deÄŸiÅŸken isimlerini istediÄŸimiz gibi deÄŸiÅŸtirdik.\nArtÄ±k ilk yÃ¼klediÄŸimiz eBird verisini Râ€™dan silebiliriz. Bu veri, 2 milyondan fazla gÃ¶zlemden oluÅŸtuÄŸu iÃ§in RAMâ€™in ÅŸiÅŸmesine ve Râ€™Ä±n Ã§Ã¶kmesine yol aÃ§abilir. ArdÄ±ndan da Ã§Ã¶p toplayÄ±cÄ±yÄ± (garbage collector) Ã§alÄ±ÅŸtÄ±rmak faydalÄ± olacaktÄ±r. R, bu iÅŸi genelde otomatik yapÄ±yor ancak bÃ¼yÃ¼k veriler silindiÄŸi zaman gc()â€™nin Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ± Ã¶neriliyor.\n\nrm(ebird)\ngc()\n\n          used  (Mb) gc trigger  (Mb)  max used   (Mb)\nNcells 3669505 196.0   10528268 562.3   7274158  388.5\nVcells 8013745  61.2  125198234 955.2 145040810 1106.6\n\n\nÅimdi de mekÃ¢nsallaÅŸtÄ±rmaya geÃ§ebiliriz. Verimiz ÅŸu anda bir data frame. DolayÄ±sÄ±yla onunla mekÃ¢nsal iÅŸler yapmak iÃ§in verimizi mekÃ¢nsallaÅŸtÄ±rmamÄ±z gerekiyor. Bunun iÃ§in {sf} paketini kullanacaÄŸÄ±z. Bu paket, mekÃ¢nsal vektÃ¶r veriler iÅŸlemek iÃ§in geliÅŸtirmiÅŸ, OGC (Open Geospatial Consortium) standardÄ± bir paket. Ben de iÅŸlerimin bÃ¼yÃ¼k bir kÄ±smÄ±nda onu tercih ediyorum.\nKoordinatlarÄ±n olduÄŸu sÃ¼tunlarÄ± ve koordinat sistemini tanÄ±mlayarak verimizi sf objesine dÃ¶nÃ¼ÅŸtÃ¼relim.\n\nkaraakbaba_sf &lt;- st_as_sf(\n  karaakbaba, coords = c(\"x\", \"y\"), crs = \"EPSG:4326\"\n)\nkaraakbaba_sf\n\nSimple feature collection with 1910 features and 4 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 26.50652 ymin: 36.02635 xmax: 44.5648 ymax: 42.0362\nGeodetic CRS:  WGS 84\n# A tibble: 1,910 Ã— 5\n   eng_name          sci_name  obs_count breeding_code            geometry\n * &lt;chr&gt;             &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;                 &lt;POINT [Â°]&gt;\n 1 Cinereous Vulture Aegypiusâ€¦ 1         &lt;NA&gt;          (32.62995 40.46758)\n 2 Cinereous Vulture Aegypiusâ€¦ 5         &lt;NA&gt;          (32.62995 40.46758)\n 3 Cinereous Vulture Aegypiusâ€¦ 1         &lt;NA&gt;          (34.61423 40.01914)\n 4 Cinereous Vulture Aegypiusâ€¦ 3         &lt;NA&gt;          (32.62995 40.46758)\n 5 Cinereous Vulture Aegypiusâ€¦ 1         &lt;NA&gt;           (32.6622 40.48013)\n 6 Cinereous Vulture Aegypiusâ€¦ 1         &lt;NA&gt;           (32.62403 40.4557)\n 7 Cinereous Vulture Aegypiusâ€¦ 2         &lt;NA&gt;           (32.62403 40.4557)\n 8 Cinereous Vulture Aegypiusâ€¦ 2         &lt;NA&gt;           (32.62403 40.4557)\n 9 Cinereous Vulture Aegypiusâ€¦ 1         &lt;NA&gt;           (32.62403 40.4557)\n10 Cinereous Vulture Aegypiusâ€¦ 2         &lt;NA&gt;           (32.62403 40.4557)\n# â„¹ 1,900 more rows\n\n\nKara akbaba verisi artÄ±k mekÃ¢nsal bir formatta. Geometri tipi, koordinat sistemi gibi Ã¶znitelikler barÄ±ndÄ±rÄ±yor.\nVeriyi daha iyi tanÄ±mak iÃ§in ilk gÃ¶rselleÅŸtirmeleri yapalÄ±m. Acaba kara akbabalar TÃ¼rkiyeâ€™de nasÄ±l daÄŸÄ±lÄ±yor? Bunun iÃ§in tekrardan mapview() fonksiyonunu kullanÄ±yoruz.\n\nmapview(karaakbaba_sf)\n\n\n\n\n\nBu iÅŸlem de tamam. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Ã¼lkemizin kuzeyinde yoÄŸunlaÅŸan bir popÃ¼lasyon mevcut.\nSÄ±ra geldi kuÅŸ verimizin KÄ±zÄ±lcahamamâ€™a gÃ¶re alt kÃ¼mesini almaya.\n\nkaraakbaba_subset &lt;- karaakbaba_sf[khamam, ]\nkaraakbaba_subset\n\nSimple feature collection with 139 features and 4 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 32.29039 ymin: 40.24768 xmax: 32.8661 ymax: 40.64056\nGeodetic CRS:  WGS 84\n# A tibble: 139 Ã— 5\n   eng_name          sci_name  obs_count breeding_code            geometry\n   &lt;chr&gt;             &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;                 &lt;POINT [Â°]&gt;\n 1 Cinereous Vulture Aegypiusâ€¦ 1         &lt;NA&gt;          (32.62995 40.46758)\n 2 Cinereous Vulture Aegypiusâ€¦ 5         &lt;NA&gt;          (32.62995 40.46758)\n 3 Cinereous Vulture Aegypiusâ€¦ 3         &lt;NA&gt;          (32.62995 40.46758)\n 4 Cinereous Vulture Aegypiusâ€¦ 1         &lt;NA&gt;           (32.6622 40.48013)\n 5 Cinereous Vulture Aegypiusâ€¦ 1         &lt;NA&gt;           (32.62403 40.4557)\n 6 Cinereous Vulture Aegypiusâ€¦ 2         &lt;NA&gt;           (32.62403 40.4557)\n 7 Cinereous Vulture Aegypiusâ€¦ 2         &lt;NA&gt;           (32.62403 40.4557)\n 8 Cinereous Vulture Aegypiusâ€¦ 1         &lt;NA&gt;           (32.62403 40.4557)\n 9 Cinereous Vulture Aegypiusâ€¦ 2         &lt;NA&gt;           (32.62403 40.4557)\n10 Cinereous Vulture Aegypiusâ€¦ 2         &lt;NA&gt;           (32.62403 40.4557)\n# â„¹ 129 more rows\n\n\nKÄ±zÄ±lcahamamâ€™da, eBird veritabanÄ±nda kayÄ±tlÄ± 139 tane kara akbaba kaydÄ± varmÄ±ÅŸ. Bunlara bir gÃ¶z atÄ±p DEM verisiyle ilgilenmeye baÅŸlayalÄ±m. Kara akbaba daÄŸÄ±lÄ±mÄ±yla alakalÄ± asÄ±l haritayÄ± en son yapacaÄŸÄ±z.\n\nplot(\n  st_geometry(khamam), \n  main = \"KÄ±zÄ±lcahamam'da Kara Akbaba DaÄŸÄ±lÄ±mÄ±\", \n  lwd = 2, \n  border = \"grey30\", \n  axes = TRUE, \n  reset = FALSE\n) \nplot(\n  st_geometry(karaakbaba_subset), \n  cex = 1, \n  pch = 3, \n  lwd = 1.5, \n  add = TRUE\n)\n\n\n\n\n\n\n\n\nHemen hÄ±zlÄ±ca mapview ile de bakalÄ±m.\n\nmapview(khamam, lwd = 3, alpha.regions = 0) + mapview(karaakbaba_subset)\n\n\n\n\n\n\n\n4. DEM verisinin iÅŸleri\nKara akbabanÄ±n KÄ±zÄ±lcahamamâ€™daki daÄŸÄ±lÄ±mÄ±nÄ± ortaya Ã§Ä±karttÄ±k. Åimdi de bazÄ± Ã§evresel deÄŸiÅŸkenlerle iliÅŸkisi nasÄ±lmÄ±ÅŸ, -kabaca- ona bakalÄ±m. Ben, topografik deÄŸiÅŸkenlerle olan iliÅŸkisini merak ettim ve bu sebeple DEM verisine bakacaÄŸÄ±z.\nDEM (Digital Elevation Model), kÄ±saca, yeryÃ¼zÃ¼nÃ¼n yÃ¼kseklik bilgisini sayÄ±sal olarak temsil eden modele verilen isim. Her bir grid iÃ§in, sahip olduÄŸu yÃ¼kseklik verisini barÄ±ndÄ±rÄ±r. Topografik ve hidrolojik birÃ§ok analizde sÄ±klÄ±kla kullanÄ±lÄ±yor. RakÄ±mÄ±n biyolojik sistemlerdeki Ã¶nemi nedeniyle, ekoloji ve biyocoÄŸrafyada da yaygÄ±n bir kullanÄ±mÄ± var.\nBurada COP-DEM (Copernicus DEM) kullandÄ±m. Veriye ÅŸu baÄŸlantÄ±dan ulaÅŸabilirsiniz. Belki daha sonra bu verinin nereden, nasÄ±l indirilebileceÄŸiyle alakalÄ± bir baÅŸka yazÄ± yazarÄ±m.\n\n\n\nRaster veri tipi. Kaynak: Geocomputation with R\n\n\nDEM verisi, raster formatÄ±nda bir veri. Raster veriyi, bir tÃ¼r resim ya da bir tÃ¼r matris olarak dÃ¼ÅŸÃ¼nebilirsiniz. Bu veri, hÃ¼crelerden - gridlerden oluÅŸur ve her bir grid iÃ§in bir deÄŸer iÃ§erir. Genellikle, yÃ¼kseklik, eÄŸim, sÄ±caklÄ±k, yaÄŸÄ±ÅŸ gibi sÃ¼rekli veriler bu formattadÄ±r.\nBiz bu veri iÃ§in {terra} paketini kullanacaÄŸÄ±z. OldukÃ§a hÄ±zlÄ± ve iÅŸlevsel bir paket.\n\n# dem verisini yukleyelim\ndem &lt;- rast(\"./dem_4326.tif\")\ndem\n\nclass       : SpatRaster \ndimensions  : 7556, 22983, 1  (nrow, ncol, nlyr)\nresolution  : 0.0008333333, 0.0008333333  (x, y)\nextent      : 25.66542, 44.81792, 35.80792, 42.10458  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : dem_4326.tif \nname        : Copernicus_DSM_COG_30_N35_00_E025_00_DEM \nmin value   :                                -86.01817 \nmax value   :                               5107.41357 \n\n\nVeriyi yazdÄ±rdÄ±ÄŸÄ±mÄ±zda, Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼nden, dÃ¶rt kÃ¶ÅŸesinin koordinatÄ±na ve koordinat sistemine kadar birÃ§ok detayÄ± gÃ¶rebiliyoruz.\n\nplot(dem)\n\n\n\n\n\n\n\n\nKolayca haritasÄ±nÄ± da Ã§izebiliyoruz. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi TÃ¼rkiye topografik haritasÄ±.\nÅimdi verimizi KÄ±zÄ±lcahamam ilÃ§e sÄ±nÄ±rlarÄ±na gÃ¶re maskeleyelim. khamam, sf formatÄ±nda olduÄŸu iÃ§in vect() ile {terra}â€™nÄ±n kendi vektÃ¶r veri tipi olan SpatVectorâ€™e dÃ¶nÃ¼ÅŸtÃ¼rÃ¼yoruz.\n\ndem_subset &lt;- crop(dem, vect(khamam), mask = TRUE)\ndem_subset\n\nclass       : SpatRaster \ndimensions  : 651, 772, 1  (nrow, ncol, nlyr)\nresolution  : 0.0008333333, 0.0008333333  (x, y)\nextent      : 32.27542, 32.91875, 40.21125, 40.75375  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource(s)   : memory\nvarname     : dem_4326 \nname        : Copernicus_DSM_COG_30_N35_00_E025_00_DEM \nmin value   :                                 749.5305 \nmax value   :                                2069.5696 \n\n\n\nplot(dem_subset)\n\n\n\n\n\n\n\n\n\n\n5. Topografik hesaplamalar\nterrain() ile eÄŸim ve bakÄ±yÄ± hesaplayalÄ±m.\n\nslp &lt;- terrain(dem_subset, \"slope\")\nasp &lt;- terrain(dem_subset, \"aspect\")\n\n\npar(mfrow = c(1, 2))\nplot(slp, main = \"KÄ±zÄ±lcahamam EÄŸim HaritasÄ±\")\nplot(asp, main = \"KÄ±zÄ±lcahamam BakÄ± HaritasÄ±\")\n\n\n\n\n\n\n\n\nÅimdi de her bir kara akbaba gÃ¶zlem noktasÄ±nÄ±n sahip olduÄŸu Ã§evresel deÄŸiÅŸkenleri Ã§Ä±kartalÄ±m ve ardÄ±ndan karaakbaba verisiyle birleÅŸtirelim.\n\nkaraakbaba_subset$ID &lt;- 1:nrow(karaakbaba_subset)\n\next_dem &lt;- extract(dem, vect(karaakbaba_subset))\next_slp &lt;- extract(slp, vect(karaakbaba_subset))\next_asp &lt;- extract(asp, vect(karaakbaba_subset))\n\next_dem &lt;- left_join(karaakbaba_subset, ext_dem, by = \"ID\")\next_slp &lt;- left_join(ext_dem, ext_slp, by = \"ID\")\next_asp &lt;- left_join(ext_slp, ext_asp, by = \"ID\")\n\nkaraakbaba_ext &lt;- ext_asp\nnames(karaakbaba_ext)[7] &lt;- \"altitude\"\nglimpse(karaakbaba_ext)\n\nRows: 139\nColumns: 9\n$ eng_name      &lt;chr&gt; \"Cinereous Vulture\", \"Cinereous Vulture\", \"Cinereous Vulâ€¦\n$ sci_name      &lt;chr&gt; \"Aegypius monachus\", \"Aegypius monachus\", \"Aegypius monaâ€¦\n$ obs_count     &lt;chr&gt; \"1\", \"5\", \"3\", \"1\", \"1\", \"2\", \"2\", \"1\", \"2\", \"2\", \"2\", \"â€¦\n$ breeding_code &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, â€¦\n$ geometry      &lt;POINT [Â°]&gt; POINT (32.62995 40.46758), POINT (32.62995 40.4675â€¦\n$ ID            &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1â€¦\n$ altitude      &lt;dbl&gt; 1058.8070, 1058.8070, 1058.8070, 1045.1802, 1136.2458, 1â€¦\n$ slope         &lt;dbl&gt; 11.188035, 11.188035, 11.188035, 22.408733, 11.157285, 1â€¦\n$ aspect        &lt;dbl&gt; 309.599090, 309.599090, 309.599090, 242.915925, 7.856463â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi kara akbaba verimizin iÃ§inde artÄ±k her bir nokta iÃ§in rakÄ±m, eÄŸim ve bakÄ± bilgisi mevcut. Bu aÅŸamadan sonra modellerle Ã§alÄ±ÅŸabiliriz ancak bu, bu yazÄ±nÄ±n konusu deÄŸil. AyrÄ±ca elimizdeki veri bunun iÃ§in ne kadar yeterli, ayrÄ± bir tartÄ±ÅŸma konusu. Åimdi Ã§Ä±karttÄ±ÄŸÄ±mÄ±z topografik verilere bir gÃ¶z atÄ±p asÄ±l haritamÄ±zÄ± yapmaya geÃ§ebiliriz.\n\nkaraakbaba_ext |&gt;\n  st_drop_geometry() |&gt;\n  pivot_longer(cols = c(\"altitude\", \"slope\", \"aspect\")) |&gt; \n  ggplot(aes(x = value, fill = name, colour = \"name\")) +\n  geom_histogram(alpha = .6) +\n  scale_fill_viridis_d() +\n  scale_color_viridis_d() +\n  theme_minimal() +    \n  theme(\n    legend.position=\"none\",\n  ) + \n  facet_wrap(~name, scales = \"free_x\")\n\n\n\n\n\n\n\n\n\n\n6. Verinin gÃ¶rselleÅŸtirilmesi\nUzun bir yazÄ± oldu yine ancak sonuna geldik. Åimdi KÄ±zÄ±lcahamamâ€™daki kara akbaba gÃ¶zlemlerinin daÄŸÄ±lÄ±mÄ±nÄ±, DEM ile birlikte gÃ¶rselleÅŸtirmeye Ã§alÄ±ÅŸalÄ±m.\n\nggplot() +              # grafigi baslatiyor\n  geom_spatraster(      # dem verisini ekliyoruz\n    data = dem_subset,\n    na.rm = TRUE\n  ) +\n  geom_sf(              # kizilcahamam ilce sinirlarini ekliyoruz\n    data = khamam,\n    fill = NA\n  ) +\n  geom_sf(              # kara akbaba gozlem verisini ekliyoruz\n    data = karaakbaba_subset,\n    aes()\n  ) +\n  scale_fill_wiki_c() + # dem verisi icin renk paleti ekliyoruz\n  labs(                 # etiketleri yaziyoruz\n    title = \"Kara Akbaba DaÄŸÄ±lÄ±m HaritasÄ±\",\n    subtitle = \"KÄ±zÄ±lcahamam'daki kara akbaba gÃ¶zlemlerinin daÄŸÄ±lÄ±mÄ±\",\n    fill = \"YÃ¼kseklik (m)\",\n    caption = \"Veri: eBird | COP-DEM\"\n  ) +\n  theme_minimal() +     # tema seciyoruz\n  theme(                # temanin ozelliklerini belirliyoruz\n    plot.background = element_rect(\"white\", colour = \"white\"),\n    text = element_text(family = \"ubuntu mono\")\n  )\n\n\n\n\n\n\n\n\nGÃ¼zel oldu sanki. :)\nBilimle ve huzurla kalÄ±nÄ±z."
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#yazÄ±nÄ±n-akÄ±ÅŸÄ±",
    "href": "posts/ebird_R/ebird_r.html#yazÄ±nÄ±n-akÄ±ÅŸÄ±",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi I",
    "section": "YazÄ±nÄ±n AkÄ±ÅŸÄ±",
    "text": "YazÄ±nÄ±n AkÄ±ÅŸÄ±\nYazÄ±nÄ±n genel akÄ±ÅŸÄ± aÅŸaÄŸÄ±daki gibidir:\n\nGerekli paketlerin yÃ¼klenmesi\nKuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nKuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nTR il katmanÄ±nÄ±n yÃ¼klenmesi\nKuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nHer bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nVerinin gÃ¶rselleÅŸtirilmesi"
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#gerekli-paketlerin-yÃ¼klenmesi",
    "href": "posts/ebird_R/ebird_r.html#gerekli-paketlerin-yÃ¼klenmesi",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi I",
    "section": "1. Gerekli paketlerin yÃ¼klenmesi",
    "text": "1. Gerekli paketlerin yÃ¼klenmesi\n\n\n\n\n\n\n\n\n\nPaket\nAÃ§Ä±klama\n\n\n\n\ntidyverse\nÃ‡oÄŸunlukla veri manipÃ¼lasyonu ve gÃ¶rselleÅŸtirme Ã¼zerine paketler iÃ§eren bir paket koleksiyonu\n\n\nsf\nSimple Features: MekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in\n\n\nrgeoboundaries\nMÃ¼lki idare sÄ±nÄ±rlarÄ±nÄ± indirmek iÃ§in\n\n\n\n\n\nEÄŸer bu paketler kurulu deÄŸilse aÅŸaÄŸÄ±daki kod bloÄŸu ile kurabilirsiniz. Bu kod bloÄŸu, paketi Râ€™a yÃ¼klemeye Ã§alÄ±ÅŸacak, eÄŸer yÃ¼kleyemezse kuracaktÄ±r. EÄŸer kurulumda sÄ±kÄ±ntÄ± yaÅŸarsanÄ±z paketlerin dÃ¶kÃ¼mantasyonuna bakabilirsiniz.\n\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\nif (!require(\"sf\")) install.packages(\"sf\")\nif (!require(\"rgeoboundaries\")) install.packages(\"rgeoboundaries\")\n\nEÄŸer paketler kuruluysa, bu paketleri library() fonksiyonu ile yÃ¼kleyebiliriz.\n\nlibrary(tidyverse) # bircok veri isini kolaylastirmak icin\nlibrary(sf) # r'da mekansal vektor verileri islemek icin\nlibrary(rgeoboundaries) # tr il sinirlarina erismek icin"
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#kuÅŸ-verisinin-yÃ¼klenip-bu-yazÄ±-iÃ§in-gerekli-olan-alt-kÃ¼mesinin-alÄ±nmasÄ±",
    "href": "posts/ebird_R/ebird_r.html#kuÅŸ-verisinin-yÃ¼klenip-bu-yazÄ±-iÃ§in-gerekli-olan-alt-kÃ¼mesinin-alÄ±nmasÄ±",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi I",
    "section": "2. KuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±",
    "text": "2. KuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nYazÄ±mÄ±zdaki ilk soruya cevap verebilmek iÃ§in iki temel veriye ihtiyacÄ±mÄ±z var. Bunlar kuÅŸ ve TÃ¼rkiyeâ€™nin il sÄ±nÄ±rlarÄ± verileri.\nKuÅŸ verisini eBird veri tabanÄ±ndan alacaÄŸÄ±z. eBird, TÃ¼rkiye ve dÃ¼nyadaki en kapsamlÄ± kuÅŸ gÃ¶zlem veri tabanÄ±. KuÅŸ gÃ¶zlemcileri araziye Ã§Ä±ktÄ±klarÄ±nda gÃ¶zlemledikleri kuÅŸlarÄ± bu veri tabanÄ±na kaydediyor, bu ÅŸekilde bilime ve doÄŸa korumaya katkÄ± saÄŸlayabiliyorlar.\neBird verilerini siteye Ã¼ye olduktan sonra, en altta, Bilim baÅŸlÄ±ÄŸÄ± altÄ±ndaki Veri indirme talebi sayfasÄ±ndan ya da {rebird} paketini kullanarak indirebilirsiniz. Ben, site Ã¼zerinden tÃ¼m TÃ¼rkiye verilerini indirdim.\nÄ°lk adÄ±m olarak indirdiÄŸimiz eBird verisini Râ€™a yÃ¼kleyelim. Bu veri txt formatÄ±nda olduÄŸu iÃ§in, {tidyverse} paket grubuna ait read_delim() fonksiyonunu kullandÄ±k. Base Râ€™daki read.table() fonksiyonu da bu iÅŸ iÃ§in kullanÄ±labilir. Veri biraz bÃ¼yÃ¼k olduÄŸundan yÃ¼klenmesi ve iÅŸlenmesi biraz zaman alabilir.\n\nebird &lt;- read_delim(\"./ebird/ebd_TR_relApr-2023.txt\")\n\n\nprint(ebird)\n\n# A tibble: 2,403,720 Ã— 50\n   `GLOBAL UNIQUE IDENTIFIER`     `LAST EDITED DATE`  `TAXONOMIC ORDER` CATEGORY\n   &lt;chr&gt;                          &lt;dttm&gt;                          &lt;dbl&gt; &lt;chr&gt;   \n 1 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:59:44             10043 species \n 2 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:58:56              5625 species \n 3 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 13:04:32              1361 species \n 4 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:13             22215 species \n 5 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32              5787 species \n 6 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-21 02:26:13             29239 species \n 7 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:35             22156 species \n 8 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32               291 species \n 9 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n10 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n# â„¹ 2,403,710 more rows\n# â„¹ 46 more variables: `TAXON CONCEPT ID` &lt;chr&gt;, `COMMON NAME` &lt;chr&gt;,\n#   `SCIENTIFIC NAME` &lt;chr&gt;, `SUBSPECIES COMMON NAME` &lt;chr&gt;,\n#   `SUBSPECIES SCIENTIFIC NAME` &lt;chr&gt;, `EXOTIC CODE` &lt;chr&gt;,\n#   `OBSERVATION COUNT` &lt;chr&gt;, `BREEDING CODE` &lt;chr&gt;,\n#   `BREEDING CATEGORY` &lt;chr&gt;, `BEHAVIOR CODE` &lt;chr&gt;, `AGE/SEX` &lt;chr&gt;,\n#   COUNTRY &lt;chr&gt;, `COUNTRY CODE` &lt;chr&gt;, STATE &lt;chr&gt;, `STATE CODE` &lt;chr&gt;, â€¦\n\n\nVerimizi Râ€™a yÃ¼kledikten sonra print() fonksiyonu ile veri setimizin temel yapÄ±sÄ±na bir gÃ¶z attÄ±k. 2,403,720 gÃ¶zlem (satÄ±r) ve 50 deÄŸiÅŸkene (sÃ¼tun) sahip bir tibble karÅŸÄ±mÄ±za Ã§Ä±ktÄ±. tibble, {tidyverse}â€™e Ã¶zel klasik data.frameâ€™den daha kullanÄ±ÅŸlÄ± bir veri yapÄ±sÄ±dÄ±r. Ã–zel bir data.frame diyebiliriz. Ancak bu kadar fazla deÄŸiÅŸkenimiz varken print() fonksiyonu yeterince iÅŸlevsel deÄŸil. Verinin bÃ¼yÃ¼k bir kÄ±smÄ±nÄ± gÃ¶remiyoruz. Bu sebeple, Râ€™a yÃ¼klediÄŸimiz veri tablosunun tÃ¼m sÃ¼tunlarÄ±nÄ± ve onlarÄ±n yapÄ±larÄ±nÄ± gÃ¶rmek iÃ§in glimpse() fonksiyonunu kullanacaÄŸÄ±z. Bu fonksiyon, base Râ€™daki str() fonksiyonuna benziyor ancak tibble veri yapÄ±sÄ±yla kullanÄ±lÄ±rken daha sade ve kullanÄ±ÅŸlÄ±. Ã–zetle, bu fonksiyonu, print() fonksiyonunun transpoze edilmiÅŸ hÃ¢li olarak gÃ¶rebilirsiniz.\n\nglimpse(ebird)\n\nRows: 2,403,720\nColumns: 50\n$ `GLOBAL UNIQUE IDENTIFIER`   &lt;chr&gt; \"URN:CornellLabOfOrnithology:EBIRD:OBS112â€¦\n$ `LAST EDITED DATE`           &lt;dttm&gt; 2021-04-15 12:59:44, 2021-04-15 12:58:56â€¦\n$ `TAXONOMIC ORDER`            &lt;dbl&gt; 10043, 5625, 1361, 22215, 5787, 29239, 22â€¦\n$ CATEGORY                     &lt;chr&gt; \"species\", \"species\", \"species\", \"speciesâ€¦\n$ `TAXON CONCEPT ID`           &lt;chr&gt; \"avibase-4F404CB9\", \"avibase-77845DAD\", \"â€¦\n$ `COMMON NAME`                &lt;chr&gt; \"Indian Roller\", \"Siberian Crane\", \"Blackâ€¦\n$ `SCIENTIFIC NAME`            &lt;chr&gt; \"Coracias benghalensis\", \"Leucogeranus leâ€¦\n$ `SUBSPECIES COMMON NAME`     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SUBSPECIES SCIENTIFIC NAME` &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EXOTIC CODE`                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `OBSERVATION COUNT`          &lt;chr&gt; \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"â€¦\n$ `BREEDING CODE`              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BREEDING CATEGORY`          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BEHAVIOR CODE`              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `AGE/SEX`                    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ COUNTRY                      &lt;chr&gt; \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiyeâ€¦\n$ `COUNTRY CODE`               &lt;chr&gt; \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\",â€¦\n$ STATE                        &lt;chr&gt; \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbuâ€¦\n$ `STATE CODE`                 &lt;chr&gt; \"TR-41\", \"TR-06\", \"TR-34\", \"TR-34\", \"TR-3â€¦\n$ COUNTY                       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `COUNTY CODE`                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `IBA CODE`                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BCR CODE`                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `USFWS CODE`                 &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `ATLAS BLOCK`                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ LOCALITY                     &lt;chr&gt; \"Haydarpasa-Izmit Yolu\", \"Ankara\", \"Istanâ€¦\n$ `LOCALITY ID`                &lt;chr&gt; \"L14466142\", \"L14465903\", \"L14465858\", \"Lâ€¦\n$ `LOCALITY TYPE`              &lt;chr&gt; \"P\", \"P\", \"P\", \"H\", \"H\", \"H\", \"P\", \"H\", \"â€¦\n$ LATITUDE                     &lt;dbl&gt; 40.78331, 39.92951, 41.00805, 40.99209, 3â€¦\n$ LONGITUDE                    &lt;dbl&gt; 29.47437, 32.85443, 28.97673, 28.83948, 3â€¦\n$ `OBSERVATION DATE`           &lt;date&gt; 1875-06-01, 1879-04-01, 1890-12-01, 1896â€¦\n$ `TIME OBSERVATIONS STARTED`  &lt;time&gt;       NA,       NA,       NA,       NA, â€¦\n$ `OBSERVER ID`                &lt;chr&gt; \"obsr1979154\", \"obsr1979154\", \"obsr197915â€¦\n$ `SAMPLING EVENT IDENTIFIER`  &lt;chr&gt; \"S85596027\", \"S85594679\", \"S85597213\", \"Sâ€¦\n$ `PROTOCOL TYPE`              &lt;chr&gt; \"Historical\", \"Historical\", \"Historical\",â€¦\n$ `PROTOCOL CODE`              &lt;chr&gt; \"P62\", \"P62\", \"P62\", \"P62\", \"P62\", \"P62\",â€¦\n$ `PROJECT CODE`               &lt;chr&gt; \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRâ€¦\n$ `DURATION MINUTES`           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT DISTANCE KM`         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT AREA HA`             &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `NUMBER OBSERVERS`           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 1, 1, 1, â€¦\n$ `ALL SPECIES REPORTED`       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ `GROUP IDENTIFIER`           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `HAS MEDIA`                  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ APPROVED                     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REVIEWED                     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REASON                       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `TRIP COMMENTS`              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SPECIES COMMENTS`           &lt;chr&gt; \"Collected (Sclator & Taylor, 1876)., Kirâ€¦\n$ ...50                        &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n\n\nBu fonksiyon sayesinde sÃ¼tunlarÄ± Ã§ok daha rahat bir ÅŸekilde gÃ¶rebiliyoruz. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi bu yazÄ± iÃ§in iÅŸimize yaramayacak olan bir sÃ¼rÃ¼ sÃ¼tun var. KalabalÄ±kta kaybolmamak iÃ§in yalnÄ±zca iÅŸimize yarayabilecek sÃ¼tunlarÄ± seÃ§elim. ArdÄ±ndan da sadece tÃ¼r kaydÄ± olan gÃ¶zlemleri seÃ§mek iÃ§in speciesâ€™e gÃ¶re filtreleyelim.\n\nebird_subset &lt;- ebird |&gt;\n  select(4, 6, 7, 11, 12, 18, 29, 30) |&gt;  # burada indeks kullanarak sectik, sutun isimleriyle de secebiliriz\n  filter(CATEGORY == \"species\")\nebird_subset\n\n# A tibble: 2,298,920 Ã— 8\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n   &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;             &lt;chr&gt;               &lt;chr&gt;          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   &lt;NA&gt;           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   &lt;NA&gt;           \n 3 species  Black Grouse   Lyrurus tetrix    X                   &lt;NA&gt;           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   &lt;NA&gt;           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   &lt;NA&gt;           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   &lt;NA&gt;           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   &lt;NA&gt;           \n 8 species  Brant          Branta bernicla   1                   &lt;NA&gt;           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   &lt;NA&gt;           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   &lt;NA&gt;           \n# â„¹ 2,298,910 more rows\n# â„¹ 3 more variables: STATE &lt;chr&gt;, LATITUDE &lt;dbl&gt;, LONGITUDE &lt;dbl&gt;\n\n\n\nglimpse(ebird_subset)\n\nRows: 2,298,920\nColumns: 8\n$ CATEGORY            &lt;chr&gt; \"species\", \"species\", \"species\", \"species\", \"speciâ€¦\n$ `COMMON NAME`       &lt;chr&gt; \"Indian Roller\", \"Siberian Crane\", \"Black Grouse\",â€¦\n$ `SCIENTIFIC NAME`   &lt;chr&gt; \"Coracias benghalensis\", \"Leucogeranus leucogeranuâ€¦\n$ `OBSERVATION COUNT` &lt;chr&gt; \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"2\", \"1\", â€¦\n$ `BREEDING CODE`     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NAâ€¦\n$ STATE               &lt;chr&gt; \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbul\", \"Hataâ€¦\n$ LATITUDE            &lt;dbl&gt; 40.78331, 39.92951, 41.00805, 40.99209, 36.35517, â€¦\n$ LONGITUDE           &lt;dbl&gt; 29.47437, 32.85443, 28.97673, 28.83948, 36.31517, â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi verinin iÅŸimize yarayacak bir alt kÃ¼mesini aldÄ±k, kalabalÄ±ktan kurtulduk.\nArtÄ±k ilk yÃ¼klediÄŸimiz veriyi (ebird) Râ€™dan silebiliriz. Veri, tÃ¼m TRâ€™yi kapsadÄ±ÄŸÄ± iÃ§in 2 milyondan fazla gÃ¶zlem iÃ§eriyor. BÃ¼yÃ¼k veri setleri RAMâ€™in ÅŸiÅŸmesine ve Râ€™Ä±n Ã§Ã¶kmesine sebep olabilir. Bu sebeple artÄ±k iÅŸimize yaramayacak olan verileri environmentâ€™ten kaldÄ±ralÄ±m.\n\nrm(ebird)"
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#kuÅŸ-verisinin-mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±",
    "href": "posts/ebird_R/ebird_r.html#kuÅŸ-verisinin-mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi I",
    "section": "3. KuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±",
    "text": "3. KuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nKuÅŸ verisinin ihtiyacÄ±mÄ±z olan alt kÃ¼mesini aldÄ±ktan sonra sÄ±ra geldi verimizi mekÃ¢nsallaÅŸtÄ±rmaya. Verimizi, uygun mekÃ¢nsal veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼p, mekÃ¢nsal analizlerde kullanÄ±labilecek bir hÃ¢le getireceÄŸiz. Bunun iÃ§in, Râ€™da mekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in geliÅŸtirilen {sf} paketini kullanacaÄŸÄ±z.\nLat long verisini ve koordinat sistemini tanÄ±mlayarak eBird verisini sf objesine dÃ¶nÃ¼ÅŸtÃ¼relim.\n\nebird_sf &lt;- st_as_sf(\n    ebird_subset, coords = c(\"LONGITUDE\", \"LATITUDE\"), crs = \"EPSG:4326\"\n)\nebird_sf\n\nSimple feature collection with 2298920 features and 6 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 2,298,920 Ã— 7\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n * &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;             &lt;chr&gt;               &lt;chr&gt;          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   &lt;NA&gt;           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   &lt;NA&gt;           \n 3 species  Black Grouse   Lyrurus tetrix    X                   &lt;NA&gt;           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   &lt;NA&gt;           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   &lt;NA&gt;           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   &lt;NA&gt;           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   &lt;NA&gt;           \n 8 species  Brant          Branta bernicla   1                   &lt;NA&gt;           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   &lt;NA&gt;           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   &lt;NA&gt;           \n# â„¹ 2,298,910 more rows\n# â„¹ 2 more variables: STATE &lt;chr&gt;, geometry &lt;POINT [Â°]&gt;\n\n\nVerimizi sf formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rdÃ¼ÄŸÃ¼mÃ¼zde, bazÄ± Ã¶nemli mekÃ¢nsal Ã¶zelliklerin eklenmiÅŸ olduÄŸunu gÃ¶rÃ¼yoruz. Bunlar arasÄ±nda geometri tipi (POINT), veri boyutu (dimension), verinin coÄŸrafi sÄ±nÄ±rlarÄ±nÄ± tanÄ±mlayan bounding box koordinatlarÄ± ve koordinat referans sistemi (CRS) bulunuyor. Bundan sonra mekÃ¢nsal analizleri rahatÃ§a yapabiliriz.\nDikkat ederseniz verinin her bir satÄ±rÄ±, bir koordinat Ã§iftiyle iliÅŸkili. Bu, her bir satÄ±rÄ±n ve bu satÄ±rdaki tÃ¼m bilgilerin, bir geometriyle iliÅŸkili olduÄŸunu gÃ¶steriyor. Bu geometri de, geometri tipinde belirtildiÄŸi ya da bir koordinat Ã§iftinin varlÄ±ÄŸÄ±ndan anlayabileceÄŸimiz gibi nokta. Yani 2,298,920 tane noktamÄ±z var ve her bir nokta bir gÃ¶zlemle iliÅŸkili."
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#tr-il-katmanÄ±nÄ±n-yÃ¼klenmesi",
    "href": "posts/ebird_R/ebird_r.html#tr-il-katmanÄ±nÄ±n-yÃ¼klenmesi",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi I",
    "section": "4. TR il katmanÄ±nÄ±n yÃ¼klenmesi",
    "text": "4. TR il katmanÄ±nÄ±n yÃ¼klenmesi\neBird verisini mekÃ¢nsallaÅŸtÄ±rdÄ±ÄŸÄ±mÄ±za gÃ¶re sÄ±ra geldi TR il sÄ±nÄ±rlarÄ±nÄ± Râ€™a yÃ¼klemeye. Ben geoBoundaries veri tabanÄ±nÄ± kullanÄ±yorum. Ä°htiyaÃ§ duyduÄŸunuz mÃ¼lki idare sÄ±nÄ±rlarÄ± verisinine eriÅŸmek iÃ§in bu linki ya da {rgeoboundaries} paketini kullanabilirsiniz.\n\ntr_il &lt;- gb_adm1(country = \"Turkey\", type = \"SSCGS\") # type = \"SSCGS\" argumaniyla basitlestirilmiÅŸ versiyonunu indiriyoruz\ntr_il\n\nSimple feature collection with 81 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 25.66545 ymin: 35.80768 xmax: 44.81766 ymax: 42.1048\nGeodetic CRS:  WGS 84\nFirst 10 features:\n   shapeGroup shapeType      shapeName shapeISO                 shapeID\n1         TUR      ADM1          Adana    TR-01 25984515B95172477822815\n2         TUR      ADM1       AdÄ±yaman    TR-02 25984515B90872828599679\n3         TUR      ADM1 Afyonkarahisar    TR-03 25984515B26209284550223\n4         TUR      ADM1           AÄŸrÄ±    TR-04 25984515B39003465173278\n5         TUR      ADM1         Amasya    TR-05 25984515B32583172380009\n6         TUR      ADM1        Antalya    TR-07 25984515B97476213604692\n7         TUR      ADM1         Artvin    TR-08  25984515B1602304411378\n8         TUR      ADM1          AydÄ±n    TR-09 25984515B63739470532168\n9         TUR      ADM1      BalÄ±kesir    TR-10 25984515B55384476443375\n10        TUR      ADM1         Ankara    TR-06 25984515B47806653651907\n   shapeCanonical                       geometry\n1        province MULTIPOLYGON (((34.91146 36...\n2        province MULTIPOLYGON (((37.861 37.4...\n3        province MULTIPOLYGON (((30.48061 38...\n4        province MULTIPOLYGON (((43.77542 39...\n5        province MULTIPOLYGON (((36.3878 40....\n6        province MULTIPOLYGON (((30.40305 36...\n7        province MULTIPOLYGON (((41.87016 40...\n8        province MULTIPOLYGON (((27.33197 37...\n9        province MULTIPOLYGON (((26.7224 39....\n10       province MULTIPOLYGON (((31.96673 38...\n\n\nBase R plot() fonksiyonu ile tr_il objemizi Ã§izelim.\n\nplot(tr_il)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sf objesi iÃ§in plot() fonksiyonu, tÃ¼m deÄŸiÅŸkenleri (sÃ¼tunlarÄ±) Ã§iziyor. Sadece shapeName deÄŸiÅŸkenini seÃ§ip, eksenleri ve baÅŸlÄ±ÄŸÄ± ekleyerek daha iyi bir TÃ¼rkiye il sÄ±nÄ±rlarÄ± haritasÄ± Ã§izelim.\n\nplot(tr_il[, \"shapeName\"], graticule = TRUE, axes = TRUE, main = \"TÃ¼rkiye HaritasÄ±\")\n\n\n\n\nHop! Ã‡ok daha iyi!\nArtÄ±k kuÅŸ verimizin TÃ¼rkiye Ã¼zerindeki daÄŸÄ±lÄ±mÄ±nÄ± incelemeye baÅŸlama vakti geldi. Ancak 2 milyondan fazla satÄ±rÄ± olan bir verinin grafiÄŸini Ã§izmek muhtemelen Râ€™Ä±n Ã§Ã¶kmesiyle sonuÃ§lanacaktÄ±r. Bu yÃ¼zden bu verinin bir alt kÃ¼mesini alalÄ±m.\n\nebird_sample &lt;- sample_n(ebird_sf, 500000)\n\nVeri tablomuzdan rastgele 500000 satÄ±r seÃ§tik. Bu sayÄ± bilgisayarÄ±nÄ±z iÃ§in fazla geliyorsa 5-10b de seÃ§ebilirsiniz.\nVerimizi, bu sefer de Râ€™Ä±n vazgeÃ§ilmez paketi olan {ggplot2} ile gÃ¶rselleÅŸtirelim. ggplot2, Ã§izeceÄŸimiz verileri katman katman belirtip + ile birbirine baÄŸlamamÄ±za izin veren oldukÃ§a esnek bir paket. Åimdi haritamÄ±zÄ± Ã§izelim.\n\nggplot() +                                       # grafigi baslatiyor\n  geom_sf(data = tr_il, aes()) +                 # tr katmanini ekliyoruz\n  geom_sf(data = ebird_sample, aes(), size = .5) # kus verimizi ekliyoruz\n\n\n\n\n500000 kuÅŸ gÃ¶zlem verisinin TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± bu ÅŸekildeymiÅŸ. Bu grafiÄŸe dayanarak, Ã¼lkenin batÄ±sÄ±nda ve bÃ¼yÃ¼kÅŸehirlerde daha Ã§ok gÃ¶zlem olduÄŸunu sÃ¶yleyebiliriz. Bu genel daÄŸÄ±lÄ±mÄ± gÃ¶rdÃ¼ÄŸÃ¼mÃ¼ze gÃ¶re merak ettiÄŸim 2 tÃ¼rÃ¼n daÄŸÄ±lÄ±mÄ±na bakmak istiyorum. Veriyi tÃ¼r ismine gÃ¶re filtreleyip haritayÄ± Ã§iziyoruz.\n\nSakallÄ± Akbaba\n\n\n\nAlbum of Abyssinian birds and mammals | Chicago :Field Museum of Natural History,1930.\n\n\nSakallÄ± akbaba - Gypaetus barbatus, sarp daÄŸlarÄ±n insandan uzak kÃ¶ÅŸelerinde; genellikle kanyonlar ve derin yarlarda yaÅŸayan bir akbaba tÃ¼rÃ¼. Kendine has gÃ¶rÃ¼nÃ¼ÅŸÃ¼ ve diyetinin kemikten oluÅŸmasÄ± sebebiyle oldukÃ§a ilgi Ã§ekici bir tÃ¼r. Nesli tehdit altÄ±ndaki bu nadir tÃ¼rÃ¼n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m.\n\nsakalli &lt;- ebird_sf |&gt; \n  filter(`SCIENTIFIC NAME` == \"Gypaetus barbatus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = sakalli, aes(), size = .7)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sakallÄ± akbabanÄ±n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± KÃ¶roÄŸlu DaÄŸlarÄ±, AladaÄŸlar, KaÃ§kar DaÄŸlarÄ±, AkdaÄŸ gibi daÄŸlÄ±k alanlarda yoÄŸunlaÅŸÄ±yor.\n\n\nKÄ±zÄ±l Akbaba\n\n\n\nColoured figures of the birds of the British Islands. v.1 | London :R. H. Porter,1885-1897.\n\n\nKÄ±zÄ±l akbaba - Gyps fulvus da daÄŸlarÄ± tercih eden ve kayalÄ±klarda yuvalayan bir tÃ¼r. KÄ±zÄ±l akbaba, sakallÄ± akbaba kadar Ã§ekingen olmayan, genellikle koloni hÃ¢linde yaÅŸayan bir tÃ¼r. Åimdi de kÄ±zÄ±l akbabanÄ±n daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m. Acaba nerelerden kayÄ±tlar gelmiÅŸ!\n\nkizil &lt;- ebird_sf |&gt; \n  filter(`SCIENTIFIC NAME` == \"Gyps fulvus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = kizil, aes(), size = .7)\n\n\n\n\nKÄ±zÄ±l akbaba daÄŸÄ±lÄ±mÄ±nÄ±n, Ã¼reme ve gÃ¶Ã§ bÃ¶lgelerinde yoÄŸunlaÅŸan bir Ã¶rÃ¼ntÃ¼ sergilediÄŸini gÃ¶rebiliyoruz."
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#kuÅŸ-verisinin-gruplanÄ±p-Ã¶zetlenmesi",
    "href": "posts/ebird_R/ebird_r.html#kuÅŸ-verisinin-gruplanÄ±p-Ã¶zetlenmesi",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi I",
    "section": "5. KuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi",
    "text": "5. KuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nBiraz oyalanmanÄ±n ardÄ±ndan tekrardan sorumuza odaklanabiliriz. Ã–ncelikle TÃ¼rkiyeâ€™deki kuÅŸ tÃ¼rlerini ve her tÃ¼rden kaÃ§ adet kayÄ±t olduÄŸunu gÃ¶rmek iÃ§in kuÅŸ verisini tÃ¼r ismine gÃ¶re gruplayÄ±p, kayÄ±t sayÄ±sÄ±na gÃ¶re Ã¶zetleyelim. Bu iÅŸlem biraz uzun sÃ¼rebilir.\n\nebird_grouped &lt;- ebird_sf |&gt;\n  group_by(`SCIENTIFIC NAME`) |&gt;\n  summarise(n = n())\nprint(ebird_grouped)\n\nSimple feature collection with 503 features and 2 fields\nGeometry type: GEOMETRY\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 503 Ã— 3\n   `SCIENTIFIC NAME`             n                                      geometry\n   &lt;chr&gt;                     &lt;int&gt;                                &lt;GEOMETRY [Â°]&gt;\n 1 Acanthis flammea              1                     POINT (32.87976 39.96636)\n 2 Accipiter badius              3 MULTIPOINT ((41.23051 37.10523), (39.85856 4â€¦\n 3 Accipiter brevipes         2157 MULTIPOINT ((26.218 40.00467), (26.20626 40.â€¦\n 4 Accipiter gentilis         1617 MULTIPOINT ((26.16617 39.819), (26.20626 40.â€¦\n 5 Accipiter nisus           17281 MULTIPOINT ((26.01417 39.80894), (25.89106 4â€¦\n 6 Acridotheres tristis        792 MULTIPOINT ((28.56435 41.1764), (28.61338 40â€¦\n 7 Acrocephalus agricola       355 MULTIPOINT ((42.41 38.7), (42.42388 38.70286â€¦\n 8 Acrocephalus arundinaceus  6899 MULTIPOINT ((25.89106 40.15504), (26.16617 3â€¦\n 9 Acrocephalus dumetorum       25 MULTIPOINT ((35.95475 36.06548), (39.72347 4â€¦\n10 Acrocephalus griseldis        1                       POINT (43.578 40.11865)\n# â„¹ 493 more rows\n\n\n\nglimpse(ebird_grouped)\n\nRows: 503\nColumns: 3\n$ `SCIENTIFIC NAME` &lt;chr&gt; \"Acanthis flammea\", \"Accipiter badius\", \"Accipiter bâ€¦\n$ n                 &lt;int&gt; 1, 3, 2157, 1617, 17281, 792, 355, 6899, 25, 1, 2164â€¦\n$ geometry          &lt;GEOMETRY [Â°]&gt; POINT (32.87976 39.96636), MULTIPOINT ((41.â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi eBird veri tabanÄ±nda TÃ¼rkiyeâ€™den kayÄ±tlÄ± 503 tÃ¼r varmÄ±ÅŸ. eBirdâ€™Ã¼n internet sitesinde ise 494 adet tÃ¼r gÃ¶steriyor. Bu farklÄ±lÄ±ÄŸÄ±n sebebi nedir bilmiyorum doÄŸrusu. AklÄ±ma, kesin olmayan bazÄ± kayÄ±tlarÄ±n da olabileceÄŸi geliyor sadece. Bilenler aÃ§Ä±klayabilirse sÃ¼per olur."
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#her-bir-il-sÄ±nÄ±rÄ±-iÃ§inde-kalan-tÃ¼r-sayÄ±sÄ±nÄ±n-hesaplanmasÄ±",
    "href": "posts/ebird_R/ebird_r.html#her-bir-il-sÄ±nÄ±rÄ±-iÃ§inde-kalan-tÃ¼r-sayÄ±sÄ±nÄ±n-hesaplanmasÄ±",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi I",
    "section": "6. Her bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±",
    "text": "6. Her bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nÅimdi, TÃ¼rkiyeâ€™deki her bir ilin sÄ±nÄ±rlarÄ± iÃ§ine dÃ¼ÅŸen kuÅŸ gÃ¶zlem noktalarÄ±nÄ± sayacaÄŸÄ±z. Yani her bir poligonun iÃ§indeki noktalarÄ± sayacaÄŸÄ±z. Bu da bize her bir ildeki toplam tÃ¼r sayÄ±sÄ±nÄ± verecek. Ã–ncelikle st_intersects() fonksiyonu ile her bir il ile kesiÅŸen noktalarÄ± belirliyoruz. ArdÄ±ndan lengths() fonksiyonu ile her bir ilde kaÃ§ adet nokta olduÄŸunu hesaplÄ±yoruz ve bunu, tr_il verisine yeni bir sÃ¼tun olarak ekliyoruz. Temelde Ã§ok basit bir iÅŸlem ama baÅŸta anlamak zor olabiliyor.\n\ntr_il$bird_count &lt;- lengths(st_intersects(tr_il, ebird_grouped))"
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#verinin-gÃ¶rselleÅŸtirilmesi",
    "href": "posts/ebird_R/ebird_r.html#verinin-gÃ¶rselleÅŸtirilmesi",
    "title": "R ve KuÅŸlar - eBird Verilerinin R ile Analizi I",
    "section": "7. Verinin gÃ¶rselleÅŸtirilmesi",
    "text": "7. Verinin gÃ¶rselleÅŸtirilmesi\nÅimdi, hÄ±zlÄ±ca bir plotlayalÄ±m. Bunun iÃ§in plot() fonksiyonunu kullacaÄŸÄ±z. tr_il iÃ§indeki bird_count sÃ¼tununu seÃ§elim.\n\nplot(tr_il[, \"bird_count\"])\n\n\n\n\nHaritamÄ±z hazÄ±r. Åimdi daha iyi bir gÃ¶rselleÅŸtirme iÃ§in ggplot() fonksiyonunu kullanalÄ±m.\nÃ–ncelikle kÄ±rÄ±lÄ±mlarÄ±mÄ±zÄ± belirleyelim ki haritamÄ±z daha gÃ¼zel gÃ¶rÃ¼nsÃ¼n. Bunun iÃ§in jenks optimizasyonunu kullanacaÄŸÄ±z.\n\nbreaks &lt;- classInt::classIntervals(\n  tr_il$bird_count,\n  n = 7,\n  style = \"jenks\"\n)\n\n\nggplot() +                                     # grafigi baslatiyor\n  geom_sf(\n    data = tr_il,                              # tr katmanini ekliyoruz\n    aes(fill = bird_count),                    # renkleri kus turu sayisina gore seciyoruz\n    colour = \"grey12\",                         # il sinirlarinin rengini belirliyoruz\n    linewidth = .1                             # il sinirlarinin kalinligini belirliyoruz\n  ) +\n  scale_fill_viridis_c(breaks = breaks$brks) + # haritamizi viridis paletiyle dolduruyoruz\n  guides(                                      # lejant ozelliklerini seciyoruz\n    fill = guide_colorsteps(\n      barwidth = 20,\n      barheight = .5,\n      title.position = \"right\"\n    )\n  ) +\n  labs(                                        # etiketleri yaziyoruz\n    title = \"Ä°llere GÃ¶re KuÅŸ TÃ¼rÃ¼ SayÄ±sÄ±\",\n    x = \"Boylam\",\n    y = \"Enlem\"\n  ) +\n  theme_bw() +                                 # tema seciyoruz\n  theme(                                       # temanÄ±n ozellliklerini berlirliyoruz\n    legend.position = \"bottom\",\n    plot.background = element_rect(\"white\", colour = \"white\"),\n    text = element_text(family = \"Ubuntu Mono\"),\n    legend.title = element_blank()\n  )\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Ã§ok daha iyi bir gÃ¶rselleÅŸtirme oldu. Åu an elimizde, TÃ¼rkiyeâ€™deki illere gÃ¶re kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ±nÄ± gÃ¶steren bir harita bulunmakta. Ancak bu harita Ã¼zerinden yapacaÄŸÄ±mÄ±z yorumlarda dikkatli olmamÄ±z gereken birkaÃ§ Ã¶nemli nokta var. Ä°l yÃ¼zÃ¶lÃ§Ã¼mÃ¼nÃ¼n ve illere gÃ¶re gÃ¶zlem sayÄ±sÄ±nÄ±n farklÄ± olmasÄ±ndan kaynaklanan yanlÄ±lÄ±k (bias) potansiyeli. Bu harita genel fikirler verebilir ancak net Ã§Ä±karÄ±mlar iÃ§in verinin standartlaÅŸtÄ±rÄ±lmasÄ± ve istatistiki testlere tabi tutulmasÄ± Ã¶nem arz etmektedir.\nÄ°kinci yazÄ±da gÃ¶rÃ¼ÅŸmek dileÄŸiyle.\nBilimle ve huzurla kalÄ±nÄ±z."
  },
  {
    "objectID": "posts/get_terrain_R/get_terrain.html",
    "href": "posts/get_terrain_R/get_terrain.html",
    "title": "R ile Topografik Harita - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "",
    "text": "Merhabalar, blogun Ã¼Ã§Ã¼ncÃ¼ yazÄ±sÄ±na hoÅŸ geldiniz. TakÄ±ldÄ±ÄŸÄ±nÄ±z ve anlamadÄ±ÄŸÄ±nÄ±z yerler olursa lÃ¼tfen yorum yapmaya Ã§ekinmeyiniz. AyrÄ±ca katkÄ±larÄ±nÄ±zÄ± ve eleÅŸtirilerinizi de bekliyorum. Keyifli okumalar.\nBlogdaki son yazÄ±mÄ±n Ã¼zerinden neredeyse 15 ay geÃ§ti. Bu â€œkÄ±sacÄ±kâ€ zamana niÅŸan, evlilik ve tezi -Ã¶zellikle de tezi- sÄ±kÄ±ÅŸtÄ±rÄ±nca baÅŸÄ±mÄ± kaÅŸÄ±yacak vakit bile bulamadÄ±m. ArdÄ±ndan da esiri olduÄŸum mÃ¼kemmelliyetÃ§ilik eklenince bu yazÄ±nÄ±n Ã§Ä±kÄ±ÅŸÄ± bugÃ¼nÃ¼ buldu. Yani anlayacaÄŸÄ±nÄ±z yine bahanelerim var. :)\nBir Ã¶nceki yazÄ±yÄ± okuyanlar hatÄ±rlayacaktÄ±r; DEM verisinden eÄŸim ve bakÄ± hesaplamÄ±ÅŸ, kara akbaba gÃ¶zlem noktalarÄ±ndaki deÄŸerleri Ã§ekmiÅŸ ve gÃ¶rselleÅŸtirmiÅŸtik. Bu yazÄ±da ise R kullanarak DEM verisini nasÄ±l indirebileceÄŸimizi gÃ¶receÄŸiz. ArdÄ±ndan da base R kullanarak gÃ¶rselleÅŸtirmeler yapacaÄŸÄ±z.\nBu yazÄ±, Ã¶ncekilerden daha kÄ±sa ve Ã¶z olacak."
  },
  {
    "objectID": "posts/get_terrain_R/get_terrain.html#yazÄ±nÄ±n-akÄ±ÅŸÄ±",
    "href": "posts/get_terrain_R/get_terrain.html#yazÄ±nÄ±n-akÄ±ÅŸÄ±",
    "title": "R ile Topografik Harita - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "YazÄ±nÄ±n AkÄ±ÅŸÄ±",
    "text": "YazÄ±nÄ±n AkÄ±ÅŸÄ±\n\nPaketlerin yÃ¼klenmesi\nDEM verisinin indirilmesi\nVerinin gÃ¶rselleÅŸtirilmesi"
  },
  {
    "objectID": "posts/get_terrain_R/get_terrain.html#paketlerin-yÃ¼klenmesi",
    "href": "posts/get_terrain_R/get_terrain.html#paketlerin-yÃ¼klenmesi",
    "title": "R ile Topografik Harita - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "1. Paketlerin yÃ¼klenmesi",
    "text": "1. Paketlerin yÃ¼klenmesi\nHangi paketleri kullanacaÄŸÄ±mÄ±za geÃ§meden Ã¶nce size R programlama konusunda geÃ§irdiÄŸim zihinsel deÄŸiÅŸimden bahsetmek istiyorum. R Ã¶ÄŸrenmeye baÅŸladÄ±ÄŸÄ±mda -olmasÄ± gerektiÄŸi gibi- ilk olarak R programlamanÄ±n temellerini Ã¶ÄŸrenmiÅŸ, ardÄ±ndan R ile veri analizine geÃ§miÅŸtim. SonrasÄ±nda arkadaÅŸÄ±m ve saygÄ±deÄŸer hocam Ä°smailâ€™in (kendisi benim ilk R hocam ve yardÄ±mcÄ± tez danÄ±ÅŸmanÄ±m oluyor) Ã¶nerileriyle tidyverse kullanmaya baÅŸladÄ±m. tidyverse, daha Ã¶nceki yazÄ±larda da bahsettiÄŸim gibi, veri iÅŸlerini standartlaÅŸtÄ±ran bir paket koleksiyonu. Ä°Ã§erisinde dÃ¼zenli veri - tidy data prensiplerine dayanan, R ile veri iÅŸlemeyi standart ve daha kolay bir hÃ¢le getiren ggplot2, dplyr, readr, tidyr, tibble gibi Ã§ok sayÄ±da paket bulunuyor. O gÃ¼nden bugÃ¼ne iÅŸlerimin bÃ¼yÃ¼k bir kÄ±smÄ±nda bu paketleri kullandÄ±m. Bu sÃ¼reÃ§, veri analizi konusunda bana Ã§ok ÅŸey Ã¶ÄŸretti; dÃ¼zenli veri prensiplerini, onlarÄ± uygulamayÄ± ve Râ€™Ä±n en popÃ¼ler paketlerinden tidyverseâ€™yi Ã¶ÄŸrendim. GeÃ§tiÄŸimiz ocak ayÄ±nda ise programlama konusundaki fikirlerimde bazÄ± deÄŸiÅŸiklikler oldu ve bÃ¼yÃ¼k oranda base R kullanmaya baÅŸladÄ±m. Bu kararÄ±, tidyverseâ€™nin kÃ¶tÃ¼, yetersiz bir paket olduÄŸunu dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼m iÃ§in almadÄ±m. Kendileri veri iÅŸlemede bÃ¼yÃ¼k kolaylÄ±klar saÄŸlayan, iÅŸlevsel bir paket. Mesela ggplot2â€™nin yeri kolay kolay doldurulamaz. Ancak R, hÃ¢lihazÄ±rda veri analizi ve istatistik iÃ§in geliÅŸtirilmiÅŸ bir dil ve bu iÅŸler iÃ§in yerli olan Ã§ok sayÄ±da araÃ§ barÄ±ndÄ±rÄ±yor. base R kullanarak hiÃ§bir baÄŸÄ±mlÄ±lÄ±k, hiÃ§bir yeni paket gerekmeden birÃ§ok iÅŸinizi kolaylÄ±kla gÃ¶rebilirsiniz. AÄŸÄ±rlÄ±kla C ve Fortran gibi dillerle yazÄ±lmÄ±ÅŸ olan base R fonksiyonlarÄ± doÄŸru kullanÄ±ldÄ±ÄŸÄ±nda Ä±ÅŸÄ±k hÄ±zÄ±nda Ã§alÄ±ÅŸabiliyor. Ta ki tekrarlanan iÅŸler iÃ§in dÃ¶ngÃ¼ler ya da apply() gibi fonksiyonlar kullanana kadar. Ben de olabildiÄŸince daha az baÄŸÄ±mlÄ±kla Ã§alÄ±ÅŸmak, Râ€™Ä±n yerli gÃ¼cÃ¼nden yararlanmak ve analizin yanÄ± sÄ±ra programlamaya da aÄŸÄ±rlÄ±k vermek amacÄ±yla Ã§oÄŸunlukla base R kullanmaya baÅŸladÄ±m. YanlÄ±ÅŸ anlaÅŸÄ±lmasÄ±n, paket kullanmaya ya da tidyverseâ€™ye karÅŸÄ± deÄŸilim. Sadece base R ile kolaylÄ±kla yapabileceÄŸim ÅŸeyler iÃ§in neden paket kullanayÄ±m? EÄŸer base R yeterince etkili bir seÃ§enek deÄŸilse diÄŸer paketlerden yararlanÄ±rÄ±m.\nNeyse sÃ¶zÃ¼ fazla uzattÄ±m. Åimdi bu iÅŸ iÃ§in kullanacaÄŸÄ±mÄ±z paketleri yÃ¼kleyebiliriz. EÄŸer bilgisayarÄ±nÄ±zda yÃ¼klÃ¼ olmayan bir paket varsa install.packages() fonksiyonunu kullanarak yÃ¼kleyebilirsiniz. Bu yazÄ± iÃ§in toplamda iki paket kullanacaÄŸÄ±z: terra ve geodata. Ben mekÃ¢nsal vektÃ¶r iÅŸlerinde genellikle sf paktini kullanÄ±yorum ancak bu sefer hem vektÃ¶r hem de raster veriler iÃ§in terra paketini kullanacaÄŸÄ±z. MÃ¼lki idare sÄ±nÄ±rlarÄ± ve sayÄ±sal yÃ¼kseklik modellerine eriÅŸmek iÃ§in de geodata paketini kullanacaÄŸÄ±z. Bu paket de raster, terra, dismo gibi birÃ§ok Ã¶nemli R paketini yazan Robert Hijmansâ€™Ä±n yazdÄ±ÄŸÄ± bir paket.\n\n# paketleri R'a yukle\nlibs &lt;- c(\n  \"terra\",  # mekansal raster ve vektor verileri islemek icin, {raster}'in halefi\n  \"geodata\" # bazi mekansal verilere erismek icin \n)\nsapply(libs, require, character.only = TRUE)\n\n  terra geodata \n   TRUE    TRUE"
  },
  {
    "objectID": "posts/get_terrain_R/get_terrain.html#dem-verisinin-indirilmesi",
    "href": "posts/get_terrain_R/get_terrain.html#dem-verisinin-indirilmesi",
    "title": "R ile Topografik Harita - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "2. DEM verisinin indirilmesi",
    "text": "2. DEM verisinin indirilmesi\nDEM verisinden Ã¶nceki yazÄ±da kÄ±saca bahsetmiÅŸtim. Tekrardan hatÄ±rlamakta fayda var. DEM (Digital Elevation Model), kÄ±saca, yeryÃ¼zÃ¼nÃ¼n yÃ¼kseklik bilgisini sayÄ±sal olarak temsil eden modele verilen isim. Her bir grid iÃ§in, sahip olduÄŸu yÃ¼kseklik verisini barÄ±ndÄ±ran bu veri, topografik ve hidrolojik birÃ§ok analizde sÄ±klÄ±kla kullanÄ±lÄ±yor.\nBu yazÄ±da SRTM verisini, geodata paketini kullanarak indireceÄŸiz. Bu paket ile, GADM, SRTM, Worldclim, OSM gibi birÃ§ok farklÄ± veriyi kolaylÄ±kla indirebiliriz.\nÃ–ncelikle paketin iÃ§erdiÄŸi fonksiyonlara bir bakalÄ±m.\n\nls(\"package:geodata\")\n\n [1] \"bio_oracle\"          \"cmip6_tile\"          \"cmip6_world\"        \n [4] \"country_codes\"       \"crop_calendar_sacks\" \"crop_monfreda\"      \n [7] \"crop_spam\"           \"cropland\"            \"elevation_30s\"      \n[10] \"elevation_3s\"        \"elevation_global\"    \"footprint\"          \n[13] \"gadm\"                \"geodata_path\"        \"landcover\"          \n[16] \"monfredaCrops\"       \"osm\"                 \"population\"         \n[19] \"rice_calendar\"       \"sacksCrops\"          \"soil_af\"            \n[22] \"soil_af_elements\"    \"soil_af_isda\"        \"soil_af_water\"      \n[25] \"soil_world\"          \"soil_world_vsi\"      \"sp_genus\"           \n[28] \"sp_occurrence\"       \"sp_occurrence_split\" \"spamCrops\"          \n[31] \"travel_time\"         \"world\"               \"worldclim_country\"  \n[34] \"worldclim_global\"    \"worldclim_tile\"     \n\n\nBizim iÅŸimize yarayacak fonkiyon elevation_30s(). Ãœlke kodu iÃ§in country argÃ¼manÄ±nÄ±, DEM verisinin TÃ¼rkiye sÄ±nÄ±rlarÄ±na gÃ¶re maskelemek iÃ§in mask argÃ¼manÄ±nÄ± ve veriyi kaydeceÄŸimiz yer iÃ§in ise path argÃ¼manÄ±nÄ± kullanÄ±yoruz. Ben tempfile() fonksiyonu ile geÃ§ici bir dosya oluÅŸturdum. Dilerseniz yereldeki herhangi bir dizine de kaydedebilirsiniz.\n\ndem &lt;- elevation_30s(country = \"TUR\", mask = TRUE, path = tempfile())\ndem\n\nclass       : SpatRaster \ndimensions  : 792, 2340, 1  (nrow, ncol, nlyr)\nresolution  : 0.008333333, 0.008333333  (x, y)\nextent      : 25.5, 45, 35.7, 42.3  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : TUR_elv_msk.tif \nname        : TUR_elv_msk \nmin value   :         -42 \nmax value   :        4972 \n\n\n\nnrow(dem) * ncol(dem)\n\n[1] 1853280\n\n\nVerinin Ã§Ä±ktÄ±sÄ±nda birÃ§ok temel bilgiye eriÅŸebiliriz. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi veri SpatRaster sÄ±nÄ±fÄ±nda; satÄ±r sayÄ±sÄ± 792, sÃ¼tun sayÄ±sÄ± 2340 olan, toplamda 1853280 hÃ¼creden oluÅŸuyor. Ã‡Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼ 0.008333333 derece, yani yaklaÅŸÄ±k 1 km diyebiliriz. Verinin extentâ€™i TÃ¼rkiye sÄ±nÄ±rlarÄ±nÄ± kapsÄ±yor. Minimum deÄŸer -42 m, iken maksimum deÄŸer 4972 m. YaklaÅŸÄ±k 1 km Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸe sahip olduÄŸunu dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼mÃ¼zde neredeyse AÄŸrÄ± DaÄŸÄ±â€™nÄ±n 5137 metrelik rakÄ±mÄ±nÄ± yakalÄ±yormuÅŸ. Gayet iyi.\nVerinin minimum deÄŸeri -42 metreden baÅŸladÄ±ÄŸÄ± iÃ§in reclassify etmek istiyorum. 0â€™dan kÃ¼Ã§Ã¼k olan tÃ¼m deÄŸerleri 0â€™a eÅŸitleyeceÄŸim. Bunu terra paketi iÃ§indeki classify() fonksiyonu ile yapabiliriz.\n\ndem &lt;- classify(\n  dem, \n  rcl = matrix(c(-Inf, 0, 0), ncol = 3, byrow = TRUE)\n)\ndem\n\nclass       : SpatRaster \ndimensions  : 792, 2340, 1  (nrow, ncol, nlyr)\nresolution  : 0.008333333, 0.008333333  (x, y)\nextent      : 25.5, 45, 35.7, 42.3  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource(s)   : memory\nvarname     : TUR_elv_msk \nname        : TUR_elv_msk \nmin value   :           0 \nmax value   :        4972 \n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi minimum deÄŸer artÄ±k 0â€™dan baÅŸlÄ±yor.\nÅimdi basitÃ§e gÃ¶rselleÅŸtirelim.\n\nplot(dem)\n\n\n\n\n\n\n\n\nBu hÃ¢liyle bile Ã§ok gÃ¼zel gÃ¶rÃ¼nÃ¼yor.\nÅimdi de eÄŸim, bakÄ± ve hillshadeâ€™i hesaplÄ±yoruz.\n\nslp &lt;- terrain(dem, \"slope\", unit = \"radian\")\nasp &lt;- terrain(dem, \"aspect\", unit = \"radian\")\nhillshade &lt;- shade(\n  slp,\n  asp,\n  angle = 45,\n  direction = 300,\n  normalize = TRUE\n)\n\nBir bakalÄ±m nasÄ±l gÃ¶rÃ¼nÃ¼yorlar. Ã‡oÄŸu durumda plot(data) yeterince iyi sonuÃ§ veriyor ancak daha yÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ bir gÃ¶rÃ¼ntÃ¼ iÃ§in maxcell argÃ¼manÄ±nÄ± deÄŸiÅŸtireceÄŸim. Ä°ÅŸlem biraz yavaÅŸlayabilir.\n\nplot(slp, maxcell = prod(dim(slp))) # sutun ve satir sayisini carpip hucre sayisini hesapliyorum\n\n\n\n\n\n\n\n\n\nplot(asp, maxcell = prod(dim(asp)))\n\n\n\n\n\n\n\n\n\nplot(hillshade, maxcell = prod(dim(hillshade)), col = grey(0:100/100))\n\n\n\n\n\n\n\n\nÅimdi de mÃ¼lki idare sÄ±nÄ±rlarÄ± iÃ§in GADM verilerini Ã§ekelim. GADM, TÃ¼rkiye iÃ§in sÄ±nÄ±r Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼ yÃ¼ksek olan bir veri deÄŸil ancak yÃ¼ksek sÄ±nÄ±r doÄŸruluÄŸu gerekmeyen iÅŸler iÃ§in gayet kullanÄ±ÅŸlÄ±. TÃ¼m dÃ¼nya verisini Ã§ekip, TÃ¼rkiyeâ€™nin ve komÅŸularÄ±n bir kÄ±smÄ±nÄ±n extentâ€™inin koordinatlarÄ±na gÃ¶re kÄ±rpÄ±yoruz.\n\nadm &lt;- world(resolution = 1, path = tempfile())\next &lt;- vect(ext(c(25.7, 45.3, 35.5, 42.5)), crs = \"EPSG:4326\")\nadm &lt;- crop(adm, ext)\nadm\n\n class       : SpatVector \n geometry    : polygons \n dimensions  : 10, 2  (geometries, attributes)\n extent      : 25.7, 45.3, 35.5, 42.5  (xmin, xmax, ymin, ymax)\n coord. ref. : +proj=longlat +datum=WGS84 +no_defs \n names       : GID_0     NAME_0\n type        : &lt;chr&gt;      &lt;chr&gt;\n values      :   ARM    Armenia\n                 AZE Azerbaijan\n                 BGR   Bulgaria\n\n\n\nplot(adm)"
  },
  {
    "objectID": "posts/get_terrain_R/get_terrain.html#verinin-gÃ¶rselleÅŸtirilmesi",
    "href": "posts/get_terrain_R/get_terrain.html#verinin-gÃ¶rselleÅŸtirilmesi",
    "title": "R ile Topografik Harita - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "3. Verinin gÃ¶rselleÅŸtirilmesi",
    "text": "3. Verinin gÃ¶rselleÅŸtirilmesi\nÅimdi gÃ¼zel bir harita oluÅŸturalÄ±m. YazÄ±nÄ±n en karmaÅŸÄ±k kÄ±smÄ± nuhtemelen burasÄ± olacak. Daha Ã¶nceki yazÄ±larda, Râ€™da grafikler iÃ§in oldukÃ§a standart bir iÅŸ akÄ±ÅŸÄ± saÄŸlayan ggplot2 paketini kullanarak haritalar Ã§izmiÅŸtik. Bu sefer ise base R kullanacaÄŸÄ±z. base R ile grafik Ã§izdiÄŸimiz zaman ilkin gÃ¶zÃ¼mÃ¼ze yeterince iyi gelmeyebilir ancak biraz tecrÃ¼be kazandÄ±ÄŸÄ±mÄ±zda ne kadar esnek ve iÅŸlevsel olduÄŸunu gÃ¶rebiliriz. ggplot2 kadar standart, karmaÅŸÄ±k grafiklerde onun kadar kolay bir iÅŸ akÄ±ÅŸÄ± sunmuyor ancak dÃ¼ÅŸÃ¼nÃ¼ldÃ¼ÄŸÃ¼ kadar zor deÄŸil ve Ã§ok daha esnek bir yapÄ±ya sahip. Neredeyse dilediÄŸimiz hemen her ÅŸeyi Ã§izebiliriz. Bazen Ã§ok az satÄ±rla bile sÃ¼per iÅŸler Ã§Ä±kabiliyor. Bu aÅŸamada yanlÄ±ÅŸ ya da eksik yaptÄ±ÄŸÄ±m ÅŸeyler olursa yorum yapmaktan Ã§ekinmeyin lÃ¼tfen.\nÃ–ncelikle TÃ¼rkiye ve Ã§evre Ã¼lkelerin sÄ±nÄ±rlarÄ±nÄ±n olduÄŸu bir altlÄ±k harita Ã§izelim.\n\nplot(\n  adm,                       # veri\n  lwd = 0.8,                 # cizgi kalinligi\n  xlim = c(26.1, 44.9),      # x eksinin sinirladigimiz aralik\n  ylim = c(35.7, 42.3),      # y eksinin sinirladigimiz aralik\n  border = \"grey\",           # poligon sinirlarinin rengi\n  background = \"lightblue\",  # deniz alanlarinin rengi\n  col = \"white\",             # kara alanlarinin rengi\n  axes = TRUE,               # eksenleri cizmek icin\n  mar = c(2, 1, 0, 1),       # plot'un marginlerini belirtiyor (alt, sol, ust, sag)\n  las = 1                    # en cok gozden kacan nokta, y eksenininin etiketlerini yatay yapiyor\n)\n\n\n\n\n\n\n\n\nÅimdi de kabartmasÄ±yla ve konturlarÄ±yla beraber topografik haritamÄ±zÄ± Ã§izelim.\n\nplot(\n  hillshade,\n  col = grey(0:100 / 100),\n  mar = c(5, 1, 0, 1),\n  maxcell = prod(dim(hillshade)),\n  legend = FALSE # rakimin lejantini cizmek icin burada cizmiyoruz\n)\nplot(\n  dem,\n  col = terrain.colors(255),\n  alpha = 0.5,\n  maxcell = prod(dim(dem)),\n  add = TRUE,               # ilk plot'un uzerine cizebilmek icin\n  legend = TRUE,\n  plg = list(               # terra::plot'ta lejant ayarlari icin\n    loc = \"bottom\",         # lejanti asagiya ciz\n    size = c(0.6, 0.7),     # lejant boyutu\n    cex = 0.8,              # yazi boyutu\n    at = seq(0, 4500, 500), # lejant etiketleri\n    tic = \"out\",            # lejanttaki cizgilerin pozisyonu\n    title = \"m\",            # baslik\n    title.cex = 0.8         # baslik boyutu\n  )\n)\ncontour(\n  dem, \n  lwd = 0.35, \n  labcex = 0.38, # label boyutu\n  col = scales::alpha(\"grey40\", 0.7), \n  add = TRUE\n)\n\n\n\n\n\n\n\n\nÅimdi de iki haritayÄ± birleÅŸtirelim. Ancak bu sefer konturu Ã§izmeyeceÄŸim.\n\nplot.new() # yeni bir plot baslatmak icin\npar(family = \"OpenSans\") # font \nplot(\n  adm,\n  lwd = 0.8,\n  xlim = c(26.1, 44.9),\n  ylim = c(35.7, 42.3),\n  border = \"grey\",\n  background = \"lightblue\",\n  col = \"white\",\n  mar = c(5, 1, 0, 1),\n  axes = TRUE,\n  las = 1\n)\nplot(\n  hillshade,\n  col = grey(0:100/100),\n  maxcell = prod(dim(hillshade)),\n  legend = FALSE,\n  add = TRUE\n)\nplot(\n  dem,\n  col = terrain.colors(255),\n  alpha = 0.5,\n  maxcell = prod(dim(dem)),\n  add = TRUE,\n  legend = TRUE,\n  plg = list(\n    loc = \"bottom\",\n    size = c(0.6, 0.7),\n    cex = 0.8,\n    at = seq(0, 4500, 500),\n    tic = \"out\",\n    title = \"RakÄ±m [m]\",\n    title.cex = 0.8\n  )\n)\nplot(adm, border = \"grey\", lwd = 0.8, add = TRUE) # sinirlari vurgulu cizmek icin tekrar ekledim\n\n\n\n\n\n\n\n\nFena olmadÄ±. :) Biraz daha uÄŸraÅŸla daha iyi haritalar elde edilebilir. Ã–zellikle de gÃ¶l ve nehir katmanlarÄ± eklenirse gÃ¼zel olacaktÄ±r.\nÅimdi de TÃ¼rkiye rakÄ±mÄ±nÄ±n daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m. Bunun iÃ§in histogram Ã§izeceÄŸim.\n\nplot.new()\npar(\n  mar = c(5, 5, 1, 1),\n  mgp = c(3.6, 1, 0),         # etiket uzakligini ayarliyoruz\n  las = 1, \n  family = \"OpenSans\", \n  bty = \"l\",                  # box'Ä±n tipini L seklinde yapmak icin\n  cex.lab = 1.3,\n  xpd = NA                    # etiketi grafik sinirlari disina tasimaya izin verir\n)\nhist(\n  dem,\n  xlab = \"RakÄ±m [m]\",         # x ekseninin etiketi\n  ylab = \"SÄ±klÄ±k\",            # y ekseninin etiketi\n  main = \"\",                  # baslik icin. \"\" bos yaparak basligi cizmiyorum\n  col = \"orange\",\n  breaks = seq(0, 4972, 100), # grafigin kirilimlari\n  density = 50                # kutularin icindeki tarama cizgisinin yogunlugu\n)\naxis(                         # x eksenindeki kucuk tikleri cizmek icin\n  side = 1,                   # alttaki x eksenine cizmek icin\n  at = seq(0, 4972, 100),     # kirilimlar\n  tck = -0.030 / 4,           # tik boyutu kucuk olsun\n  labels = FALSE              # etiket olmamasi icin\n) \nbox()                         # eksenlere kutu cizmek icin\n\n\n\n\n\n\n\n\nGrafik, saÄŸa Ã§arpÄ±k bir daÄŸÄ±lÄ±m sergiliyor. Ortalama rakÄ±mÄ±n 1132 metre olduÄŸu TÃ¼rkiyeâ€™yi iyi temsil eden bir grafik oldu.\nBir sonraki yazÄ±da gÃ¶rÃ¼ÅŸÃ¼rÃ¼z.\nBilimle ve huzurla kalÄ±nÄ±z!"
  },
  {
    "objectID": "posts/dem/dem.html",
    "href": "posts/dem/dem.html",
    "title": "R ile Topografik Veri Ä°ndirme - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "",
    "text": "Merhabalar, blogun Ã¼Ã§Ã¼ncÃ¼ yazÄ±sÄ±na hoÅŸ geldiniz. TakÄ±ldÄ±ÄŸÄ±nÄ±z ve anlamadÄ±ÄŸÄ±nÄ±z yerler olursa lÃ¼tfen yorum yapmaya Ã§ekinmeyiniz. AyrÄ±ca katkÄ±larÄ±nÄ±zÄ± ve eleÅŸtirilerinizi de bekliyorum. Keyifli okumalar.\nBlogdaki son yazÄ±mÄ±n Ã¼zerinden neredeyse 15 ay geÃ§ti. Bu â€œkÄ±sacÄ±kâ€ zamana niÅŸan, evlilik ve tezi -Ã¶zellikle de tezi- sÄ±kÄ±ÅŸtÄ±rÄ±nca baÅŸÄ±mÄ± kaÅŸÄ±yacak vakit bile bulamadÄ±m. ArdÄ±ndan da esiri olduÄŸum mÃ¼kemmelliyetÃ§ilik eklenince bu yazÄ±nÄ±n Ã§Ä±kÄ±ÅŸÄ± bugÃ¼nÃ¼ buldu. Yani anlayacaÄŸÄ±nÄ±z yine bahanelerim var. :)\nBir Ã¶nceki yazÄ±yÄ± okuyanlar hatÄ±rlayacaktÄ±r; DEM verisinden eÄŸim ve bakÄ± hesaplamÄ±ÅŸ, kara akbaba gÃ¶zlem noktalarÄ±ndaki deÄŸerleri Ã§ekmiÅŸ ve gÃ¶rselleÅŸtirmiÅŸtik. Bu yazÄ±da ise R kullanarak DEM verisini nasÄ±l indirebileceÄŸimizi gÃ¶receÄŸiz. ArdÄ±ndan da base R kullanarak gÃ¶rselleÅŸtirmeler yapacaÄŸÄ±z.\nBu yazÄ±, Ã¶ncekilerden daha kÄ±sa ve Ã¶z olacak."
  },
  {
    "objectID": "posts/dem/dem.html#yazÄ±nÄ±n-akÄ±ÅŸÄ±",
    "href": "posts/dem/dem.html#yazÄ±nÄ±n-akÄ±ÅŸÄ±",
    "title": "R ile Topografik Veri Ä°ndirme - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "YazÄ±nÄ±n AkÄ±ÅŸÄ±",
    "text": "YazÄ±nÄ±n AkÄ±ÅŸÄ±\n\nPaketlerin yÃ¼klenmesi\nDEM verisinin indirilmesi\nVerinin gÃ¶rselleÅŸtirilmesi"
  },
  {
    "objectID": "posts/dem/dem.html#paketlerin-yÃ¼klenmesi",
    "href": "posts/dem/dem.html#paketlerin-yÃ¼klenmesi",
    "title": "R ile Topografik Veri Ä°ndirme - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "1. Paketlerin yÃ¼klenmesi",
    "text": "1. Paketlerin yÃ¼klenmesi\nHangi paketleri kullanacaÄŸÄ±mÄ±za geÃ§meden Ã¶nce size R programlama konusunda geÃ§irdiÄŸim zihinsel deÄŸiÅŸimden bahsetmek istiyorum. R Ã¶ÄŸrenmeye baÅŸladÄ±ÄŸÄ±mda -olmasÄ± gerektiÄŸi gibi- ilk olarak R programlamanÄ±n temellerini Ã¶ÄŸrenmiÅŸ, ardÄ±ndan R ile veri analizine geÃ§miÅŸtim. SonrasÄ±nda arkadaÅŸÄ±m ve saygÄ±deÄŸer hocam Ä°smailâ€™in (kendisi benim ilk R hocam ve yardÄ±mcÄ± tez danÄ±ÅŸmanÄ±m oluyor) Ã¶nerileriyle tidyverse kullanmaya baÅŸladÄ±m. tidyverse, daha Ã¶nceki yazÄ±larda da bahsettiÄŸim gibi, veri iÅŸlerini standartlaÅŸtÄ±ran bir paket koleksiyonu. Ä°Ã§erisinde dÃ¼zenli veri - tidy data prensiplerine dayanan, R ile veri iÅŸlemeyi standart ve daha kolay bir hÃ¢le getiren ggplot2, dplyr, readr, tidyr, tibble gibi Ã§ok sayÄ±da paket bulunuyor. O gÃ¼nden bugÃ¼ne iÅŸlerimin bÃ¼yÃ¼k bir kÄ±smÄ±nda bu paketleri kullandÄ±m. Bu sÃ¼reÃ§, veri analizi konusunda bana Ã§ok ÅŸey Ã¶ÄŸretti; dÃ¼zenli veri prensiplerini, onlarÄ± uygulamayÄ± ve Râ€™Ä±n en popÃ¼ler paketlerinden tidyverseâ€™yi Ã¶ÄŸrendim. GeÃ§tiÄŸimiz ocak ayÄ±nda ise programlama konusundaki fikirlerimde bazÄ± deÄŸiÅŸiklikler oldu ve bÃ¼yÃ¼k oranda base R kullanmaya baÅŸladÄ±m. Bu kararÄ±, tidyverseâ€™nin kÃ¶tÃ¼, yetersiz bir paket olduÄŸunu dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼m iÃ§in almadÄ±m. Kendileri veri iÅŸlemede bÃ¼yÃ¼k kolaylÄ±klar saÄŸlayan, iÅŸlevsel bir paket. Mesela ggplot2â€™nin yeri kolay kolay doldurulamaz. Ancak R, hÃ¢lihazÄ±rda veri analizi ve istatistik iÃ§in geliÅŸtirilmiÅŸ bir dil ve bu iÅŸler iÃ§in yerli olan Ã§ok sayÄ±da araÃ§ barÄ±ndÄ±rÄ±yor. base R kullanarak hiÃ§bir baÄŸÄ±mlÄ±lÄ±k, hiÃ§bir yeni paket gerekmeden birÃ§ok iÅŸinizi kolaylÄ±kla gÃ¶rebilirsiniz. AÄŸÄ±rlÄ±kla C ve Fortran gibi dillerle yazÄ±lmÄ±ÅŸ olan base R fonksiyonlarÄ± doÄŸru kullanÄ±ldÄ±ÄŸÄ±nda Ä±ÅŸÄ±k hÄ±zÄ±nda Ã§alÄ±ÅŸabiliyor. Ta ki tekrarlanan iÅŸler iÃ§in dÃ¶ngÃ¼ler ya da apply() gibi fonksiyonlar kullanana kadar. Ben de olabildiÄŸince daha az baÄŸÄ±mlÄ±kla Ã§alÄ±ÅŸmak, Râ€™Ä±n yerli gÃ¼cÃ¼nden yararlanmak ve analizin yanÄ± sÄ±ra programlamaya da aÄŸÄ±rlÄ±k vermek amacÄ±yla Ã§oÄŸunlukla base R kullanmaya baÅŸladÄ±m. YanlÄ±ÅŸ anlaÅŸÄ±lmasÄ±n, paket kullanmaya ya da tidyverseâ€™ye karÅŸÄ± deÄŸilim. Sadece base R ile kolaylÄ±kla yapabileceÄŸim ÅŸeyler iÃ§in neden paket kullanayÄ±m? EÄŸer base R yeterince etkili bir seÃ§enek deÄŸilse diÄŸer paketlerden yararlanÄ±rÄ±m.\nNeyse sÃ¶zÃ¼ fazla uzattÄ±m. Åimdi bu iÅŸ iÃ§in kullanacaÄŸÄ±mÄ±z paketleri yÃ¼kleyebiliriz. EÄŸer bilgisayarÄ±nÄ±zda yÃ¼klÃ¼ olmayan bir paket varsa install.packages() fonksiyonunu kullanarak yÃ¼kleyebilirsiniz. Bu yazÄ± iÃ§in toplamda iki paket kullanacaÄŸÄ±z: terra ve geodata. Ben mekÃ¢nsal vektÃ¶r iÅŸlerinde genellikle sf paktini kullanÄ±yorum ancak bu sefer hem vektÃ¶r hem de raster veriler iÃ§in terra paketini kullanacaÄŸÄ±z. MÃ¼lki idare sÄ±nÄ±rlarÄ± ve sayÄ±sal yÃ¼kseklik modellerine eriÅŸmek iÃ§in de geodata paketini kullanacaÄŸÄ±z. Bu paket de raster, terra, dismo gibi birÃ§ok Ã¶nemli R paketini yazan Robert Hijmansâ€™Ä±n yazdÄ±ÄŸÄ± bir paket.\n\n# paketleri R'a yukle\nlibs &lt;- c(\n  \"terra\",  # mekansal raster ve vektor verileri islemek icin, {raster}'in halefi\n  \"geodata\" # bazi mekansal verilere erismek icin \n)\nsapply(libs, require, character.only = TRUE)\n\n  terra geodata \n   TRUE    TRUE"
  },
  {
    "objectID": "posts/dem/dem.html#dem-verisinin-indirilmesi",
    "href": "posts/dem/dem.html#dem-verisinin-indirilmesi",
    "title": "R ile Topografik Veri Ä°ndirme - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "2. DEM verisinin indirilmesi",
    "text": "2. DEM verisinin indirilmesi\nDEM verisinden Ã¶nceki yazÄ±da kÄ±saca bahsetmiÅŸtim. Tekrardan hatÄ±rlamakta fayda var. DEM (Digital Elevation Model), kÄ±saca, yeryÃ¼zÃ¼nÃ¼n yÃ¼kseklik bilgisini sayÄ±sal olarak temsil eden modele verilen isim. Her bir grid iÃ§in, sahip olduÄŸu yÃ¼kseklik verisini barÄ±ndÄ±ran bu veri, topografik ve hidrolojik birÃ§ok analizde sÄ±klÄ±kla kullanÄ±lÄ±yor.\nBu yazÄ±da SRTM verisini, geodata paketini kullanarak indireceÄŸiz. Bu paket ile, GADM, SRTM, Worldclim, OSM gibi birÃ§ok farklÄ± veriyi kolaylÄ±kla indirebiliriz.\nÃ–ncelikle paketin iÃ§erdiÄŸi fonksiyonlara bir bakalÄ±m.\n\nls(\"package:geodata\")\n\n [1] \"bio_oracle\"          \"cmip6_tile\"          \"cmip6_world\"        \n [4] \"country_codes\"       \"crop_calendar_sacks\" \"crop_monfreda\"      \n [7] \"crop_spam\"           \"cropland\"            \"elevation_30s\"      \n[10] \"elevation_3s\"        \"elevation_global\"    \"footprint\"          \n[13] \"gadm\"                \"geodata_path\"        \"landcover\"          \n[16] \"monfredaCrops\"       \"osm\"                 \"population\"         \n[19] \"rice_calendar\"       \"sacksCrops\"          \"soil_af\"            \n[22] \"soil_af_elements\"    \"soil_af_isda\"        \"soil_af_water\"      \n[25] \"soil_world\"          \"soil_world_vsi\"      \"sp_genus\"           \n[28] \"sp_occurrence\"       \"sp_occurrence_split\" \"spamCrops\"          \n[31] \"travel_time\"         \"world\"               \"worldclim_country\"  \n[34] \"worldclim_global\"    \"worldclim_tile\"     \n\n\nBizim iÅŸimize yarayacak fonkiyon elevation_30s(). Ãœlke kodu iÃ§in country argÃ¼manÄ±nÄ±, DEM verisinin TÃ¼rkiye sÄ±nÄ±rlarÄ±na gÃ¶re maskelemek iÃ§in mask argÃ¼manÄ±nÄ± ve veriyi kaydeceÄŸimiz yer iÃ§in ise path argÃ¼manÄ±nÄ± kullanÄ±yoruz. Ben tempfile() fonksiyonu ile geÃ§ici bir dosya oluÅŸturdum. Dilerseniz yereldeki herhangi bir dizine de kaydedebilirsiniz.\n\ndem &lt;- elevation_30s(country = \"TUR\", mask = TRUE, path = tempfile())\ndem\n\nclass       : SpatRaster \ndimensions  : 792, 2340, 1  (nrow, ncol, nlyr)\nresolution  : 0.008333333, 0.008333333  (x, y)\nextent      : 25.5, 45, 35.7, 42.3  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : TUR_elv_msk.tif \nname        : TUR_elv_msk \nmin value   :         -42 \nmax value   :        4972 \n\n\n\nnrow(dem) * ncol(dem)\n\n[1] 1853280\n\n\nVerinin Ã§Ä±ktÄ±sÄ±nda birÃ§ok temel bilgiye eriÅŸebiliriz. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi veri SpatRaster sÄ±nÄ±fÄ±nda; satÄ±r sayÄ±sÄ± 792, sÃ¼tun sayÄ±sÄ± 2340 olan, toplamda 1853280 hÃ¼creden oluÅŸuyor. Ã‡Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼ 0.008333333 derece, yani yaklaÅŸÄ±k 1 km diyebiliriz. Verinin extentâ€™i TÃ¼rkiye sÄ±nÄ±rlarÄ±nÄ± kapsÄ±yor. Minimum deÄŸer -42 m, iken maksimum deÄŸer 4972 m. YaklaÅŸÄ±k 1 km Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸe sahip olduÄŸunu dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼mÃ¼zde neredeyse AÄŸrÄ± DaÄŸÄ±â€™nÄ±n 5137 metrelik rakÄ±mÄ±nÄ± yakalÄ±yormuÅŸ. Gayet iyi.\nVerinin minimum deÄŸeri -42 metreden baÅŸladÄ±ÄŸÄ± iÃ§in reclassify etmek istiyorum. 0â€™dan kÃ¼Ã§Ã¼k olan tÃ¼m deÄŸerleri 0â€™a eÅŸitleyeceÄŸim. Bunu terra paketi iÃ§indeki classify() fonksiyonu ile yapabiliriz.\n\ndem &lt;- classify(\n  dem, \n  rcl = matrix(c(-Inf, 0, 0), ncol = 3, byrow = TRUE)\n)\ndem\n\nclass       : SpatRaster \ndimensions  : 792, 2340, 1  (nrow, ncol, nlyr)\nresolution  : 0.008333333, 0.008333333  (x, y)\nextent      : 25.5, 45, 35.7, 42.3  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource(s)   : memory\nvarname     : TUR_elv_msk \nname        : TUR_elv_msk \nmin value   :           0 \nmax value   :        4972 \n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi minimum deÄŸer artÄ±k 0â€™dan baÅŸlÄ±yor.\nÅimdi basitÃ§e gÃ¶rselleÅŸtirelim.\n\nplot(dem)\n\n\n\n\n\n\n\n\nBu hÃ¢liyle bile Ã§ok gÃ¼zel gÃ¶rÃ¼nÃ¼yor.\nÅimdi de eÄŸim, bakÄ± ve hillshadeâ€™i hesaplÄ±yoruz.\n\nslp &lt;- terrain(dem, \"slope\", unit = \"radian\")\nasp &lt;- terrain(dem, \"aspect\", unit = \"radian\")\nhillshade &lt;- shade(\n  slp,\n  asp,\n  angle = 45,\n  direction = 300,\n  normalize = TRUE\n)\n\nBir bakalÄ±m nasÄ±l gÃ¶rÃ¼nÃ¼yorlar. Ã‡oÄŸu durumda plot(data) yeterince iyi sonuÃ§ veriyor ancak daha yÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ bir gÃ¶rÃ¼ntÃ¼ iÃ§in maxcell argÃ¼manÄ±nÄ± deÄŸiÅŸtireceÄŸim. Ä°ÅŸlem biraz yavaÅŸlayabilir.\n\nplot(slp, maxcell = prod(dim(slp))) # sutun ve satir sayisini carpip hucre sayisini hesapliyorum\n\n\n\n\n\n\n\n\n\nplot(asp, maxcell = prod(dim(asp)))\n\n\n\n\n\n\n\n\n\nplot(hillshade, maxcell = prod(dim(hillshade)), col = grey(0:100/100))\n\n\n\n\n\n\n\n\nÅimdi de mÃ¼lki idare sÄ±nÄ±rlarÄ± iÃ§in GADM verilerini Ã§ekelim. GADM, TÃ¼rkiye iÃ§in sÄ±nÄ±r Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼ yÃ¼ksek olan bir veri deÄŸil ancak yÃ¼ksek sÄ±nÄ±r doÄŸruluÄŸu gerekmeyen iÅŸler iÃ§in gayet kullanÄ±ÅŸlÄ±. TÃ¼m dÃ¼nya verisini Ã§ekip, TÃ¼rkiyeâ€™nin ve komÅŸularÄ±n bir kÄ±smÄ±nÄ±n extentâ€™inin koordinatlarÄ±na gÃ¶re kÄ±rpÄ±yoruz.\n\nadm &lt;- world(resolution = 1, path = tempfile())\next &lt;- vect(ext(c(25.7, 45.3, 35.5, 42.5)), crs = \"EPSG:4326\")\nadm &lt;- crop(adm, ext)\nadm\n\n class       : SpatVector \n geometry    : polygons \n dimensions  : 10, 2  (geometries, attributes)\n extent      : 25.7, 45.3, 35.5, 42.5  (xmin, xmax, ymin, ymax)\n coord. ref. : +proj=longlat +datum=WGS84 +no_defs \n names       : GID_0     NAME_0\n type        : &lt;chr&gt;      &lt;chr&gt;\n values      :   ARM    Armenia\n                 AZE Azerbaijan\n                 BGR   Bulgaria\n\n\n\nplot(adm)"
  },
  {
    "objectID": "posts/dem/dem.html#verinin-gÃ¶rselleÅŸtirilmesi",
    "href": "posts/dem/dem.html#verinin-gÃ¶rselleÅŸtirilmesi",
    "title": "R ile Topografik Veri Ä°ndirme - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "3. Verinin gÃ¶rselleÅŸtirilmesi",
    "text": "3. Verinin gÃ¶rselleÅŸtirilmesi\nÅimdi gÃ¼zel bir harita oluÅŸturalÄ±m. YazÄ±nÄ±n en karmaÅŸÄ±k kÄ±smÄ± nuhtemelen burasÄ± olacak. Daha Ã¶nceki yazÄ±larda, Râ€™da grafikler iÃ§in oldukÃ§a standart bir iÅŸ akÄ±ÅŸÄ± saÄŸlayan ggplot2 paketini kullanarak haritalar Ã§izmiÅŸtik. Bu sefer ise base R kullanacaÄŸÄ±z. base R ile grafik Ã§izdiÄŸimiz zaman ilkin gÃ¶zÃ¼mÃ¼ze yeterince iyi gelmeyebilir ancak biraz tecrÃ¼be kazandÄ±ÄŸÄ±mÄ±zda ne kadar esnek ve iÅŸlevsel olduÄŸunu gÃ¶rebiliriz. ggplot2 kadar standart, karmaÅŸÄ±k grafiklerde onun kadar kolay bir iÅŸ akÄ±ÅŸÄ± sunmuyor ancak dÃ¼ÅŸÃ¼nÃ¼ldÃ¼ÄŸÃ¼ kadar zor deÄŸil ve Ã§ok daha esnek bir yapÄ±ya sahip. Neredeyse dilediÄŸimiz hemen her ÅŸeyi Ã§izebiliriz. Bazen Ã§ok az satÄ±rla bile sÃ¼per iÅŸler Ã§Ä±kabiliyor. Bu aÅŸamada yanlÄ±ÅŸ ya da eksik yaptÄ±ÄŸÄ±m ÅŸeyler olursa yorum yapmaktan Ã§ekinmeyin lÃ¼tfen.\nÃ–ncelikle TÃ¼rkiye ve Ã§evre Ã¼lkelerin sÄ±nÄ±rlarÄ±nÄ±n olduÄŸu bir altlÄ±k harita Ã§izelim.\n\nplot(\n  adm,                       # veri\n  lwd = 0.8,                 # cizgi kalinligi\n  xlim = c(26.1, 44.9),      # x eksinin sinirladigimiz aralik\n  ylim = c(35.7, 42.3),      # y eksinin sinirladigimiz aralik\n  border = \"grey\",           # poligon sinirlarinin rengi\n  background = \"lightblue\",  # deniz alanlarinin rengi\n  col = \"white\",             # kara alanlarinin rengi\n  axes = TRUE,               # eksenleri cizmek icin\n  mar = c(2, 1, 0, 1),       # plot'un marginlerini belirtiyor (alt, sol, ust, sag)\n  las = 1                    # en cok gozden kacan nokta, y eksenininin etiketlerini yatay yapiyor\n)\n\n\n\n\n\n\n\n\nÅimdi de kabartmasÄ±yla ve konturlarÄ±yla beraber topografik haritamÄ±zÄ± Ã§izelim.\n\nplot(\n  hillshade,\n  col = grey(0:100 / 100),\n  mar = c(5, 1, 0, 1),\n  maxcell = prod(dim(hillshade)),\n  legend = FALSE # rakimin lejantini cizmek icin burada cizmiyoruz\n)\nplot(\n  dem,\n  col = terrain.colors(255),\n  alpha = 0.5,\n  maxcell = prod(dim(dem)),\n  add = TRUE,               # ilk plot'un uzerine cizebilmek icin\n  legend = TRUE,\n  plg = list(               # terra::plot'ta lejant ayarlari icin\n    loc = \"bottom\",         # lejanti asagiya ciz\n    size = c(0.6, 0.7),     # lejant boyutu\n    cex = 0.8,              # yazi boyutu\n    at = seq(0, 4500, 500), # lejant etiketleri\n    tic = \"out\",            # lejanttaki cizgilerin pozisyonu\n    title = \"m\",            # baslik\n    title.cex = 0.8         # baslik boyutu\n  )\n)\ncontour(\n  dem, \n  lwd = 0.35, \n  labcex = 0.38, # label boyutu\n  col = scales::alpha(\"grey40\", 0.7), \n  add = TRUE\n)\n\n\n\n\n\n\n\n\nÅimdi de iki haritayÄ± birleÅŸtirelim. Ancak bu sefer konturu Ã§izmeyeceÄŸim.\n\nplot.new() # yeni bir plot baslatmak icin\npar(family = \"OpenSans\") # font \nplot(\n  adm,\n  lwd = 0.8,\n  xlim = c(26.1, 44.9),\n  ylim = c(35.7, 42.3),\n  border = \"grey\",\n  background = \"lightblue\",\n  col = \"white\",\n  mar = c(5, 1, 0, 1),\n  axes = TRUE,\n  las = 1\n)\nplot(\n  hillshade,\n  col = grey(0:100/100),\n  maxcell = prod(dim(hillshade)),\n  legend = FALSE,\n  add = TRUE\n)\nplot(\n  dem,\n  col = terrain.colors(255),\n  alpha = 0.5,\n  maxcell = prod(dim(dem)),\n  add = TRUE,\n  legend = TRUE,\n  plg = list(\n    loc = \"bottom\",\n    size = c(0.6, 0.7),\n    cex = 0.8,\n    at = seq(0, 4500, 500),\n    tic = \"out\",\n    title = \"RakÄ±m [m]\",\n    title.cex = 0.8\n  )\n)\nplot(adm, border = \"grey\", lwd = 0.8, add = TRUE) # sinirlari vurgulu cizmek icin tekrar ekledim\n\n\n\n\n\n\n\n\nFena olmadÄ±. :) Biraz daha uÄŸraÅŸla daha iyi haritalar elde edilebilir. Ã–zellikle de gÃ¶l ve nehir katmanlarÄ± eklenirse gÃ¼zel olacaktÄ±r.\nÅimdi de TÃ¼rkiye rakÄ±mÄ±nÄ±n daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m. Bunun iÃ§in histogram Ã§izeceÄŸim.\n\nplot.new()\npar(\n  mar = c(5, 5, 1, 1),\n  mgp = c(3.6, 1, 0),         # etiket uzakligini ayarliyoruz\n  las = 1, \n  family = \"OpenSans\", \n  bty = \"l\",                  # box'Ä±n tipini L seklinde yapmak icin\n  cex.lab = 1.3,\n  xpd = NA                    # etiketi grafik sinirlari disina tasimaya izin verir\n)\nhist(\n  dem,\n  xlab = \"RakÄ±m [m]\",         # x ekseninin etiketi\n  ylab = \"SÄ±klÄ±k\",            # y ekseninin etiketi\n  main = \"\",                  # baslik icin. \"\" bos yaparak basligi cizmiyorum\n  col = \"orange\",\n  breaks = seq(0, 4972, 100), # grafigin kirilimlari\n  density = 50                # kutularin icindeki tarama cizgisinin yogunlugu\n)\naxis(                         # x eksenindeki kucuk tikleri cizmek icin\n  side = 1,                   # alttaki x eksenine cizmek icin\n  at = seq(0, 4972, 100),     # kirilimlar\n  tck = -0.030 / 4,           # tik boyutu kucuk olsun\n  labels = FALSE              # etiket olmamasi icin\n) \nbox()                         # eksenlere kutu cizmek icin\n\n\n\n\n\n\n\n\nGrafik, saÄŸa Ã§arpÄ±k bir daÄŸÄ±lÄ±m sergiliyor. Ortalama rakÄ±mÄ±n 1132 metre olduÄŸu TÃ¼rkiyeâ€™yi iyi temsil eden bir grafik oldu.\nBir sonraki yazÄ±da gÃ¶rÃ¼ÅŸÃ¼rÃ¼z.\nBilimle ve huzurla kalÄ±nÄ±z!"
  },
  {
    "objectID": "posts/dem2/dem2.html",
    "href": "posts/dem2/dem2.html",
    "title": "R ile Topografik Veri Ä°ndirme 2 - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "",
    "text": "Merhabalar, blogun yeni yazÄ±sÄ±na hoÅŸ geldiniz. TakÄ±ldÄ±ÄŸÄ±nÄ±z ve anlamadÄ±ÄŸÄ±nÄ±z yerler olursa lÃ¼tfen yorum yapmaya Ã§ekinmeyiniz. AyrÄ±ca katkÄ±larÄ±nÄ±zÄ± ve eleÅŸtirilerinizi de bekliyorum. Keyifli okumalar.\nGeÃ§tiÄŸimiz hafta, Ã¼zerinden uzunca bir zaman geÃ§tikten sonra, blogun Ã¼Ã§Ã¼ncÃ¼ yazÄ±sÄ±nÄ± yayÄ±mlamÄ±ÅŸtÄ±m. geodata paketini kullanarak SRTM verisi indirmiÅŸ ve gÃ¶rselleÅŸtirmiÅŸtim. SRTM, orijinal olarak 30 metre Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ bir veri ancak geodata paketi bu veriyi, maksimum 30 arc second (yaklaÅŸÄ±k 1 km) Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ olarak saÄŸlÄ±yor. Bu Ã§Ã¶zÃ¼nÃ¼rlÃ¼k, Ã§oÄŸu gÃ¶rselleÅŸtirme ve ekolojik modelleme Ã§alÄ±ÅŸmasÄ± iÃ§in oldukÃ§a yeterli, Ã¶zellikle de TÃ¼rkiye gibi bÃ¼yÃ¼k coÄŸrafyalarda Ã§alÄ±ÅŸtÄ±ÄŸÄ±mÄ±z zaman. Ancak Ã§alÄ±ÅŸmamÄ±zÄ±n konusu, amacÄ± ya da Ã§alÄ±ÅŸma alanÄ±nÄ±n boyutuna gÃ¶re, topografyayÄ± daha iyi temsil edecek, daha yÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ verilere ihtiyaÃ§ duyabiliriz. GeÃ§tiÄŸimiz yazÄ±nÄ±n devamÄ± niteliÄŸindeki bu yazÄ±da, R kullanarak yÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ SRTM verilerine nasÄ±l eriÅŸebileceÄŸimizi anlatacaÄŸÄ±m. YÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼ veri indireceÄŸimiz iÃ§in TÃ¼rkiye Ã¶lÃ§eÄŸinde veri indirmek ve o veriyi iÅŸlemek daha fazla zaman alacaktÄ±r. Bu sebeple bu yazÄ± Ä°zmir Ã¶lÃ§eÄŸinde olacak."
  },
  {
    "objectID": "posts/dem2/dem2.html#yazÄ±nÄ±n-akÄ±ÅŸÄ±",
    "href": "posts/dem2/dem2.html#yazÄ±nÄ±n-akÄ±ÅŸÄ±",
    "title": "R ile Topografik Veri Ä°ndirme 2 - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "YazÄ±nÄ±n AkÄ±ÅŸÄ±",
    "text": "YazÄ±nÄ±n AkÄ±ÅŸÄ±\n\nPaketlerin yÃ¼klenmesi\nDEM verisinin indirilmesi\nVerinin gÃ¶rselleÅŸtirilmesi"
  },
  {
    "objectID": "posts/dem2/dem2.html#paketlerin-yÃ¼klenmesi",
    "href": "posts/dem2/dem2.html#paketlerin-yÃ¼klenmesi",
    "title": "R ile Topografik Veri Ä°ndirme 2 - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "1. Paketlerin yÃ¼klenmesi",
    "text": "1. Paketlerin yÃ¼klenmesi\nBu yazÄ± iÃ§in 4 paket kullanacaÄŸÄ±z. MekÃ¢nsal vektÃ¶r veriler iÃ§in sf, raster veriler iÃ§in terra, mÃ¼lki idare sÄ±nÄ±rlarÄ± iÃ§in yine rgeoboundaries ve interaktif gÃ¶rselleÅŸtirme iÃ§in de mapview paketini kullanacaÄŸÄ±z. Bu yazÄ±daki yeni paketimiz elevatr. DEM verilerine eriÅŸmek iÃ§in oldukÃ§a pratik bir paket.\n\nlibrary(sf)\nlibrary(terra)\nlibrary(elevatr)\nlibrary(rgeoboundaries)\nlibrary(mapview)"
  },
  {
    "objectID": "posts/dem2/dem2.html#dem-verisinin-indirilmesi",
    "href": "posts/dem2/dem2.html#dem-verisinin-indirilmesi",
    "title": "R ile Topografik Veri Ä°ndirme 2 - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "2. DEM verisinin indirilmesi",
    "text": "2. DEM verisinin indirilmesi\nelevatr paketini kullanarak birden fazla kaynaktan (SRTM, ALOS 3D, Amazon) veri indirmek mÃ¼mkÃ¼n. YukarÄ±da da bahsettiÄŸim gibi bu yazÄ±da SRTM verisi indireceÄŸiz. Bunun iÃ§in ilk olarak TÃ¼rkiye mÃ¼lki idare sÄ±nÄ±rÄ± verisini indirelim.\n\ntr_il &lt;- gb_adm1(\"TUR\")\ntr_il\n\nSimple feature collection with 81 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 25.66545 ymin: 35.80768 xmax: 44.81766 ymax: 42.1048\nGeodetic CRS:  WGS 84\nFirst 10 features:\n   shapeGroup shapeType      shapeName shapeISO                 shapeID\n1         TUR      ADM1          Adana    TR-01 25984515B95172477822815\n2         TUR      ADM1       AdÄ±yaman    TR-02 25984515B90872828599679\n3         TUR      ADM1 Afyonkarahisar    TR-03 25984515B26209284550223\n4         TUR      ADM1           AÄŸrÄ±    TR-04 25984515B39003465173278\n5         TUR      ADM1         Amasya    TR-05 25984515B32583172380009\n6         TUR      ADM1        Antalya    TR-07 25984515B97476213604692\n7         TUR      ADM1         Artvin    TR-08  25984515B1602304411378\n8         TUR      ADM1          AydÄ±n    TR-09 25984515B63739470532168\n9         TUR      ADM1      BalÄ±kesir    TR-10 25984515B55384476443375\n10        TUR      ADM1         Ankara    TR-06 25984515B47806653651907\n   shapeCanonical                       geometry\n1        province MULTIPOLYGON (((35.38791 36...\n2        province MULTIPOLYGON (((37.861 37.4...\n3        province MULTIPOLYGON (((30.48061 38...\n4        province MULTIPOLYGON (((43.77542 39...\n5        province MULTIPOLYGON (((36.3878 40....\n6        province MULTIPOLYGON (((30.42781 36...\n7        province MULTIPOLYGON (((41.87016 40...\n8        province MULTIPOLYGON (((27.33197 37...\n9        province MULTIPOLYGON (((26.7224 39....\n10       province MULTIPOLYGON (((31.96673 38...\n\n\n\nplot(st_geometry(tr_il))\n\n\n\n\nÅekil 1: TÃ¼rkiye mÃ¼lki idare sÄ±nÄ±rlarÄ±.\n\n\n\n\nÅimdi de Ä°zmir sÄ±nÄ±rlarÄ±nÄ± Ã§ekelim.\n\nizm &lt;- tr_il[tr_il$shapeName == \"Ä°zmir\", ]\nizm\n\nSimple feature collection with 1 feature and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 26.19417 ymin: 37.81523 xmax: 28.49308 ymax: 39.38549\nGeodetic CRS:  WGS 84\n   shapeGroup shapeType shapeName shapeISO                 shapeID\n41        TUR      ADM1     Ä°zmir    TR-35 25984515B59477790330217\n   shapeCanonical                       geometry\n41       province MULTIPOLYGON (((28.48507 38...\n\n\n\nplot(st_geometry(izm))\n\n\n\n\nÅekil 2: Ä°zmir mÃ¼lki idare sÄ±nÄ±rlarÄ±.\n\n\n\n\nBir de interaktif olarak kontrol edelim.\n\nmapview(izm)\n\n\n\nÅekil 3: Ä°zmir mÃ¼lki idare sÄ±nÄ±rlarÄ±.\n\n\nÄ°zmir sÄ±nÄ±rlarÄ± hazÄ±r olduÄŸuna gÃ¶re DEM verisini indirebiliriz.\nelevatr paketi, â€œawsâ€ hariÃ§ diÄŸer kaynaklardan veri indirmek iÃ§in OpenTopography APIâ€™sini kullanÄ±yor. Bunun iÃ§in siteye Ã¼ye olmalÄ± ve API Key oluÅŸturmalÄ±sÄ±nÄ±z. Bu, iÅŸlem Ã¼cretsiz ve oldukÃ§a basit. SonrasÄ±nda set_opentopo_key() fonksiyonunu kullanarak keyâ€™inizi girmelisiniz. ArdÄ±ndan R oturumunu yeniden baÅŸlattÄ±ÄŸÄ±nÄ±zda verilere eriÅŸebilirsiniz.\nÄ°zmir sÄ±nÄ±rlarÄ±nÄ± kullanarak DEM verisini indirmek iÃ§in get_elev_raster() fonksiyonunu kullanacaÄŸÄ±z. Ä°zmir DEM verisini indirmek iÃ§in locations = izm, yÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ SRTM verisi iÃ§in src = \"gl1\" ve veriyi Ä°zmir sÄ±nÄ±rlarÄ±na gÃ¶re kÄ±rpmak iÃ§in de clip = \"locations\" argÃ¼manÄ±nÄ± kullanacaÄŸÄ±z.\n\ndem &lt;- get_elev_raster(izm, src = \"gl1\", clip = \"locations\")\n\n\ndem\n\nclass      : RasterLayer \ndimensions : 5653, 8276, 46784228  (nrow, ncol, ncell)\nresolution : 0.0002777778, 0.0002777778  (x, y)\nextent     : 26.19431, 28.49319, 37.81514, 39.38542  (xmin, xmax, ymin, ymax)\ncrs        : +proj=longlat +datum=WGS84 +no_defs \nsource     : memory\nnames      : file90761e26a847 \nvalues     : -25, 2148  (min, max)\n\n\n\nplot(dem)\n\n\n\n\nÅekil 4: Ä°zmir topografya haritasÄ±, raster paketinin varsayÄ±lan plot() fonksiyonu.\n\n\n\n\nYÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ DEM verisini indirdik. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi veri RasterLayer sÄ±nÄ±fÄ±nda. Bunun sebebi elevatr paketinin hÃ¢len raster paketini kullanmasÄ±. Veriyi terraâ€™nÄ±n SpatRaster sÄ±nÄ±fÄ±na Ã§eviriyorum. ArdÄ±ndan da bir Ã¶nceki yazÄ±daki gibi reclassify edip, 0â€™dan kÃ¼Ã§Ã¼k olan tÃ¼m deÄŸerleri 0â€™a eÅŸitleyeceÄŸim. Bunu terra paketi iÃ§indeki classify() fonksiyonu ile yapabiliriz.\n\ndem &lt;- rast(dem)\ndem &lt;- classify(\n  dem, \n  rcl = matrix(c(-Inf, 0, 0), ncol = 3, byrow = TRUE)\n)\ndem\n\nclass       : SpatRaster \ndimensions  : 5653, 8276, 1  (nrow, ncol, nlyr)\nresolution  : 0.0002777778, 0.0002777778  (x, y)\nextent      : 26.19431, 28.49319, 37.81514, 39.38542  (xmin, xmax, ymin, ymax)\ncoord. ref. : +proj=longlat +datum=WGS84 +no_defs \nsource(s)   : memory\nname        : file90761e26a847 \nmin value   :                0 \nmax value   :             2148 \n\n\n\nplot(dem)\n\n\n\n\nÅekil 5: Ä°zmir topografya haritasÄ±, terra paketinin varsayÄ±lan plot() fonksiyonu.\n\n\n\n\nÅimdi de gÃ¶rselleÅŸtirmeye geÃ§ebiliriz."
  },
  {
    "objectID": "posts/dem2/dem2.html#verinin-gÃ¶rselleÅŸtirilmesi",
    "href": "posts/dem2/dem2.html#verinin-gÃ¶rselleÅŸtirilmesi",
    "title": "R ile Topografik Veri Ä°ndirme 2 - DEM Verisi Ä°ndirme ve GÃ¶rselleÅŸtirme",
    "section": "3. Verinin gÃ¶rselleÅŸtirilmesi",
    "text": "3. Verinin gÃ¶rselleÅŸtirilmesi\nVeriyi gÃ¶rselleÅŸtirmek iÃ§in yine base R kullanacaÄŸÄ±m. Bu sefer daha iyi bir renk paleti seÃ§iyor ve kuzey oku ile Ã¶lÃ§ek ekliyorum.\n\nbreaks &lt;- seq(0, 2150, 10)                                                    # kirilimlari onceden belirliyoruz\n\npar(family = \"Montserrat\", cex = 1.4)                                         # font ailesi ve boyutu\nplot(\n  dem,                                                                        # raster veri \n  breaks = breaks,                                                            # kirilimlar\n  type = \"continuous\",                                                        # kirilimlari manuel belirledigimiz icin lejanti manuel olarak cont. yapmamiz gerekiyor\n  col = tidyterra::hypso.colors(                                              # tidyterra paketiyle palet seciyorum  \n    length(breaks) - 1,                                                       # renk sayisinin kÄ±rilim boyutundan bir az olmasi icin\n    palette = \"wiki-schwarzwald-cont\"\n  ), \n  las = 1,                                                                    # y eksenindeki yazilarÄ±n yatay olmasi icin\n  maxcell = prod(dim(dem)),                                                   # maksimum cozunurlukte cizmek icin\n  plg = list(at = seq(0, 2100, 250), tic = \"out\"),                            # lejant ayarlari\n  mar = c(0.5, 1.5, 0, 4)                                                     # marjin \n)\nplot(st_geometry(izm), add = TRUE)                                            # izmir sinirlari\nnorth(c(26.35, 39.2), type = 1, label = expression(bold(\"KUZEY\")), lwd = 1.2) # kuzey oku\nsbar(10, \"bottomleft\", below = \"km\", adj = c(0.5, -1), lonlat = TRUE)         # olcek\nmtext(\"Veri: SRTM\", side = 1, adj = 0.99, line = 1.7)                         # kaynak eklemek icin\n\n\n\n\nÅekil 6: Ä°zmir topografya haritasÄ±, terra ve base plot ile topografya haritasÄ±.\n\n\n\n\nGeÃ§enki yazÄ±daki histogramÄ± ÅŸimdi de Ä°zmir iÃ§in Ã§izelim, rakÄ±mÄ±n Ä°zmirâ€™deki daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m.\n\nbreaks &lt;- seq(0, 2150, 50)\n\npar(\n  mar = c(5, 5.2, 1, 1),\n  mgp = c(3.6, 0.7, 0),                                                     # etiket uzakligini ayarliyoruz\n  las = 1, \n  family = \"Montserrat\", \n  bty = \"l\",                                                                # box'Ä±n tipini L seklinde yapmak icin\n  cex.lab = 1.2,\n  xpd = NA                                                                  # etiketi grafik sinirlari disina tasimaya izin verir\n)\nhist(dem, xlab = \"RakÄ±m [m]\", ylab = \"SÄ±klÄ±k\", main = \"\", breaks = breaks)  # histogram\naxis(side = 1, at = breaks, tck = -0.030 / 4, labels = FALSE)               # x eksenindeki kucuk tikler\nbox()                                                                       # eksenlere kutu cizmek icin\n\n\n\n\nÅekil 7: Ä°zmirâ€™de rakÄ±mÄ±n daÄŸÄ±lÄ±mÄ±.\n\n\n\n\nGrafik, sergilediÄŸi saÄŸa Ã§arpÄ±k daÄŸÄ±lÄ±mla Ä°zmirâ€™in bir kÄ±yÄ± kenti olduÄŸunu oldukÃ§a net bir ÅŸekilde gÃ¶steriyor.\nBir sonraki yazÄ±da gÃ¶rÃ¼ÅŸÃ¼rÃ¼z.\nBilimle ve huzurla kalÄ±nÄ±z!"
  }
]