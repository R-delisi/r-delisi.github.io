[
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi I\n\n\n\n\n\n\n\n\n\n\n\n\nMehmet GÃ¶ktuÄŸ Ã–ztÃ¼rk\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "HakkÄ±mda",
    "section": "",
    "text": "Merhaba ben Mehmet GÃ¶ktuÄŸ Ã–ztÃ¼rk. Kendimi bildim bileli doÄŸayÄ± ve onu ÅŸekillendiren dinamikleri gÃ¶zlemlemeye karÅŸÄ± bÃ¼yÃ¼k bir ilgiye sahibim. DoÄŸup, bÃ¼yÃ¼dÃ¼ÄŸÃ¼m evin dÄ±ÅŸarÄ±dan izole bahÃ§esiyle baÅŸlayan doÄŸayla temasÄ±m, bÃ¼yÃ¼kbabamla gezdiÄŸim Orta Karadeniz meÅŸelikleri ve dedemden dinlediÄŸim yaban hayatÄ± hikÃ¢yeleriyle perÃ§inlendi. Bu sayede yolumun dÃ¼ÅŸtÃ¼ÄŸÃ¼ Hacettepe Ãœniversitesi Biyoloji BÃ¶lÃ¼mÃ¼â€™nden 2021 yÄ±lÄ±nda mezun oldum. Hacettepe Ãœniversitesi Fen Bilimleri EnstitÃ¼sÃ¼ Ekoloji Anabilim DalÄ±â€™nda, Ã‡aÄŸatay TavÅŸanoÄŸlu danÄ±ÅŸmanlÄ±ÄŸÄ±nda yÃ¼ksek lisans Ã§alÄ±ÅŸmamÄ± yÃ¼rÃ¼tÃ¼yorum. YÃ¼ksek lisans Ã§alÄ±ÅŸmam, yÄ±ldÄ±rÄ±m kÃ¶kenli orman yangÄ±nlarÄ±nÄ±n mekÃ¢n-zamansal Ã¶rÃ¼ntÃ¼leri Ã¼zerine. Lisans eÄŸitimim boyunca yangÄ±n ekolojisi, fonksiyonel bitki karakterleri, gÃ¶Ã§ebe hayvancÄ±lÄ±k, yÄ±rtÄ±cÄ± kuÅŸ gÃ¶Ã§Ã¼, Ã¼reyen kuÅŸlar ve bÃ¼yÃ¼k memeliler Ã¼zerine Ã§eÅŸitli projeler kapsamÄ±nda Ä°Ã§ Anadolu, Karadeniz, Akdeniz ve Ege BÃ¶lgesiâ€™nde arazi Ã§alÄ±ÅŸmalarÄ±na katÄ±ldÄ±m. Ekoloji, yaban hayatÄ±, doÄŸa koruma, klimatoloji, meteoroloji, mekÃ¢nsal veri analizi ve R programlama konularÄ±na bÃ¼yÃ¼k ilgi duymaktayÄ±m. AyrÄ±ca 2011 yÄ±lÄ±ndan beri mÃ¼davimi olduÄŸum havadelisi.comâ€™un editÃ¶rlÃ¼ÄŸÃ¼nÃ¼ yapmaktayÄ±m.\nBir blog yazma fikri ilk olarak, anadilde bilim anlatÄ±cÄ±lÄ±ÄŸÄ± ve blog kÃ¼ltÃ¼rÃ¼ konusunda Ã§ok ÅŸey Ã¶ÄŸrendiÄŸim Ozan Mert GÃ¶ktÃ¼rk ve meÅŸhur blogu havadelisi ile tanÄ±ÅŸtÄ±ÄŸÄ±m vakit ortaya Ã§Ä±ktÄ±. YÄ±llar iÃ§inde geliÅŸen ilgi alanlarÄ±m ve doÄŸayÄ± daha yakÄ±ndan tanÄ±ma Ã§abamla beraber bu blogun R ile ilgili olmasÄ± gerektiÄŸine karar verdim. R, sÄ±kÄ±cÄ± bir anlatÄ±mla, veri analizi ve istatistik konularÄ±nda aÃ§Ä±k ve tekrarlanabilir bir ortam saÄŸlayan bir programlama dili. Ancak merakÄ±nÄ±zÄ± cezbedecek bir ÅŸeyler sÃ¶yleyecek olursam, ilgi duyduÄŸunuz alanda bilgiye ulaÅŸmanÄ±z ve yeni bilgiler Ã¼retmeniz iÃ§in iÅŸinizi Ã§okÃ§a kolaylaÅŸtÄ±ran bir araÃ§. R ile ekoloji, biyoinformatik ve coÄŸrafi bilgi sistemleri (CBS) analizleri yapabilir; uydu gÃ¶rÃ¼ntÃ¼lerini iÅŸleyebilir; istatistik ve yapay zeka modelleri Ã§alÄ±ÅŸtÄ±rabilir; birbirinden gÃ¼zel grafikler, haritalar Ã§izebilir; makale, blog ve kitap dahi yazabilirsiniz. AÃ§Ä±k kaynaklÄ± olmasÄ± sebebiyle farklÄ± alanlardan, Ã¶zellikle de bilim Ã§evrelerinden, binlerce geliÅŸtirici sÃ¼rekli olarak yeni R paketleri geliÅŸtirmektedir. 17.04.2023 tarihi itibariyle 19 binden fazla R paketi mevcutmuÅŸ.\nBu blogda daha Ã§ok R ile ekoloji, biyocoÄŸrafya, iklimbilim konularÄ±ndaki verilerle ilgilenecek, veri manipÃ¼lasyonu, analizler, gÃ¶rselleÅŸtirmeler yapacaÄŸÄ±z. Ã–zellikle de mekÃ¢nsal analizler Ã¼zerine yoÄŸunlaÅŸacaÄŸÄ±mÄ±zÄ± dÃ¼ÅŸÃ¼nÃ¼yorum. Râ€™Ä±n yanÄ± sÄ±ra Python, Bash gibi dillerle de Ã§eÅŸitli iÃ§erikler oluÅŸturacaÄŸÄ±z. Bol tartÄ±ÅŸmalÄ±, hep birlikte Ã¶ÄŸreneceÄŸimiz iÃ§eriklereâ€¦\nBilimle ve huzurla kalÄ±nÄ±z."
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html",
    "href": "posts/ebird_R/ebird_r.html",
    "title": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi I",
    "section": "",
    "text": "Merhabalar, blogun ilk yazÄ±sÄ±na hoÅŸ geldiniz. Temel bilgiler iÃ§eren yazÄ±lar da olacak ancak blog iÃ§eriklerinin Ã§oÄŸunun bu gibi vaka Ã¶rneklerinden oluÅŸacaÄŸÄ±nÄ± dÃ¼ÅŸÃ¼nÃ¼yorum. TakÄ±ldÄ±ÄŸÄ±nÄ±z ve anlamadÄ±ÄŸÄ±nÄ±z yerler olursa lÃ¼tfen yorum yapmaya Ã§ekinmeyiniz. AyrÄ±ca katkÄ±larÄ±nÄ±zÄ± ve eleÅŸtirilerinizi de bekliyorum. Keyifli okumalar.\nLisansa baÅŸladÄ±ÄŸÄ±m yÄ±llarda arazi Ã§alÄ±ÅŸmalarÄ± iÃ§in can atan, lablardan ve her tÃ¼rlÃ¼ veri iÅŸinden kaÃ§an biriydim. DoÄŸayÄ± gÃ¶zlemlemeyi; kuÅŸ ve memeli arazilerine gitmeyi Ã§ok seviyor, bu konularda yapacaÄŸÄ±m bilimsel Ã§alÄ±ÅŸmalarÄ± dÃ¼ÅŸlÃ¼yordum. Ancak korkunun ecele faydasÄ± yokmuÅŸ. DoÄŸadaki gÃ¶zlemlerimizden anlamlÄ± bilgiler Ã§Ä±kartmanÄ±n yolu veriden geÃ§iyormuÅŸ. ğŸ˜… Veriyi, mÃ¼nasebetimiz arttÄ±kÃ§a sevmeye baÅŸladÄ±m. Ama Ã¶yle zorunluluktan sevmek falan deÄŸil. Ä°Ã§ine girdikÃ§e ne kadar haz veren bir uÄŸraÅŸ olduÄŸunu keÅŸfettim. Ä°statistik ve veri analizi, rakamlardan ibaret deÄŸil, hayatÄ±n her yerinde. Onu sevelim, koruyalÄ±m. :) Neyse lafÄ± fazla uzatmadan konuya dÃ¶neyim.\nBu blog yazÄ±sÄ±nda, R programlama dilini kullanarak kuÅŸ verilerinin nasÄ±l iÅŸlendiÄŸini gÃ¶stereceÄŸim. YazÄ±nÄ±n uzunluÄŸu korkutmasÄ±n! Sadece azÄ±cÄ±k bir ilgi ve temel R ile GIS bilgisi yeterli olacak. KuÅŸlara ilginiz olmasa bile, bu yazÄ±nÄ±n bazÄ± temel mekÃ¢nsal analizleri Ã¶ÄŸrenmek iÃ§in faydalÄ± olacaÄŸÄ±nÄ± dÃ¼ÅŸÃ¼nÃ¼yorum. TakÄ±ldÄ±ÄŸÄ±nÄ±z her noktada Ã§ekinmeden yorum yapabilirsiniz.\nSize iki ana soru sunuyorum:\n\nTÃ¼rkiyeâ€™deki iller bazÄ±nda kuÅŸ tÃ¼rÃ¼ Ã§eÅŸitliliÄŸi nasÄ±l bir daÄŸÄ±lÄ±ma sahip?\nBilindiÄŸi gibi KÄ±zÄ±lcahamam, TÃ¼rkiyeâ€™deki en Ã¶nemli kara akbaba - Aegypius monachus popÃ¼lasyonlarÄ±ndan birisini barÄ±ndÄ±rÄ±yor. Bu tÃ¼rÃ¼n, KÄ±zÄ±lcahamam ilÃ§e sÄ±nÄ±rlarÄ± iÃ§erisinde nasÄ±l bir daÄŸÄ±lÄ±mÄ± vardÄ±r? TÃ¼rÃ¼n daÄŸÄ±lÄ±mÄ±yla Ã§evresel faktÃ¶rler arasÄ±ndaki iliÅŸki kabaca nasÄ±ldÄ±r?\n\nBu yazÄ±da yalnÄ±zca birinci soruya odaklanacaÄŸÄ±z. Ä°kinci soru iÃ§in ikinci yazÄ±yÄ± bekleyiniz lÃ¼tfen. :)\n\n\nYazÄ±nÄ±n AkÄ±ÅŸÄ±\nYazÄ±nÄ±n genel akÄ±ÅŸÄ± aÅŸaÄŸÄ±daki gibidir:\n\nGerekli paketlerin yÃ¼klenmesi\nKuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nKuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nTR il katmanÄ±nÄ±n yÃ¼klenmesi\nKuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nHer bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nVerinin gÃ¶rselleÅŸtirilmesi\n\n\n\n1. Gerekli paketlerin yÃ¼klenmesi\n\n\n\n\n\n\n\n\n\nPaket\nAÃ§Ä±klama\n\n\n\n\ntidyverse\nÃ‡oÄŸunlukla veri manipÃ¼lasyonu ve gÃ¶rselleÅŸtirme Ã¼zerine paketler iÃ§eren bir paket koleksiyonu\n\n\nsf\nSimple Features: MekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in\n\n\nrgeoboundaries\nMÃ¼lki idare sÄ±nÄ±rlarÄ±nÄ± indirmek iÃ§in\n\n\n\n\n\nEÄŸer bu paketler kurulu deÄŸilse aÅŸaÄŸÄ±daki kod bloÄŸu ile kurabilirsiniz. Bu kod bloÄŸu, paketi Râ€™a yÃ¼klemeye Ã§alÄ±ÅŸacak, eÄŸer yÃ¼kleyemezse kuracaktÄ±r. EÄŸer kurulumda sÄ±kÄ±ntÄ± yaÅŸarsanÄ±z paketlerin dÃ¶kÃ¼mantasyonuna bakabilirsiniz.\n\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\nif (!require(\"sf\")) install.packages(\"sf\")\nif (!require(\"rgeoboundaries\")) install.packages(\"rgeoboundaries\")\n\nEÄŸer paketler kuruluysa, bu paketleri library() fonksiyonu ile yÃ¼kleyebiliriz.\n\nlibrary(tidyverse) # bircok veri isini kolaylastirmak icin\nlibrary(sf) # r'da mekansal vektor verileri islemek icin\nlibrary(rgeoboundaries) # tr il sinirlarina erismek icin\n\n\n\n2. KuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nYazÄ±mÄ±zdaki ilk soruya cevap verebilmek iÃ§in iki temel veriye ihtiyacÄ±mÄ±z var. Bunlar kuÅŸ ve TÃ¼rkiyeâ€™nin il sÄ±nÄ±rlarÄ± verileri.\nKuÅŸ verisini eBird veri tabanÄ±ndan alacaÄŸÄ±z. eBird, TÃ¼rkiye ve dÃ¼nyadaki en kapsamlÄ± kuÅŸ gÃ¶zlem veri tabanÄ±. KuÅŸ gÃ¶zlemcileri araziye Ã§Ä±ktÄ±klarÄ±nda gÃ¶zlemledikleri kuÅŸlarÄ± bu veri tabanÄ±na kaydediyor, bu ÅŸekilde bilime ve doÄŸa korumaya katkÄ± saÄŸlayabiliyorlar.\neBird verilerini siteye Ã¼ye olduktan sonra, en altta, Bilim baÅŸlÄ±ÄŸÄ± altÄ±ndaki Veri indirme talebi sayfasÄ±ndan ya da {rebird} paketini kullanarak indirebilirsiniz. Ben, site Ã¼zerinden tÃ¼m TÃ¼rkiye verilerini indirdim.\nÄ°lk adÄ±m olarak indirdiÄŸimiz eBird verisini Râ€™a yÃ¼kleyelim. Bu veri txt formatÄ±nda olduÄŸu iÃ§in, {tidyverse} paket grubuna ait read_delim() fonksiyonunu kullandÄ±k. Base Râ€™daki read.table() fonksiyonu da bu iÅŸ iÃ§in kullanÄ±labilir. Veri biraz bÃ¼yÃ¼k olduÄŸundan yÃ¼klenmesi ve iÅŸlenmesi biraz zaman alabilir.\n\nebird <- read_delim(\"./ebird/ebd_TR_relApr-2023.txt\")\n\n\nprint(ebird)\n\n# A tibble: 2,403,720 Ã— 50\n   `GLOBAL UNIQUE IDENTIFIER`     `LAST EDITED DATE`  `TAXONOMIC ORDER` CATEGORY\n   <chr>                          <dttm>                          <dbl> <chr>   \n 1 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:59:44             10043 species \n 2 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:58:56              5625 species \n 3 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 13:04:32              1361 species \n 4 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:13             22215 species \n 5 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32              5787 species \n 6 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-21 02:26:13             29239 species \n 7 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:35             22156 species \n 8 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32               291 species \n 9 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n10 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n# â„¹ 2,403,710 more rows\n# â„¹ 46 more variables: `TAXON CONCEPT ID` <chr>, `COMMON NAME` <chr>,\n#   `SCIENTIFIC NAME` <chr>, `SUBSPECIES COMMON NAME` <chr>,\n#   `SUBSPECIES SCIENTIFIC NAME` <chr>, `EXOTIC CODE` <chr>,\n#   `OBSERVATION COUNT` <chr>, `BREEDING CODE` <chr>,\n#   `BREEDING CATEGORY` <chr>, `BEHAVIOR CODE` <chr>, `AGE/SEX` <chr>,\n#   COUNTRY <chr>, `COUNTRY CODE` <chr>, STATE <chr>, `STATE CODE` <chr>, â€¦\n\n\nVerimizi Râ€™a yÃ¼kledikten sonra print() fonksiyonu ile veri setimizin temel yapÄ±sÄ±na bir gÃ¶z attÄ±k. 2,403,720 gÃ¶zlem (satÄ±r) ve 50 deÄŸiÅŸkene (sÃ¼tun) sahip bir tibble karÅŸÄ±mÄ±za Ã§Ä±ktÄ±. tibble, {tidyverse}â€™e Ã¶zel klasik data.frameâ€™den daha kullanÄ±ÅŸlÄ± bir veri yapÄ±sÄ±dÄ±r. Ã–zel bir data.frame diyebiliriz. Ancak bu kadar fazla deÄŸiÅŸkenimiz varken print() fonksiyonu yeterince iÅŸlevsel deÄŸil. Verinin bÃ¼yÃ¼k bir kÄ±smÄ±nÄ± gÃ¶remiyoruz. Bu sebeple, Râ€™a yÃ¼klediÄŸimiz veri tablosunun tÃ¼m sÃ¼tunlarÄ±nÄ± ve onlarÄ±n yapÄ±larÄ±nÄ± gÃ¶rmek iÃ§in glimpse() fonksiyonunu kullanacaÄŸÄ±z. Bu fonksiyon, base Râ€™daki str() fonksiyonuna benziyor ancak tibble veri yapÄ±sÄ±yla kullanÄ±lÄ±rken daha sade ve kullanÄ±ÅŸlÄ±. Ã–zetle, bu fonksiyonu, print() fonksiyonunun transpoze edilmiÅŸ hÃ¢li olarak gÃ¶rebilirsiniz.\n\nglimpse(ebird)\n\nRows: 2,403,720\nColumns: 50\n$ `GLOBAL UNIQUE IDENTIFIER`   <chr> \"URN:CornellLabOfOrnithology:EBIRD:OBS112â€¦\n$ `LAST EDITED DATE`           <dttm> 2021-04-15 12:59:44, 2021-04-15 12:58:56â€¦\n$ `TAXONOMIC ORDER`            <dbl> 10043, 5625, 1361, 22215, 5787, 29239, 22â€¦\n$ CATEGORY                     <chr> \"species\", \"species\", \"species\", \"speciesâ€¦\n$ `TAXON CONCEPT ID`           <chr> \"avibase-4F404CB9\", \"avibase-77845DAD\", \"â€¦\n$ `COMMON NAME`                <chr> \"Indian Roller\", \"Siberian Crane\", \"Blackâ€¦\n$ `SCIENTIFIC NAME`            <chr> \"Coracias benghalensis\", \"Leucogeranus leâ€¦\n$ `SUBSPECIES COMMON NAME`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SUBSPECIES SCIENTIFIC NAME` <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EXOTIC CODE`                <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `OBSERVATION COUNT`          <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"â€¦\n$ `BREEDING CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BREEDING CATEGORY`          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BEHAVIOR CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `AGE/SEX`                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ COUNTRY                      <chr> \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiyeâ€¦\n$ `COUNTRY CODE`               <chr> \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\",â€¦\n$ STATE                        <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbuâ€¦\n$ `STATE CODE`                 <chr> \"TR-41\", \"TR-06\", \"TR-34\", \"TR-34\", \"TR-3â€¦\n$ COUNTY                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `COUNTY CODE`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `IBA CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BCR CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `USFWS CODE`                 <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `ATLAS BLOCK`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ LOCALITY                     <chr> \"Haydarpasa-Izmit Yolu\", \"Ankara\", \"Istanâ€¦\n$ `LOCALITY ID`                <chr> \"L14466142\", \"L14465903\", \"L14465858\", \"Lâ€¦\n$ `LOCALITY TYPE`              <chr> \"P\", \"P\", \"P\", \"H\", \"H\", \"H\", \"P\", \"H\", \"â€¦\n$ LATITUDE                     <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 3â€¦\n$ LONGITUDE                    <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 3â€¦\n$ `OBSERVATION DATE`           <date> 1875-06-01, 1879-04-01, 1890-12-01, 1896â€¦\n$ `TIME OBSERVATIONS STARTED`  <time>       NA,       NA,       NA,       NA, â€¦\n$ `OBSERVER ID`                <chr> \"obsr1979154\", \"obsr1979154\", \"obsr197915â€¦\n$ `SAMPLING EVENT IDENTIFIER`  <chr> \"S85596027\", \"S85594679\", \"S85597213\", \"Sâ€¦\n$ `PROTOCOL TYPE`              <chr> \"Historical\", \"Historical\", \"Historical\",â€¦\n$ `PROTOCOL CODE`              <chr> \"P62\", \"P62\", \"P62\", \"P62\", \"P62\", \"P62\",â€¦\n$ `PROJECT CODE`               <chr> \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRâ€¦\n$ `DURATION MINUTES`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT DISTANCE KM`         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT AREA HA`             <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `NUMBER OBSERVERS`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 1, 1, 1, â€¦\n$ `ALL SPECIES REPORTED`       <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ `GROUP IDENTIFIER`           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `HAS MEDIA`                  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ APPROVED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REVIEWED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REASON                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `TRIP COMMENTS`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SPECIES COMMENTS`           <chr> \"Collected (Sclator & Taylor, 1876)., Kirâ€¦\n$ ...50                        <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n\n\nBu fonksiyon sayesinde sÃ¼tunlarÄ± Ã§ok daha rahat bir ÅŸekilde gÃ¶rebiliyoruz. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi bu yazÄ± iÃ§in iÅŸimize yaramayacak olan bir sÃ¼rÃ¼ sÃ¼tun var. KalabalÄ±kta kaybolmamak iÃ§in yalnÄ±zca iÅŸimize yarayabilecek sÃ¼tunlarÄ± seÃ§elim. ArdÄ±ndan da sadece tÃ¼r kaydÄ± olan gÃ¶zlemleri seÃ§mek iÃ§in speciesâ€™e gÃ¶re filtreleyelim.\n\nebird_subset <- ebird |>\n  select(4, 6, 7, 11, 12, 18, 29, 30) |>  # burada indeks kullanarak sectik, sutun isimleriyle de secebiliriz\n  filter(CATEGORY == \"species\")\nebird_subset\n\n# A tibble: 2,298,920 Ã— 8\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n   <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 3 more variables: STATE <chr>, LATITUDE <dbl>, LONGITUDE <dbl>\n\n\n\nglimpse(ebird_subset)\n\nRows: 2,298,920\nColumns: 8\n$ CATEGORY            <chr> \"species\", \"species\", \"species\", \"species\", \"speciâ€¦\n$ `COMMON NAME`       <chr> \"Indian Roller\", \"Siberian Crane\", \"Black Grouse\",â€¦\n$ `SCIENTIFIC NAME`   <chr> \"Coracias benghalensis\", \"Leucogeranus leucogeranuâ€¦\n$ `OBSERVATION COUNT` <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"2\", \"1\", â€¦\n$ `BREEDING CODE`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NAâ€¦\n$ STATE               <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbul\", \"Hataâ€¦\n$ LATITUDE            <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 36.35517, â€¦\n$ LONGITUDE           <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 36.31517, â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi verinin iÅŸimize yarayacak bir alt kÃ¼mesini aldÄ±k, kalabalÄ±ktan kurtulduk.\nArtÄ±k ilk yÃ¼klediÄŸimiz veriyi (ebird) Râ€™dan silebiliriz. Veri, tÃ¼m TRâ€™yi kapsadÄ±ÄŸÄ± iÃ§in 2 milyondan fazla gÃ¶zlem iÃ§eriyor. BÃ¼yÃ¼k veri setleri RAMâ€™in ÅŸiÅŸmesine ve Râ€™Ä±n Ã§Ã¶kmesine sebep olabilir. Bu sebeple artÄ±k iÅŸimize yaramayacak olan verileri environmentâ€™ten kaldÄ±ralÄ±m.\n\nrm(ebird)\n\n\n\n3. KuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nKuÅŸ verisinin ihtiyacÄ±mÄ±z olan alt kÃ¼mesini aldÄ±ktan sonra sÄ±ra geldi verimizi mekÃ¢nsallaÅŸtÄ±rmaya. Verimizi, uygun mekÃ¢nsal veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼p, mekÃ¢nsal analizlerde kullanÄ±labilecek bir hÃ¢le getireceÄŸiz. Bunun iÃ§in, Râ€™da mekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in geliÅŸtirilen {sf} paketini kullanacaÄŸÄ±z.\nLat long verisini ve koordinat sistemini tanÄ±mlayarak eBird verisini sf objesine dÃ¶nÃ¼ÅŸtÃ¼relim.\n\nebird_sf <- st_as_sf(\n    ebird_subset, coords = c(\"LONGITUDE\", \"LATITUDE\"), crs = \"EPSG:4326\"\n)\nebird_sf\n\nSimple feature collection with 2298920 features and 6 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 2,298,920 Ã— 7\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n * <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 2 more variables: STATE <chr>, geometry <POINT [Â°]>\n\n\nVerimizi sf formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rdÃ¼ÄŸÃ¼mÃ¼zde, bazÄ± Ã¶nemli mekÃ¢nsal Ã¶zelliklerin eklenmiÅŸ olduÄŸunu gÃ¶rÃ¼yoruz. Bunlar arasÄ±nda geometri tipi (POINT), veri boyutu (dimension), verinin coÄŸrafi sÄ±nÄ±rlarÄ±nÄ± tanÄ±mlayan bounding box koordinatlarÄ± ve koordinat referans sistemi (CRS) bulunuyor. Bundan sonra mekÃ¢nsal analizleri rahatÃ§a yapabiliriz.\nDikkat ederseniz verinin her bir satÄ±rÄ±, bir koordinat Ã§iftiyle iliÅŸkili. Bu, her bir satÄ±rÄ±n ve bu satÄ±rdaki tÃ¼m bilgilerin, bir geometriyle iliÅŸkili olduÄŸunu gÃ¶steriyor. Bu geometri de, geometri tipinde belirtildiÄŸi ya da bir koordinat Ã§iftinin varlÄ±ÄŸÄ±ndan anlayabileceÄŸimiz gibi nokta. Yani 2,298,920 tane noktamÄ±z var ve her bir nokta bir gÃ¶zlemle iliÅŸkili.\n\n\n4. TR il katmanÄ±nÄ±n yÃ¼klenmesi\neBird verisini mekÃ¢nsallaÅŸtÄ±rdÄ±ÄŸÄ±mÄ±za gÃ¶re sÄ±ra geldi TR il sÄ±nÄ±rlarÄ±nÄ± Râ€™a yÃ¼klemeye. Ben geoBoundaries veri tabanÄ±nÄ± kullanÄ±yorum. Ä°htiyaÃ§ duyduÄŸunuz mÃ¼lki idare sÄ±nÄ±rlarÄ± verisinine eriÅŸmek iÃ§in bu linki ya da {rgeoboundaries} paketini kullanabilirsiniz.\n\ntr_il <- gb_adm1(country = \"Turkey\", type = \"SSCGS\") # type = \"SSCGS\" argumaniyla basitlestirilmiÅŸ versiyonunu indiriyoruz\n\n[1] \"WARNING: geoBoundaries now provides two only types of boundaries: simplified and unsimplified.All other types are deprecated. If you selected SSCGS or SSCU it will be changed to simlified, HPSCU will be changed to usimplifed \"\n\ntr_il\n\nSimple feature collection with 81 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 25.66545 ymin: 35.80768 xmax: 44.81766 ymax: 42.1048\nGeodetic CRS:  WGS 84\nFirst 10 features:\n        shapeName shapeISO                 shapeID shapeGroup shapeType\n1           Adana    TR-01 80719077B95172477822815        TUR      ADM1\n2        AdÄ±yaman    TR-02 80719077B90872828599679        TUR      ADM1\n3  Afyonkarahisar    TR-03 80719077B26209284550223        TUR      ADM1\n4            AÄŸrÄ±    TR-04 80719077B39003465173278        TUR      ADM1\n5          Amasya    TR-05 80719077B32583172380009        TUR      ADM1\n6         Antalya    TR-07 80719077B97476213604692        TUR      ADM1\n7          Artvin    TR-08  80719077B1602304411378        TUR      ADM1\n8           AydÄ±n    TR-09 80719077B63739470532168        TUR      ADM1\n9       BalÄ±kesir    TR-10 80719077B55384476443375        TUR      ADM1\n10         Ankara    TR-06 80719077B47806653651907        TUR      ADM1\n                         geometry\n1  MULTIPOLYGON (((34.91146 36...\n2  MULTIPOLYGON (((37.861 37.4...\n3  MULTIPOLYGON (((30.48061 38...\n4  MULTIPOLYGON (((43.77542 39...\n5  MULTIPOLYGON (((36.3878 40....\n6  MULTIPOLYGON (((30.40305 36...\n7  MULTIPOLYGON (((41.87016 40...\n8  MULTIPOLYGON (((27.33197 37...\n9  MULTIPOLYGON (((26.7224 39....\n10 MULTIPOLYGON (((31.96673 38...\n\n\nBase R plot() fonksiyonu ile tr_il objemizi Ã§izelim.\n\nplot(tr_il)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sf objesi iÃ§in plot() fonksiyonu, tÃ¼m deÄŸiÅŸkenleri (sÃ¼tunlarÄ±) Ã§iziyor. Sadece shapeName deÄŸiÅŸkenini seÃ§ip, eksenleri ve baÅŸlÄ±ÄŸÄ± ekleyerek daha iyi bir TÃ¼rkiye il sÄ±nÄ±rlarÄ± haritasÄ± Ã§izelim.\n\nplot(tr_il[, \"shapeName\"], graticule = TRUE, axes = TRUE, main = \"TÃ¼rkiye HaritasÄ±\")\n\n\n\n\nHop! Ã‡ok daha iyi!\nArtÄ±k kuÅŸ verimizin TÃ¼rkiye Ã¼zerindeki daÄŸÄ±lÄ±mÄ±nÄ± incelemeye baÅŸlama vakti geldi. Ancak 2 milyondan fazla satÄ±rÄ± olan bir verinin grafiÄŸini Ã§izmek muhtemelen Râ€™Ä±n Ã§Ã¶kmesiyle sonuÃ§lanacaktÄ±r. Bu yÃ¼zden bu verinin bir alt kÃ¼mesini alalÄ±m.\n\nebird_sample <- sample_n(ebird_sf, 500000)\n\nVeri tablomuzdan rastgele 500000 satÄ±r seÃ§tik. Bu sayÄ± bilgisayarÄ±nÄ±z iÃ§in fazla geliyorsa 5-10b de seÃ§ebilirsiniz.\nVerimizi, bu sefer de Râ€™Ä±n vazgeÃ§ilmez paketi olan {ggplot2} ile gÃ¶rselleÅŸtirelim. ggplot2, Ã§izeceÄŸimiz verileri katman katman belirtip + ile birbirine baÄŸlamamÄ±za izin veren oldukÃ§a esnek bir paket. Åimdi haritamÄ±zÄ± Ã§izelim.\n\nggplot() +                                       # grafigi baslatiyor\n  geom_sf(data = tr_il, aes()) +                 # tr katmanini ekliyoruz\n  geom_sf(data = ebird_sample, aes(), size = .5) # kus verimizi ekliyoruz\n\n\n\n\n500000 kuÅŸ gÃ¶zlem verisinin TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± bu ÅŸekildeymiÅŸ. Bu grafiÄŸe dayanarak, Ã¼lkenin batÄ±sÄ±nda ve bÃ¼yÃ¼kÅŸehirlerde daha Ã§ok gÃ¶zlem olduÄŸunu sÃ¶yleyebiliriz. Bu genel daÄŸÄ±lÄ±mÄ± gÃ¶rdÃ¼ÄŸÃ¼mÃ¼ze gÃ¶re merak ettiÄŸim 2 tÃ¼rÃ¼n daÄŸÄ±lÄ±mÄ±na bakmak istiyorum. Veriyi tÃ¼r ismine gÃ¶re filtreleyip haritayÄ± Ã§iziyoruz.\n\nSakallÄ± Akbaba\n\n\n\nAlbum of Abyssinian birds and mammals | Chicago :Field Museum of Natural History,1930.\n\n\nSakallÄ± akbaba - Gypaetus barbatus, sarp daÄŸlarÄ±n insandan uzak kÃ¶ÅŸelerinde; genellikle kanyonlar ve derin yarlarda yaÅŸayan bir akbaba tÃ¼rÃ¼. Kendine has gÃ¶rÃ¼nÃ¼ÅŸÃ¼ ve diyetinin kemikten oluÅŸmasÄ± sebebiyle oldukÃ§a ilgi Ã§ekici bir tÃ¼r. Nesli tehdit altÄ±ndaki bu nadir tÃ¼rÃ¼n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m.\n\nsakalli <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gypaetus barbatus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = sakalli, aes(), size = .7)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sakallÄ± akbabanÄ±n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± KÃ¶roÄŸlu DaÄŸlarÄ±, AladaÄŸlar, KaÃ§kar DaÄŸlarÄ±, AkdaÄŸ gibi daÄŸlÄ±k alanlarda yoÄŸunlaÅŸÄ±yor.\n\n\nKÄ±zÄ±l Akbaba\n\n\n\nColoured figures of the birds of the British Islands. v.1 | London :R. H. Porter,1885-1897.\n\n\nKÄ±zÄ±l akbaba - Gyps fulvus da daÄŸlarÄ± tercih eden ve kayalÄ±klarda yuvalayan bir tÃ¼r. KÄ±zÄ±l akbaba, sakallÄ± akbaba kadar Ã§ekingen olmayan, genellikle koloni hÃ¢linde yaÅŸayan bir tÃ¼r. Åimdi de kÄ±zÄ±l akbabanÄ±n daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m. Acaba nerelerden kayÄ±tlar gelmiÅŸ!\n\nkizil <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gyps fulvus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = kizil, aes(), size = .7)\n\n\n\n\nKÄ±zÄ±l akbaba daÄŸÄ±lÄ±mÄ±nÄ±n, Ã¼reme ve gÃ¶Ã§ bÃ¶lgelerinde yoÄŸunlaÅŸan bir Ã¶rÃ¼ntÃ¼ sergilediÄŸini gÃ¶rebiliyoruz.\n\n\n\n5. KuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nBiraz oyalanmanÄ±n ardÄ±ndan tekrardan sorumuza odaklanabiliriz. Ã–ncelikle TÃ¼rkiyeâ€™deki kuÅŸ tÃ¼rlerini ve her tÃ¼rden kaÃ§ adet kayÄ±t olduÄŸunu gÃ¶rmek iÃ§in kuÅŸ verisini tÃ¼r ismine gÃ¶re gruplayÄ±p, kayÄ±t sayÄ±sÄ±na gÃ¶re Ã¶zetleyelim. Bu iÅŸlem biraz uzun sÃ¼rebilir.\n\nebird_grouped <- ebird_sf |>\n  group_by(`SCIENTIFIC NAME`) |>\n  summarise(n = n())\nprint(ebird_grouped)\n\nSimple feature collection with 503 features and 2 fields\nGeometry type: GEOMETRY\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 503 Ã— 3\n   `SCIENTIFIC NAME`             n                                      geometry\n   <chr>                     <int>                                <GEOMETRY [Â°]>\n 1 Acanthis flammea              1                     POINT (32.87976 39.96636)\n 2 Accipiter badius              3 MULTIPOINT ((41.23051 37.10523), (39.85856 4â€¦\n 3 Accipiter brevipes         2157 MULTIPOINT ((26.218 40.00467), (26.20626 40.â€¦\n 4 Accipiter gentilis         1617 MULTIPOINT ((26.16617 39.819), (26.20626 40.â€¦\n 5 Accipiter nisus           17281 MULTIPOINT ((26.01417 39.80894), (25.89106 4â€¦\n 6 Acridotheres tristis        792 MULTIPOINT ((28.56435 41.1764), (28.61338 40â€¦\n 7 Acrocephalus agricola       355 MULTIPOINT ((42.41 38.7), (42.42388 38.70286â€¦\n 8 Acrocephalus arundinaceus  6899 MULTIPOINT ((25.89106 40.15504), (26.16617 3â€¦\n 9 Acrocephalus dumetorum       25 MULTIPOINT ((35.95475 36.06548), (39.72347 4â€¦\n10 Acrocephalus griseldis        1                       POINT (43.578 40.11865)\n# â„¹ 493 more rows\n\n\n\nglimpse(ebird_grouped)\n\nRows: 503\nColumns: 3\n$ `SCIENTIFIC NAME` <chr> \"Acanthis flammea\", \"Accipiter badius\", \"Accipiter bâ€¦\n$ n                 <int> 1, 3, 2157, 1617, 17281, 792, 355, 6899, 25, 1, 2164â€¦\n$ geometry          <GEOMETRY [Â°]> POINT (32.87976 39.96636), MULTIPOINT ((41.â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi eBird veri tabanÄ±nda TÃ¼rkiyeâ€™den kayÄ±tlÄ± 503 tÃ¼r varmÄ±ÅŸ. eBirdâ€™Ã¼n internet sitesinde ise 494 adet tÃ¼r gÃ¶steriyor. Bu farklÄ±lÄ±ÄŸÄ±n sebebi nedir bilmiyorum doÄŸrusu. AklÄ±ma, kesin olmayan bazÄ± kayÄ±tlarÄ±n da olabileceÄŸi geliyor sadece. Bilenler aÃ§Ä±klayabilirse sÃ¼per olur.\n\n\n6. Her bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nÅimdi, TÃ¼rkiyeâ€™deki her bir ilin sÄ±nÄ±rlarÄ± iÃ§ine dÃ¼ÅŸen kuÅŸ gÃ¶zlem noktalarÄ±nÄ± sayacaÄŸÄ±z. Yani her bir poligonun iÃ§indeki noktalarÄ± sayacaÄŸÄ±z. Bu da bize her bir ildeki toplam tÃ¼r sayÄ±sÄ±nÄ± verecek. Ã–ncelikle st_intersects() fonksiyonu ile her bir il ile kesiÅŸen noktalarÄ± belirliyoruz. ArdÄ±ndan lengths() fonksiyonu ile her bir ilde kaÃ§ adet nokta olduÄŸunu hesaplÄ±yoruz ve bunu, tr_il verisine yeni bir sÃ¼tun olarak ekliyoruz. Temelde Ã§ok basit bir iÅŸlem ama baÅŸta anlamak zor olabiliyor.\n\ntr_il$bird_count <- lengths(st_intersects(tr_il, ebird_grouped))\n\n\n\n7. Verinin gÃ¶rselleÅŸtirilmesi\nÅimdi, hÄ±zlÄ±ca bir plotlayalÄ±m. Bunun iÃ§in plot() fonksiyonunu kullacaÄŸÄ±z. tr_il iÃ§indeki bird_count sÃ¼tununu seÃ§elim.\n\nplot(tr_il[, \"bird_count\"])\n\n\n\n\nHaritamÄ±z hazÄ±r. Åimdi daha iyi bir gÃ¶rselleÅŸtirme iÃ§in ggplot() fonksiyonunu kullanalÄ±m.\nÃ–ncelikle kÄ±rÄ±lÄ±mlarÄ±mÄ±zÄ± belirleyelim ki haritamÄ±z daha gÃ¼zel gÃ¶rÃ¼nsÃ¼n. Bunun iÃ§in jenks optimizasyonunu kullanacaÄŸÄ±z.\n\nbreaks <- classInt::classIntervals(\n  tr_il$bird_count,\n  n = 7,\n  style = \"jenks\"\n)\n\n\nggplot() +                                     # grafigi baslatiyor\n  geom_sf(\n    data = tr_il,                              # tr katmanini ekliyoruz\n    aes(fill = bird_count),                    # renkleri kus turu sayisina gore seciyoruz\n    colour = \"grey12\",                         # il sinirlarinin rengini belirliyoruz\n    linewidth = .1                             # il sinirlarinin kalinligini belirliyoruz\n  ) +\n  scale_fill_viridis_c(breaks = breaks$brks) + # haritamizi viridis paletiyle dolduruyoruz\n  guides(                                      # lejant ozelliklerini seciyoruz\n    fill = guide_colorsteps(\n      barwidth = 20,\n      barheight = .5,\n      title.position = \"right\"\n    )\n  ) +\n  labs(                                        # etiketleri yaziyoruz\n    title = \"Ä°llere GÃ¶re KuÅŸ TÃ¼rÃ¼ SayÄ±sÄ±\",\n    x = \"Boylam\",\n    y = \"Enlem\"\n  ) +\n  theme_bw() +                                 # tema seciyoruz\n  theme(                                       # temanÄ±n ozellliklerini berlirliyoruz\n    legend.position = \"bottom\",\n    plot.background = element_rect(\"white\", colour = \"white\"),\n    text = element_text(family = \"Ubuntu Mono\"),\n    legend.title = element_blank()\n  )\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Ã§ok daha iyi bir gÃ¶rselleÅŸtirme oldu. Åu an elimizde, TÃ¼rkiyeâ€™deki illere gÃ¶re kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ±nÄ± gÃ¶steren bir harita bulunmakta. Ancak bu harita Ã¼zerinden yapacaÄŸÄ±mÄ±z yorumlarda dikkatli olmamÄ±z gereken birkaÃ§ Ã¶nemli nokta var. Ä°l yÃ¼zÃ¶lÃ§Ã¼mÃ¼nÃ¼n ve illere gÃ¶re gÃ¶zlem sayÄ±sÄ±nÄ±n farklÄ± olmasÄ±ndan kaynaklanan yanlÄ±lÄ±k (bias) potansiyeli. Bu harita genel fikirler verebilir ancak net Ã§Ä±karÄ±mlar iÃ§in verinin standartlaÅŸtÄ±rÄ±lmasÄ± ve istatistiki testlere tabi tutulmasÄ± Ã¶nem arz etmektedir.\nÄ°kinci yazÄ±da gÃ¶rÃ¼ÅŸmek dileÄŸiyle.\nBilimle ve huzurla kalÄ±nÄ±z."
  },
  {
    "objectID": "posts/ebird_R/ebird_r.html#tÃ¼rkiyede-illere-gÃ¶re-toplam-kuÅŸ-tÃ¼rÃ¼-sayÄ±sÄ±-nasÄ±l-bir-daÄŸÄ±lÄ±m-gÃ¶steriyor",
    "href": "posts/ebird_R/ebird_r.html#tÃ¼rkiyede-illere-gÃ¶re-toplam-kuÅŸ-tÃ¼rÃ¼-sayÄ±sÄ±-nasÄ±l-bir-daÄŸÄ±lÄ±m-gÃ¶steriyor",
    "title": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi I",
    "section": "1. TÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?",
    "text": "1. TÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?\nBu soruya cevap verebilmek iÃ§in Ã¶ncelikle iki temel veriye ihtiyacÄ±mÄ±z var. Bunlardan birisi kuÅŸ, diÄŸeri ise TÃ¼rkiyeâ€™deki iller. EÄŸer elimizdeki kuÅŸ verisinde her bir tÃ¼r iÃ§in kaydedildiÄŸi il bilgisi varsa, illere gÃ¶re kuÅŸ tÃ¼rlerini gruplayÄ±p, kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ±nÄ± bulacak ÅŸekilde Ã¶zetleyebiliriz. Bu, aÅŸina olanlar iÃ§in, Excelâ€™deki pivot tableâ€™a benziyor. Ancak bu yÃ¶ntemle mekÃ¢nsal bir veri elde edemeyiz. Bu iÅŸlemin ardÄ±ndan kuÅŸ verisinin, TÃ¼rkiye illeri katmanÄ±na, il isimlerine gÃ¶re baÄŸlanmasÄ± gerekir. HÃ¢lihazÄ±rda kuÅŸlarÄ±n kaydedildiÄŸi noktalarÄ±n koordinatlarÄ± olduÄŸundan, mekÃ¢nsal olarak iÅŸleyeceÄŸiz. Zaten koordinata gÃ¶re toplanan verilerin mekansÃ¢l olarak iÅŸlenmesi daha gÃ¼venli.\n\nYazÄ±nÄ±n AkÄ±ÅŸÄ±\nYazÄ±nÄ±n genel akÄ±ÅŸÄ± aÅŸaÄŸÄ±daki gibidir:\n\nGerekli paketlerin yÃ¼klenmesi\nKuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nKuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nTR il katmanÄ±nÄ±n yÃ¼klenmesi\nKuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nHer bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nVerinin gÃ¶rselleÅŸtirilmesi\n\n\n\n1. Gerekli paketlerin yÃ¼klenmesi\n\n\n\n\n\n\n\n\n\nPaket\nAÃ§Ä±klama\n\n\n\n\ntidyverse\nÃ‡oÄŸunlukla veri manipÃ¼lasyonu ve gÃ¶rselleÅŸtirme Ã¼zerine paketler iÃ§eren bir paket koleksiyonu\n\n\nsf\nSimple Features: MekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in\n\n\nrgeoboundaries\nMÃ¼lki idare sÄ±nÄ±rlarÄ±nÄ± indirmek iÃ§in\n\n\ntmap\nGÃ¼zel haritalar Ã§izmek iÃ§in\n\n\n\n\n\nEÄŸer bu paketler kurulu deÄŸilse aÅŸaÄŸÄ±daki kod bloÄŸu ile kurabilirsiniz. Bu kod bloÄŸu, paketi Râ€™a yÃ¼klemeye Ã§alÄ±ÅŸacak, eÄŸer yÃ¼kleyemezse kuracaktÄ±r. EÄŸer kurulumda sÄ±kÄ±ntÄ± yaÅŸarsanÄ±z paketlerin dÃ¶kÃ¼mantasyonuna bakabilirsiniz.\n\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\nif (!require(\"sf\")) install.packages(\"sf\")\nif (!require(\"rgeoboundaries\")) install.packages(\"rgeoboundaries\")\nif (!require(\"tmap\")) install.packages(\"tmap\")\n\nEÄŸer paketler kuruluysa library() fonksiyonu ile yÃ¼kleyebiliriz.\n\nlibrary(tidyverse) # bircok veri isini kolaylastirmak icin\nlibrary(sf) # r'da mekansal vektor verileri islemek icin\nlibrary(rgeoboundaries) # tr il sinirlarina erismek icin\nlibrary(tmap) # guzel haritalar cizmek icin \n\nKuÅŸ verisi olarak, TÃ¼rkiye ve dÃ¼nyadaki en kapsamlÄ± kuÅŸ gÃ¶zlem veri tabanÄ± olan eBirdâ€™Ã¼ kullanacaÄŸÄ±z. eBird, dÃ¼nyadaki en bÃ¼yÃ¼k kuÅŸ veri tabanÄ±. KuÅŸ gÃ¶zlemcileri araziye Ã§Ä±ktÄ±klarÄ±nda gÃ¶zlemledikleri kuÅŸlarÄ± bu veri tabanÄ±na kaydediyor, bilime ve doÄŸa korumaya katkÄ± saÄŸlayabiliyorlar. 2015 yÄ±lÄ±nda ulusal veri tabanÄ±mÄ±z KuÅŸbankâ€™Ä±n eBirdâ€™e taÅŸÄ±nmasÄ±ndan beri TÃ¼rkiye kuÅŸlarÄ±nÄ± konu alan en kapsamlÄ± veri tabanÄ± aynÄ± zamanda.\neBird verilerini siteye Ã¼ye olup, en altta, Bilim baÅŸlÄ±ÄŸÄ± altÄ±ndaki Veri indirme talebi sayfasÄ±ndan ya da {rebird} paketini kullanarak indirebilirsiniz. Ben, site Ã¼zerinden tÃ¼m TÃ¼rkiye verilerini talep ederek indirdim.\n\n\n2. KuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nÄ°ndirdiÄŸimiz eBird verilerini Râ€™a yÃ¼kleyelim. eBird verileri txt dosyasÄ± olduÄŸundan {tidyverse} paket evreni iÃ§indeki bir fonksiyon olan read_delim()â€™i kullandÄ±k. Base Râ€™daki read.table() fonksiyonu da kullanÄ±labilir. Veri biraz bÃ¼yÃ¼k olduÄŸundan yÃ¼klenmesi ve iÅŸlenmesi yavaÅŸ olabilir.\n\nebird <- read_delim(\"./ebird/ebd_TR_relApr-2023.txt\")\n\n\nprint(ebird)\n\n# A tibble: 2,403,720 Ã— 50\n   `GLOBAL UNIQUE IDENTIFIER`     `LAST EDITED DATE`  `TAXONOMIC ORDER` CATEGORY\n   <chr>                          <dttm>                          <dbl> <chr>   \n 1 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:59:44             10043 species \n 2 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:58:56              5625 species \n 3 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 13:04:32              1361 species \n 4 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:13             22215 species \n 5 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32              5787 species \n 6 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-21 02:26:13             29239 species \n 7 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:35             22156 species \n 8 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32               291 species \n 9 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n10 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n# â„¹ 2,403,710 more rows\n# â„¹ 46 more variables: `TAXON CONCEPT ID` <chr>, `COMMON NAME` <chr>,\n#   `SCIENTIFIC NAME` <chr>, `SUBSPECIES COMMON NAME` <chr>,\n#   `SUBSPECIES SCIENTIFIC NAME` <chr>, `EXOTIC CODE` <chr>,\n#   `OBSERVATION COUNT` <chr>, `BREEDING CODE` <chr>,\n#   `BREEDING CATEGORY` <chr>, `BEHAVIOR CODE` <chr>, `AGE/SEX` <chr>,\n#   COUNTRY <chr>, `COUNTRY CODE` <chr>, STATE <chr>, `STATE CODE` <chr>, â€¦\n\n\nprint() fonksiyonu ile verinin genel yapÄ±sÄ±nÄ± gÃ¶rdÃ¼k. 2,403,720 gÃ¶zlem (satÄ±r) ve 50 deÄŸiÅŸkene (sÃ¼tun) sahip bir tibble ({tidyverse}â€™e Ã¶zel bir data frame ÅŸekli, bence daha kullanÄ±ÅŸlÄ±). DeÄŸiÅŸken sayÄ±sÄ± fazla olduÄŸu iÃ§in print() fonksiyonu yeterince kullanÄ±ÅŸlÄ±. Bu sebeple, Râ€™a yÃ¼klediÄŸimiz eBird veri tablosunun tÃ¼m sÃ¼tunlarÄ±nÄ± ve onlarÄ±n yapÄ±larÄ±nÄ± gÃ¶rmek iÃ§in glimpse() fonksiyonunu kullanacaÄŸÄ±z. Bu fonksiyon, base Râ€™daki str() fonksiyonuna benziyor ancak tibble veri yapÄ±sÄ±yla kullanÄ±lÄ±rken daha sade ve kullanÄ±ÅŸlÄ± bence. Ã–zetle, bu fonksiyonu, print() fonksiyonunun transpoze edilmiÅŸ hÃ¢li olarak gÃ¶rebilirsiniz.\n\nglimpse(ebird)\n\nRows: 2,403,720\nColumns: 50\n$ `GLOBAL UNIQUE IDENTIFIER`   <chr> \"URN:CornellLabOfOrnithology:EBIRD:OBS112â€¦\n$ `LAST EDITED DATE`           <dttm> 2021-04-15 12:59:44, 2021-04-15 12:58:56â€¦\n$ `TAXONOMIC ORDER`            <dbl> 10043, 5625, 1361, 22215, 5787, 29239, 22â€¦\n$ CATEGORY                     <chr> \"species\", \"species\", \"species\", \"speciesâ€¦\n$ `TAXON CONCEPT ID`           <chr> \"avibase-4F404CB9\", \"avibase-77845DAD\", \"â€¦\n$ `COMMON NAME`                <chr> \"Indian Roller\", \"Siberian Crane\", \"Blackâ€¦\n$ `SCIENTIFIC NAME`            <chr> \"Coracias benghalensis\", \"Leucogeranus leâ€¦\n$ `SUBSPECIES COMMON NAME`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SUBSPECIES SCIENTIFIC NAME` <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EXOTIC CODE`                <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `OBSERVATION COUNT`          <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"â€¦\n$ `BREEDING CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BREEDING CATEGORY`          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BEHAVIOR CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `AGE/SEX`                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ COUNTRY                      <chr> \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiyeâ€¦\n$ `COUNTRY CODE`               <chr> \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\",â€¦\n$ STATE                        <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbuâ€¦\n$ `STATE CODE`                 <chr> \"TR-41\", \"TR-06\", \"TR-34\", \"TR-34\", \"TR-3â€¦\n$ COUNTY                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `COUNTY CODE`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `IBA CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BCR CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `USFWS CODE`                 <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `ATLAS BLOCK`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ LOCALITY                     <chr> \"Haydarpasa-Izmit Yolu\", \"Ankara\", \"Istanâ€¦\n$ `LOCALITY ID`                <chr> \"L14466142\", \"L14465903\", \"L14465858\", \"Lâ€¦\n$ `LOCALITY TYPE`              <chr> \"P\", \"P\", \"P\", \"H\", \"H\", \"H\", \"P\", \"H\", \"â€¦\n$ LATITUDE                     <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 3â€¦\n$ LONGITUDE                    <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 3â€¦\n$ `OBSERVATION DATE`           <date> 1875-06-01, 1879-04-01, 1890-12-01, 1896â€¦\n$ `TIME OBSERVATIONS STARTED`  <time>       NA,       NA,       NA,       NA, â€¦\n$ `OBSERVER ID`                <chr> \"obsr1979154\", \"obsr1979154\", \"obsr197915â€¦\n$ `SAMPLING EVENT IDENTIFIER`  <chr> \"S85596027\", \"S85594679\", \"S85597213\", \"Sâ€¦\n$ `PROTOCOL TYPE`              <chr> \"Historical\", \"Historical\", \"Historical\",â€¦\n$ `PROTOCOL CODE`              <chr> \"P62\", \"P62\", \"P62\", \"P62\", \"P62\", \"P62\",â€¦\n$ `PROJECT CODE`               <chr> \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRâ€¦\n$ `DURATION MINUTES`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT DISTANCE KM`         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT AREA HA`             <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `NUMBER OBSERVERS`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 1, 1, 1, â€¦\n$ `ALL SPECIES REPORTED`       <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ `GROUP IDENTIFIER`           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `HAS MEDIA`                  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ APPROVED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REVIEWED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REASON                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `TRIP COMMENTS`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SPECIES COMMENTS`           <chr> \"Collected (Sclator & Taylor, 1876)., Kirâ€¦\n$ ...50                        <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n\n\nBurada sÃ¼tunlarÄ± Ã§ok daha rahat bir ÅŸekilde gÃ¶rebiliyoruz. Åu an iÃ§in iÅŸimize yaramayacak olan bir sÃ¼rÃ¼ sÃ¼tun var. Bu sebeple iÅŸimize yarayacak olanlarÄ± seÃ§elim. ArdÄ±ndan da sadece tÃ¼r kategorisindeki gÃ¶zlemleri seÃ§mek iÃ§in speciesâ€™e gÃ¶re filtreleyelim.\n\nebird_subset <- ebird |>\n  select(4, 6, 7, 11, 12, 18, 29, 30) |>  # burada indeks kullanarak sectik, sutun isimleriyle de secebiliriz\n  filter(CATEGORY == \"species\")\nebird_subset\n\n# A tibble: 2,298,920 Ã— 8\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n   <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 3 more variables: STATE <chr>, LATITUDE <dbl>, LONGITUDE <dbl>\n\n\n\nglimpse(ebird_subset)\n\nRows: 2,298,920\nColumns: 8\n$ CATEGORY            <chr> \"species\", \"species\", \"species\", \"species\", \"speciâ€¦\n$ `COMMON NAME`       <chr> \"Indian Roller\", \"Siberian Crane\", \"Black Grouse\",â€¦\n$ `SCIENTIFIC NAME`   <chr> \"Coracias benghalensis\", \"Leucogeranus leucogeranuâ€¦\n$ `OBSERVATION COUNT` <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"2\", \"1\", â€¦\n$ `BREEDING CODE`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NAâ€¦\n$ STATE               <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbul\", \"Hataâ€¦\n$ LATITUDE            <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 36.35517, â€¦\n$ LONGITUDE           <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 36.31517, â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi verinin iÅŸimize yarayacak bir alt kÃ¼mesini aldÄ±k.\nArtÄ±k ilk yÃ¼klediÄŸimiz veriyi (ebird) Râ€™dan silebiliriz. Veri, tÃ¼m TRâ€™yi kapsadÄ±ÄŸÄ± iÃ§in 2 milyondan fazla gÃ¶zlem iÃ§eriyor. BÃ¼yÃ¼k veri setleri RAMâ€™in ÅŸiÅŸmesine ve Râ€™Ä±n Ã§Ã¶kmesine sebep olabilir. Bu sebeple artÄ±k iÅŸimize yaramayacak olan verileri environmentâ€™ten kaldÄ±rÄ±yoruz.\n\nrm(ebird)\n\n\n\n3. KuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nEbird verimizi yÃ¼kleyip, iÅŸimize yarayacak olan alt kÃ¼mesini aldÄ±ktan sonra sÄ±ra geldi verimizi mekÃ¢nsallaÅŸtÄ±rmaya. Verimizi, uygun mekÃ¢nsal veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼p, mekÃ¢nsal analizlerde kullanÄ±labilecek bir hÃ¢le getireceÄŸiz. Bunun iÃ§in, Râ€™da vektÃ¶r verileri iÅŸlemek iÃ§in geliÅŸtirilen {sf} paketini kullanacaÄŸÄ±z.\nLat long verisini ve koordinat sistemini tanÄ±mlayarak Ebird verisini sf objesine Ã§evirdik.\n\nebird_sf <- st_as_sf(\n    ebird_subset, coords = c(\"LONGITUDE\", \"LATITUDE\"), crs = \"EPSG:4326\"\n)\nebird_sf\n\nSimple feature collection with 2298920 features and 6 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 2,298,920 Ã— 7\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n * <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 2 more variables: STATE <chr>, geometry <POINT [Â°]>\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi veri tablosuyla beraber artÄ±k geometri tipi (POINT), veri boyutu (dimension), verinin coÄŸrafi sÄ±nÄ±rlarÄ±nÄ± belirten bounding box koordinatlarÄ± ve bir CRSâ€™e (koordinat referans sistemi) sahibiz. Bundan sonra mekÃ¢nsal analizleri rahatÃ§a yapabiliriz.\nDikkat ederseniz her bir satÄ±rda, bir koordinat Ã§iftinden oluÅŸan koordinat verisi var. Bu, her bir satÄ±rÄ±n ve bu satÄ±rdaki tÃ¼m bilgilerin, bir geometriyle iliÅŸkili olduÄŸunu gÃ¶steriyor. Bu geometri de, gemoetri tipinde belirtildiÄŸi ya da bir koordinat Ã§iftinin varlÄ±ÄŸÄ±ndan anlayabileceÄŸimiz gibi nokta. Yani 2,298,920 tane noktamÄ±z var ve her bir nokta bir gÃ¶zlemle iliÅŸkili.\n\n\n4. TR il katmanÄ±nÄ±n yÃ¼klenmesi\neBird verisini mekÃ¢nsallaÅŸtÄ±rdÄ±ÄŸÄ±mÄ±za gÃ¶re, TR il sÄ±nÄ±rlarÄ±nÄ± Râ€™a yÃ¼kleyebiliriz. Ben geoBoundaries veri tabanÄ±nÄ± kullanÄ±yorum. Siz de buradan indirebilirsiniz idari sÄ±nÄ±rlara dair verileri. AÅŸaÄŸÄ±da da gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi {rgeoboundaries} paketiyle tr il sÄ±nÄ±rlarÄ±na doÄŸrudan eriÅŸebiliyoruz.\n\ntr_il <- gb_adm1(country = \"Turkey\", type = \"SSCGS\") # type = \"SSCGS\" argumaniyla basitlestirilmiÅŸ versiyonunu indiriyoruz\n\n[1] \"WARNING: geoBoundaries now provides two only types of boundaries: simplified and unsimplified.All other types are deprecated. If you selected SSCGS or SSCU it will be changed to simlified, HPSCU will be changed to usimplifed \"\n\ntr_il\n\nSimple feature collection with 81 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 25.66545 ymin: 35.80768 xmax: 44.81766 ymax: 42.1048\nGeodetic CRS:  WGS 84\nFirst 10 features:\n        shapeName shapeISO                 shapeID shapeGroup shapeType\n1           Adana    TR-01 80719077B95172477822815        TUR      ADM1\n2        AdÄ±yaman    TR-02 80719077B90872828599679        TUR      ADM1\n3  Afyonkarahisar    TR-03 80719077B26209284550223        TUR      ADM1\n4            AÄŸrÄ±    TR-04 80719077B39003465173278        TUR      ADM1\n5          Amasya    TR-05 80719077B32583172380009        TUR      ADM1\n6         Antalya    TR-07 80719077B97476213604692        TUR      ADM1\n7          Artvin    TR-08  80719077B1602304411378        TUR      ADM1\n8           AydÄ±n    TR-09 80719077B63739470532168        TUR      ADM1\n9       BalÄ±kesir    TR-10 80719077B55384476443375        TUR      ADM1\n10         Ankara    TR-06 80719077B47806653651907        TUR      ADM1\n                         geometry\n1  MULTIPOLYGON (((34.91146 36...\n2  MULTIPOLYGON (((37.861 37.4...\n3  MULTIPOLYGON (((30.48061 38...\n4  MULTIPOLYGON (((43.77542 39...\n5  MULTIPOLYGON (((36.3878 40....\n6  MULTIPOLYGON (((30.40305 36...\n7  MULTIPOLYGON (((41.87016 40...\n8  MULTIPOLYGON (((27.33197 37...\n9  MULTIPOLYGON (((26.7224 39....\n10 MULTIPOLYGON (((31.96673 38...\n\n\nBase R plot fonksiyonu ile tr_il objemizi Ã§izelim.\n\nplot(tr_il)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sf objesi iÃ§in plot() fonksiyonu, tÃ¼m deÄŸiÅŸkenleri Ã§iziyor. Sadece shapeName deÄŸiÅŸkenini seÃ§ip, eksenleri ve baÅŸlÄ±ÄŸÄ± ekleyerek daha iyi bir TÃ¼rkiye il sÄ±nÄ±rlarÄ± haritasÄ± Ã§izelim.\n\nplot(tr_il[, \"shapeName\"], graticule = TRUE, axes = TRUE, main = \"TÃ¼rkiye HaritasÄ±\")\n\n\n\n\nHop! Ã‡ok daha iyi!\nÅimdi de {tmap} paketinin iÃ§indeki qtm() fonksiyonu ile Ã§izelim.\n\nqtm(tr_il)\n\n\n\n\nDaha az yazarak gayet gÃ¼zel bir sonuÃ§ elde ettik. YukarÄ±da da gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi harita Ã§izmek iÃ§in farklÄ± yÃ¶ntemler mevcut. Ben genelde {ggplot2} ve {tmap} paketlerini tercih ediyorum. Tercih size kalmÄ±ÅŸ.\nÅimdi, kuÅŸ verimizin, TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ±na bakalÄ±m. 2 milyondan fazla satÄ±rÄ± olan bir verinin grafiÄŸini Ã§izmek muhtemelen Râ€™Ä±n Ã§Ã¶kmesine sebep olacaktÄ±r. Bu yÃ¼zden bu verinin de bir alt kÃ¼mesini alacaÄŸÄ±z.\n\nebird_sample <- sample_n(ebird_sf, 500000)\n\nVerideki 500000 satÄ±rÄ± rastgele seÃ§tik. Bu satÄ±r sayÄ±sÄ± bilgisayarÄ±nÄ±z iÃ§in fazla gelebilir. 5-10b de seÃ§ebilirsiniz.\nVerimizi, bu sefer de Râ€™Ä±n vazgeÃ§ilmez paketi olan ggplot ile gÃ¶rselleÅŸtiriyoruz.\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = ebird_sample, aes(), size = .5)\n\n\n\n\n500000 kuÅŸ gÃ¶zlem verisinin TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± bu ÅŸekildeymiÅŸ. BatÄ±â€™da ve bÃ¼yÃ¼kÅŸehirlerin yakÄ±nlarÄ±nda daha Ã§ok gÃ¶zlem var. HazÄ±r bu ÅŸekilde gÃ¶rselleÅŸtirmiÅŸken merak ettiÄŸim 2 tÃ¼rÃ¼n de daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m. TÃ¼r ismine gÃ¶re filtreleyip Ã§iziyoruz.\n\nSakallÄ± Akbaba\n\n\nsakalli <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gypaetus barbatus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = sakalli, aes(), size = .7)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sakallÄ± akbabanÄ±n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± KÃ¶roÄŸlu DaÄŸlarÄ±, AladaÄŸlar, KaÃ§kar DaÄŸlarÄ±, AkdaÄŸ gibi daÄŸlÄ±k alanlarda yoÄŸunlaÅŸÄ±yor.\nBir de kÄ±zÄ±l akbaba iÃ§in bakalÄ±m.\n\nkizil <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gyps fulvus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = kizil, aes(), size = .7)\n\n\n\n\nKÄ±zÄ±l akbaba daÄŸÄ±lÄ±mÄ±nÄ±n, Ã¼reme ve gÃ¶Ã§ bÃ¶lgelerinde yoÄŸunlaÅŸan bir Ã¶rÃ¼ntÃ¼ sergilediÄŸini gÃ¶rebiliyoruz.\nBu arada aynÄ± haritayÄ± {tmap} paketi ile aÅŸaÄŸÄ±daki gibi Ã§izebiliriz.\n\ntm_shape(tr_il) +\n  tm_polygons() +\n  tm_shape(kizil) +\n  tm_dots()\n\n\n\n\n\n\n5. KuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nBiraz oyalanmanÄ±n ardÄ±ndan tekrardan sorumuza odaklanabiliriz. Ã–ncelikle TÃ¼rkiyeâ€™deki kuÅŸ tÃ¼rlerini ve her tÃ¼rden kaÃ§ adet kayÄ±t olduÄŸunu gÃ¶rmek iÃ§in kuÅŸ verisini tÃ¼r ismine gÃ¶re grupluyor, ardÄ±ndan kayÄ±t sayÄ±sÄ±na gÃ¶re Ã¶zetliyoruz. Bu iÅŸlem biraz uzun sÃ¼rebilir.\n\nebird_grouped <- ebird_sf |>\n  group_by(`SCIENTIFIC NAME`) |>\n  summarise(n = n())\nprint(ebird_grouped)\n\nSimple feature collection with 503 features and 2 fields\nGeometry type: GEOMETRY\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 503 Ã— 3\n   `SCIENTIFIC NAME`             n                                      geometry\n   <chr>                     <int>                                <GEOMETRY [Â°]>\n 1 Acanthis flammea              1                     POINT (32.87976 39.96636)\n 2 Accipiter badius              3 MULTIPOINT ((41.23051 37.10523), (39.85856 4â€¦\n 3 Accipiter brevipes         2157 MULTIPOINT ((26.218 40.00467), (26.20626 40.â€¦\n 4 Accipiter gentilis         1617 MULTIPOINT ((26.16617 39.819), (26.20626 40.â€¦\n 5 Accipiter nisus           17281 MULTIPOINT ((26.01417 39.80894), (25.89106 4â€¦\n 6 Acridotheres tristis        792 MULTIPOINT ((28.56435 41.1764), (28.61338 40â€¦\n 7 Acrocephalus agricola       355 MULTIPOINT ((42.41 38.7), (42.42388 38.70286â€¦\n 8 Acrocephalus arundinaceus  6899 MULTIPOINT ((25.89106 40.15504), (26.16617 3â€¦\n 9 Acrocephalus dumetorum       25 MULTIPOINT ((35.95475 36.06548), (39.72347 4â€¦\n10 Acrocephalus griseldis        1                       POINT (43.578 40.11865)\n# â„¹ 493 more rows\n\n\n\nglimpse(ebird_grouped)\n\nRows: 503\nColumns: 3\n$ `SCIENTIFIC NAME` <chr> \"Acanthis flammea\", \"Accipiter badius\", \"Accipiter bâ€¦\n$ n                 <int> 1, 3, 2157, 1617, 17281, 792, 355, 6899, 25, 1, 2164â€¦\n$ geometry          <GEOMETRY [Â°]> POINT (32.87976 39.96636), MULTIPOINT ((41.â€¦\n\n\neBird veri tabanÄ±nda TÃ¼rkiyeâ€™den kayÄ±tlÄ± 503 tÃ¼r varmÄ±ÅŸ. eBirdâ€™Ã¼n internet sitesinde 494 adet tÃ¼r gÃ¶steriyor ancak veri talebiyle aldÄ±ÄŸÄ±mÄ±z veri de 9 fazla tÃ¼r var. Sebebi nedir bilmiyorum doÄŸrusu. AklÄ±ma, kesin olmayan bazÄ± kayÄ±tlarÄ±n da olabileceÄŸi geliyor sadece. Bilenler aÃ§Ä±klarsa sÃ¼per olur.\n\n\n6. Her bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nÅimdi, TÃ¼rkiyeâ€™deki her bir ilin poligonu iÃ§erisindeki noktalarÄ± sayacaÄŸÄ±z. Bu da bize her bir ildeki toplam tÃ¼r sayÄ±sÄ±nÄ± verecek. Ã–ncelikle st_intersects() fonksiyonu ile her bir il ile kesiÅŸen noktalarÄ± belirliyoruz. ArdÄ±ndan lengths() fonksiyonu ile her bir ilde kaÃ§ adet nokta olduÄŸunu hesaplÄ±yoruz ve bunu, tr_il verisine yeni bir sÃ¼tun olarak ekliyoruz. Temelde Ã§ok basit bir iÅŸlem ama baÅŸta anlamak zor olabiliyor.\n\ntr_il$bird_count <- lengths(st_intersects(tr_il, ebird_grouped))\n\n\n\n7. Verinin gÃ¶rselleÅŸtirilmesi\nÅimdi, hÄ±zlÄ±ca bir plotlayalÄ±m. Bunun iÃ§in plot() fonksiyonunu kullacaÄŸÄ±z. tr_il iÃ§indeki bird_count sÃ¼tununu seÃ§elim.\n\nplot(tr_il[, \"bird_count\"])\n\n\n\n\nHaritamÄ±z hazÄ±r. Åimdi daha iyi bir gÃ¶rselleÅŸtirme iÃ§in ggplot() fonksiyonunu kullanalÄ±m.\nÃ–ncelikle kÄ±rÄ±lÄ±mlarÄ±mÄ±z belirleyelim ki haritamÄ±z daha gÃ¼zel gÃ¶rÃ¼nsÃ¼n. Bunun iÃ§in jenks optimizasyonunu kullanacaÄŸÄ±z.\n\nbreaks <-\n  classInt::classIntervals(tr_il$bird_count,\n                           n = 7,\n                           style = \"jenks\")\n\n\nggplot() +\n  geom_sf(data = tr_il,\n          aes(fill = bird_count),\n          colour = \"grey12\",\n          linewidth = .1) +\n  scale_fill_viridis_c(breaks = breaks$brks) +\n  guides(fill = guide_colorsteps(\n    barwidth = 20,\n    barheight = .5,\n    title.position = \"right\"\n  )) +\n  labs(\n    title = \"Ä°llere GÃ¶re KuÅŸ TÃ¼rÃ¼ SayÄ±sÄ±\",\n    x = \"Boylam\",\n    y = \"Enlem\"\n  ) +\n  theme_bw() +\n  theme(\n    legend.position = \"bottom\",\n    plot.background = element_rect(\"white\", colour = \"white\"),\n    text = element_text(family = \"Ubuntu Mono\"),\n    legend.title = element_blank()\n  )\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Ã§ok daha iyi bir gÃ¶rselleÅŸtirme oldu.\nBurada dikkat etmemiz gereken en Ã¶nemli ÅŸeylerden birisi, verilerin, gÃ¶zlem sayÄ±sÄ± ve il yÃ¼zÃ¶lÃ§Ã¼mÃ¼ farklÄ±lÄ±klarÄ±ndan dolayÄ± yanlÄ± (bias) olduÄŸu. Bu harita genel fikirler verebilir ancak net Ã§Ä±karÄ±mlar iÃ§in verinin standartlaÅŸtÄ±rÄ±lmasÄ± Ã¶nem arz etmektedir.\nÄ°kinci yazÄ±da gÃ¶rÃ¼ÅŸmek dileÄŸiyle.\nBilimle ve huzurla kalÄ±nÄ±z."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R Delisi",
    "section": "",
    "text": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi I\n\n\n\n\n\n\n\nR\n\n\ngis\n\n\nr-spatial\n\n\ncase_study\n\n\n\n\nR ile KuÅŸ Verilerinin Analizi\n\n\n\n\n\n\nSep 27, 2023\n\n\nMehmet GÃ¶ktuÄŸ Ã–ztÃ¼rk\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "blog/ebird_R/ebird_r.html",
    "href": "blog/ebird_R/ebird_r.html",
    "title": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi 1",
    "section": "",
    "text": "Ä°lk blog yazÄ±sÄ±yla alakalÄ± aklÄ±mda benzer bir plan vardÄ± ancak geÃ§tiÄŸimiz haftalarda (yazÄ±yÄ± yazmamÄ±n Ã¼stÃ¼nden aylar geÃ§ti :) ), yÃ¼ksek lisansÄ±mÄ± yaptÄ±ÄŸÄ±m labdaki sunumumun ardÄ±ndan, bu yazÄ±yÄ± yazmaya karar verdim. Bu blog yazÄ±sÄ±nda, Ã¶zetle, Râ€™da kuÅŸ verilerini nasÄ±l iÅŸleyeceÄŸimize deÄŸineceÄŸim. KuÅŸlara doÄŸrudan ilginiz olmasa dahi, temel bazÄ± mekÃ¢nsal analizleri Ã¶ÄŸrenmek iÃ§in faydalÄ± bir yazÄ± olacak.\nBurada iki temel sorumuz var:\n\nTÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?\nBilindiÄŸi gibi KÄ±zÄ±lcahamam, TÃ¼rkiyeâ€™deki en Ã¶nemli kara akbaba - Aegypius monachus popÃ¼lasyonlarÄ±ndan birisini barÄ±ndÄ±rÄ±yor. Bu tÃ¼rÃ¼n, KÄ±zÄ±lcahamam ilÃ§e sÄ±nÄ±rlarÄ± iÃ§erisinde nasÄ±l bir daÄŸÄ±lÄ±mÄ± vardÄ±r? TÃ¼rÃ¼n daÄŸÄ±lÄ±mÄ±yla Ã§evresel faktÃ¶rler arasÄ±ndaki iliÅŸki kabaca nasÄ±ldÄ±r?\n\nBu yazÄ±da yalnÄ±zca birinci soruya odaklanacaÄŸÄ±z. Ä°kinci soru iÃ§in ikinci yazÄ±yÄ± bekleyiniz lÃ¼tfen. :)"
  },
  {
    "objectID": "blog/ebird_R/ebird_r.html#tÃ¼rkiyede-illere-gÃ¶re-toplam-kuÅŸ-tÃ¼rÃ¼-sayÄ±sÄ±-nasÄ±l-bir-daÄŸÄ±lÄ±m-gÃ¶steriyor",
    "href": "blog/ebird_R/ebird_r.html#tÃ¼rkiyede-illere-gÃ¶re-toplam-kuÅŸ-tÃ¼rÃ¼-sayÄ±sÄ±-nasÄ±l-bir-daÄŸÄ±lÄ±m-gÃ¶steriyor",
    "title": "R ve KuÅŸlar - Ebird Verilerinin R ile Analizi 1",
    "section": "1. TÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?",
    "text": "1. TÃ¼rkiyeâ€™de, illere gÃ¶re toplam kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ± nasÄ±l bir daÄŸÄ±lÄ±m gÃ¶steriyor?\nBu soruya cevap verebilmek iÃ§in Ã¶ncelikle iki temel veriye ihtiyacÄ±mÄ±z var. Bunlardan birisi kuÅŸ, diÄŸeri ise TÃ¼rkiyeâ€™deki iller. EÄŸer elimizdeki kuÅŸ verisinde her bir tÃ¼r iÃ§in kaydedildiÄŸi il bilgisi varsa, illere gÃ¶re kuÅŸ tÃ¼rlerini gruplayÄ±p, kuÅŸ tÃ¼rÃ¼ sayÄ±sÄ±nÄ± bulacak ÅŸekilde Ã¶zetleyebiliriz. Bu, aÅŸina olanlar iÃ§in, Excelâ€™deki pivot tableâ€™a benziyor. Ancak bu yÃ¶ntemle mekÃ¢nsal bir veri elde edemeyiz. Bu iÅŸlemin ardÄ±ndan kuÅŸ verisinin, TÃ¼rkiye illeri katmanÄ±na, il isimlerine gÃ¶re baÄŸlanmasÄ± gerekir. HÃ¢lihazÄ±rda kuÅŸlarÄ±n kaydedildiÄŸi noktalarÄ±n koordinatlarÄ± olduÄŸundan, mekÃ¢nsal olarak iÅŸleyeceÄŸiz. Zaten koordinata gÃ¶re toplanan verilerin mekansÃ¢l olarak iÅŸlenmesi daha gÃ¼venli.\n\nYazÄ±nÄ±n AkÄ±ÅŸÄ±\nYazÄ±nÄ±n genel akÄ±ÅŸÄ± aÅŸaÄŸÄ±daki gibidir:\n\nGerekli paketlerin yÃ¼klenmesi\nKuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nKuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nTR il katmanÄ±nÄ±n yÃ¼klenmesi\nKuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nHer bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nVerinin gÃ¶rselleÅŸtirilmesi\n\n\n\n1. Gerekli paketlerin yÃ¼klenmesi\n\n\n\n\n\n\n\n\n\nPaket\nAÃ§Ä±klama\n\n\n\n\ntidyverse\nÃ‡oÄŸunlukla veri manipÃ¼lasyonu ve gÃ¶rselleÅŸtirme Ã¼zerine paketler iÃ§eren bir paket koleksiyonu\n\n\nsf\nSimple Features: MekÃ¢nsal vektÃ¶r verileri iÅŸlemek iÃ§in\n\n\nrgeoboundaries\nMÃ¼lki idare sÄ±nÄ±rlarÄ±nÄ± indirmek iÃ§in\n\n\ntmap\nGÃ¼zel haritalar Ã§izmek iÃ§in\n\n\n\n\n\nEÄŸer bu paketler kurulu deÄŸilse aÅŸaÄŸÄ±daki kod bloÄŸu ile kurabilirsiniz. Bu kod bloÄŸu, paketi Râ€™a yÃ¼klemeye Ã§alÄ±ÅŸacak, eÄŸer yÃ¼kleyemezse kuracaktÄ±r. EÄŸer kurulumda sÄ±kÄ±ntÄ± yaÅŸarsanÄ±z paketlerin dÃ¶kÃ¼mantasyonuna bakabilirsiniz.\n\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\nif (!require(\"sf\")) install.packages(\"sf\")\nif (!require(\"rgeoboundaries\")) install.packages(\"rgeoboundaries\")\nif (!require(\"tmap\")) install.packages(\"tmap\")\n\nEÄŸer paketler kuruluysa library() fonksiyonu ile yÃ¼kleyebiliriz.\n\nlibrary(tidyverse) # bircok veri isini kolaylastirmak icin\nlibrary(sf) # r'da mekansal vektor verileri islemek icin\nlibrary(rgeoboundaries) # tr il sinirlarina erismek icin\nlibrary(tmap) # guzel haritalar cizmek icin \n\nKuÅŸ verisi olarak, TÃ¼rkiye ve dÃ¼nyadaki en kapsamlÄ± kuÅŸ gÃ¶zlem veri tabanÄ± olan eBirdâ€™Ã¼ kullanacaÄŸÄ±z. eBird, dÃ¼nyadaki en bÃ¼yÃ¼k kuÅŸ veri tabanÄ±. KuÅŸ gÃ¶zlemcileri araziye Ã§Ä±ktÄ±klarÄ±nda gÃ¶zlemledikleri kuÅŸlarÄ± bu veri tabanÄ±na kaydediyor, bilime ve doÄŸa korumaya katkÄ± saÄŸlayabiliyorlar. 2015 yÄ±lÄ±nda ulusal veri tabanÄ±mÄ±z KuÅŸbankâ€™Ä±n eBirdâ€™e taÅŸÄ±nmasÄ±ndan beri TÃ¼rkiye kuÅŸlarÄ±nÄ± konu alan en kapsamlÄ± veri tabanÄ± aynÄ± zamanda.\neBird verilerini siteye Ã¼ye olup, en altta, Bilim baÅŸlÄ±ÄŸÄ± altÄ±ndaki Veri indirme talebi sayfasÄ±ndan ya da {rebird} paketini kullanarak indirebilirsiniz. Ben, site Ã¼zerinden tÃ¼m TÃ¼rkiye verilerini talep ederek indirdim.\n\n\n2. KuÅŸ verisinin yÃ¼klenip bu yazÄ± iÃ§in gerekli olan alt kÃ¼mesinin alÄ±nmasÄ±\nÄ°ndirdiÄŸimiz eBird verilerini Râ€™a yÃ¼kleyelim. eBird verileri txt dosyasÄ± olduÄŸundan {tidyverse} paket evreni iÃ§indeki bir fonksiyon olan read_delim()â€™i kullandÄ±k. Base Râ€™daki read.table() fonksiyonu da kullanÄ±labilir. Veri biraz bÃ¼yÃ¼k olduÄŸundan yÃ¼klenmesi ve iÅŸlenmesi yavaÅŸ olabilir.\n\nebird <- read_delim(\"./ebird/ebd_TR_relApr-2023.txt\")\n\n\nprint(ebird)\n\n# A tibble: 2,403,720 Ã— 50\n   `GLOBAL UNIQUE IDENTIFIER`     `LAST EDITED DATE`  `TAXONOMIC ORDER` CATEGORY\n   <chr>                          <dttm>                          <dbl> <chr>   \n 1 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:59:44             10043 species \n 2 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 12:58:56              5625 species \n 3 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-15 13:04:32              1361 species \n 4 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:13             22215 species \n 5 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32              5787 species \n 6 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-21 02:26:13             29239 species \n 7 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-14 00:03:35             22156 species \n 8 URN:CornellLabOfOrnithology:Eâ€¦ 2021-04-05 11:01:32               291 species \n 9 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n10 URN:CornellLabOfOrnithology:Eâ€¦ 2018-09-20 02:46:53              5945 species \n# â„¹ 2,403,710 more rows\n# â„¹ 46 more variables: `TAXON CONCEPT ID` <chr>, `COMMON NAME` <chr>,\n#   `SCIENTIFIC NAME` <chr>, `SUBSPECIES COMMON NAME` <chr>,\n#   `SUBSPECIES SCIENTIFIC NAME` <chr>, `EXOTIC CODE` <chr>,\n#   `OBSERVATION COUNT` <chr>, `BREEDING CODE` <chr>,\n#   `BREEDING CATEGORY` <chr>, `BEHAVIOR CODE` <chr>, `AGE/SEX` <chr>,\n#   COUNTRY <chr>, `COUNTRY CODE` <chr>, STATE <chr>, `STATE CODE` <chr>, â€¦\n\n\nprint() fonksiyonu ile verinin genel yapÄ±sÄ±nÄ± gÃ¶rdÃ¼k. 2,403,720 gÃ¶zlem (satÄ±r) ve 50 deÄŸiÅŸkene (sÃ¼tun) sahip bir tibble ({tidyverse}â€™e Ã¶zel bir data frame ÅŸekli, bence daha kullanÄ±ÅŸlÄ±). DeÄŸiÅŸken sayÄ±sÄ± fazla olduÄŸu iÃ§in print() fonksiyonu yeterince kullanÄ±ÅŸlÄ±. Bu sebeple, Râ€™a yÃ¼klediÄŸimiz eBird veri tablosunun tÃ¼m sÃ¼tunlarÄ±nÄ± ve onlarÄ±n yapÄ±larÄ±nÄ± gÃ¶rmek iÃ§in glimpse() fonksiyonunu kullanacaÄŸÄ±z. Bu fonksiyon, base Râ€™daki str() fonksiyonuna benziyor ancak tibble veri yapÄ±sÄ±yla kullanÄ±lÄ±rken daha sade ve kullanÄ±ÅŸlÄ± bence. Ã–zetle, bu fonksiyonu, print() fonksiyonunun transpoze edilmiÅŸ hÃ¢li olarak gÃ¶rebilirsiniz.\n\nglimpse(ebird)\n\nRows: 2,403,720\nColumns: 50\n$ `GLOBAL UNIQUE IDENTIFIER`   <chr> \"URN:CornellLabOfOrnithology:EBIRD:OBS112â€¦\n$ `LAST EDITED DATE`           <dttm> 2021-04-15 12:59:44, 2021-04-15 12:58:56â€¦\n$ `TAXONOMIC ORDER`            <dbl> 10043, 5625, 1361, 22215, 5787, 29239, 22â€¦\n$ CATEGORY                     <chr> \"species\", \"species\", \"species\", \"speciesâ€¦\n$ `TAXON CONCEPT ID`           <chr> \"avibase-4F404CB9\", \"avibase-77845DAD\", \"â€¦\n$ `COMMON NAME`                <chr> \"Indian Roller\", \"Siberian Crane\", \"Blackâ€¦\n$ `SCIENTIFIC NAME`            <chr> \"Coracias benghalensis\", \"Leucogeranus leâ€¦\n$ `SUBSPECIES COMMON NAME`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SUBSPECIES SCIENTIFIC NAME` <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EXOTIC CODE`                <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `OBSERVATION COUNT`          <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"â€¦\n$ `BREEDING CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BREEDING CATEGORY`          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BEHAVIOR CODE`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `AGE/SEX`                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ COUNTRY                      <chr> \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiye\", \"TÃ¼rkiyeâ€¦\n$ `COUNTRY CODE`               <chr> \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\", \"TR\",â€¦\n$ STATE                        <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbuâ€¦\n$ `STATE CODE`                 <chr> \"TR-41\", \"TR-06\", \"TR-34\", \"TR-34\", \"TR-3â€¦\n$ COUNTY                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `COUNTY CODE`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `IBA CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `BCR CODE`                   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `USFWS CODE`                 <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `ATLAS BLOCK`                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ LOCALITY                     <chr> \"Haydarpasa-Izmit Yolu\", \"Ankara\", \"Istanâ€¦\n$ `LOCALITY ID`                <chr> \"L14466142\", \"L14465903\", \"L14465858\", \"Lâ€¦\n$ `LOCALITY TYPE`              <chr> \"P\", \"P\", \"P\", \"H\", \"H\", \"H\", \"P\", \"H\", \"â€¦\n$ LATITUDE                     <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 3â€¦\n$ LONGITUDE                    <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 3â€¦\n$ `OBSERVATION DATE`           <date> 1875-06-01, 1879-04-01, 1890-12-01, 1896â€¦\n$ `TIME OBSERVATIONS STARTED`  <time>       NA,       NA,       NA,       NA, â€¦\n$ `OBSERVER ID`                <chr> \"obsr1979154\", \"obsr1979154\", \"obsr197915â€¦\n$ `SAMPLING EVENT IDENTIFIER`  <chr> \"S85596027\", \"S85594679\", \"S85597213\", \"Sâ€¦\n$ `PROTOCOL TYPE`              <chr> \"Historical\", \"Historical\", \"Historical\",â€¦\n$ `PROTOCOL CODE`              <chr> \"P62\", \"P62\", \"P62\", \"P62\", \"P62\", \"P62\",â€¦\n$ `PROJECT CODE`               <chr> \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRD\", \"EBIRâ€¦\n$ `DURATION MINUTES`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT DISTANCE KM`         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `EFFORT AREA HA`             <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `NUMBER OBSERVERS`           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 1, 1, 1, â€¦\n$ `ALL SPECIES REPORTED`       <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ `GROUP IDENTIFIER`           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `HAS MEDIA`                  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,â€¦\n$ APPROVED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REVIEWED                     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ REASON                       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `TRIP COMMENTS`              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n$ `SPECIES COMMENTS`           <chr> \"Collected (Sclator & Taylor, 1876)., Kirâ€¦\n$ ...50                        <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦\n\n\nBurada sÃ¼tunlarÄ± Ã§ok daha rahat bir ÅŸekilde gÃ¶rebiliyoruz. Åu an iÃ§in iÅŸimize yaramayacak olan bir sÃ¼rÃ¼ sÃ¼tun var. Bu sebeple iÅŸimize yarayacak olanlarÄ± seÃ§elim. ArdÄ±ndan da sadece tÃ¼r kategorisindeki gÃ¶zlemleri seÃ§mek iÃ§in speciesâ€™e gÃ¶re filtreleyelim.\n\nebird_subset <- ebird |>\n  select(4, 6, 7, 11, 12, 18, 29, 30) |>  # burada indeks kullanarak sectik, sutun isimleriyle de secebiliriz\n  filter(CATEGORY == \"species\")\nebird_subset\n\n# A tibble: 2,298,920 Ã— 8\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n   <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 3 more variables: STATE <chr>, LATITUDE <dbl>, LONGITUDE <dbl>\n\n\n\nglimpse(ebird_subset)\n\nRows: 2,298,920\nColumns: 8\n$ CATEGORY            <chr> \"species\", \"species\", \"species\", \"species\", \"speciâ€¦\n$ `COMMON NAME`       <chr> \"Indian Roller\", \"Siberian Crane\", \"Black Grouse\",â€¦\n$ `SCIENTIFIC NAME`   <chr> \"Coracias benghalensis\", \"Leucogeranus leucogeranuâ€¦\n$ `OBSERVATION COUNT` <chr> \"1\", \"X\", \"X\", \"1\", \"2\", \"1\", \"1\", \"1\", \"2\", \"1\", â€¦\n$ `BREEDING CODE`     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NAâ€¦\n$ STATE               <chr> \"Kocaeli\", \"Ankara\", \"Ä°stanbul\", \"Ä°stanbul\", \"Hataâ€¦\n$ LATITUDE            <dbl> 40.78331, 39.92951, 41.00805, 40.99209, 36.35517, â€¦\n$ LONGITUDE           <dbl> 29.47437, 32.85443, 28.97673, 28.83948, 36.31517, â€¦\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi verinin iÅŸimize yarayacak bir alt kÃ¼mesini aldÄ±k.\nArtÄ±k ilk yÃ¼klediÄŸimiz veriyi (ebird) Râ€™dan silebiliriz. Veri, tÃ¼m TRâ€™yi kapsadÄ±ÄŸÄ± iÃ§in 2 milyondan fazla gÃ¶zlem iÃ§eriyor. BÃ¼yÃ¼k veri setleri RAMâ€™in ÅŸiÅŸmesine ve Râ€™Ä±n Ã§Ã¶kmesine sebep olabilir. Bu sebeple artÄ±k iÅŸimize yaramayacak olan verileri environmentâ€™ten kaldÄ±rÄ±yoruz.\n\nrm(ebird)\n\n\n\n3. KuÅŸ verisinin mekÃ¢nsallÄ±ÅŸtÄ±rÄ±lmasÄ±\nEbird verimizi yÃ¼kleyip, iÅŸimize yarayacak olan alt kÃ¼mesini aldÄ±ktan sonra sÄ±ra geldi verimizi mekÃ¢nsallaÅŸtÄ±rmaya. Verimizi, uygun mekÃ¢nsal veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼p, mekÃ¢nsal analizlerde kullanÄ±labilecek bir hÃ¢le getireceÄŸiz. Bunun iÃ§in, Râ€™da vektÃ¶r verileri iÅŸlemek iÃ§in geliÅŸtirilen {sf} paketini kullanacaÄŸÄ±z.\nLat long verisini ve koordinat sistemini tanÄ±mlayarak Ebird verisini sf objesine Ã§evirdik.\n\nebird_sf <- st_as_sf(\n    ebird_subset, coords = c(\"LONGITUDE\", \"LATITUDE\"), crs = \"EPSG:4326\"\n)\nebird_sf\n\nSimple feature collection with 2298920 features and 6 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 2,298,920 Ã— 7\n   CATEGORY `COMMON NAME`  `SCIENTIFIC NAME` `OBSERVATION COUNT` `BREEDING CODE`\n * <chr>    <chr>          <chr>             <chr>               <chr>          \n 1 species  Indian Roller  Coracias benghalâ€¦ 1                   <NA>           \n 2 species  Siberian Crane Leucogeranus leuâ€¦ X                   <NA>           \n 3 species  Black Grouse   Lyrurus tetrix    X                   <NA>           \n 4 species  White-winged â€¦ Alauda leucoptera 1                   <NA>           \n 5 species  White-tailed â€¦ Vanellus leucurus 2                   <NA>           \n 6 species  Mourning Wheaâ€¦ Oenanthe lugens   1                   <NA>           \n 7 species  Black Lark     Melanocorypha yeâ€¦ 1                   <NA>           \n 8 species  Brant          Branta bernicla   1                   <NA>           \n 9 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 2                   <NA>           \n10 species  Slender-billeâ€¦ Numenius tenuiroâ€¦ 1                   <NA>           \n# â„¹ 2,298,910 more rows\n# â„¹ 2 more variables: STATE <chr>, geometry <POINT [Â°]>\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi veri tablosuyla beraber artÄ±k geometri tipi (POINT), veri boyutu (dimension), verinin coÄŸrafi sÄ±nÄ±rlarÄ±nÄ± belirten bounding box koordinatlarÄ± ve bir CRSâ€™e (koordinat referans sistemi) sahibiz. Bundan sonra mekÃ¢nsal analizleri rahatÃ§a yapabiliriz.\nDikkat ederseniz her bir satÄ±rda, bir koordinat Ã§iftinden oluÅŸan koordinat verisi var. Bu, her bir satÄ±rÄ±n ve bu satÄ±rdaki tÃ¼m bilgilerin, bir geometriyle iliÅŸkili olduÄŸunu gÃ¶steriyor. Bu geometri de, gemoetri tipinde belirtildiÄŸi ya da bir koordinat Ã§iftinin varlÄ±ÄŸÄ±ndan anlayabileceÄŸimiz gibi nokta. Yani 2,298,920 tane noktamÄ±z var ve her bir nokta bir gÃ¶zlemle iliÅŸkili.\n\n\n4. TR il katmanÄ±nÄ±n yÃ¼klenmesi\neBird verisini mekÃ¢nsallaÅŸtÄ±rdÄ±ÄŸÄ±mÄ±za gÃ¶re, TR il sÄ±nÄ±rlarÄ±nÄ± Râ€™a yÃ¼kleyebiliriz. Ben geoBoundaries veri tabanÄ±nÄ± kullanÄ±yorum. Siz de buradan indirebilirsiniz idari sÄ±nÄ±rlara dair verileri. AÅŸaÄŸÄ±da da gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi {rgeoboundaries} paketiyle tr il sÄ±nÄ±rlarÄ±na doÄŸrudan eriÅŸebiliyoruz.\n\ntr_il <- gb_adm1(country = \"Turkey\", type = \"SSCGS\") # type = \"SSCGS\" argumaniyla basitlestirilmiÅŸ versiyonunu indiriyoruz\n\n[1] \"WARNING: geoBoundaries now provides two only types of boundaries: simplified and unsimplified.All other types are deprecated. If you selected SSCGS or SSCU it will be changed to simlified, HPSCU will be changed to usimplifed \"\n\ntr_il\n\nSimple feature collection with 81 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 25.66545 ymin: 35.80768 xmax: 44.81766 ymax: 42.1048\nGeodetic CRS:  WGS 84\nFirst 10 features:\n        shapeName shapeISO                 shapeID shapeGroup shapeType\n1           Adana    TR-01 80719077B95172477822815        TUR      ADM1\n2        AdÄ±yaman    TR-02 80719077B90872828599679        TUR      ADM1\n3  Afyonkarahisar    TR-03 80719077B26209284550223        TUR      ADM1\n4            AÄŸrÄ±    TR-04 80719077B39003465173278        TUR      ADM1\n5          Amasya    TR-05 80719077B32583172380009        TUR      ADM1\n6         Antalya    TR-07 80719077B97476213604692        TUR      ADM1\n7          Artvin    TR-08  80719077B1602304411378        TUR      ADM1\n8           AydÄ±n    TR-09 80719077B63739470532168        TUR      ADM1\n9       BalÄ±kesir    TR-10 80719077B55384476443375        TUR      ADM1\n10         Ankara    TR-06 80719077B47806653651907        TUR      ADM1\n                         geometry\n1  MULTIPOLYGON (((34.91146 36...\n2  MULTIPOLYGON (((37.861 37.4...\n3  MULTIPOLYGON (((30.48061 38...\n4  MULTIPOLYGON (((43.77542 39...\n5  MULTIPOLYGON (((36.3878 40....\n6  MULTIPOLYGON (((30.40305 36...\n7  MULTIPOLYGON (((41.87016 40...\n8  MULTIPOLYGON (((27.33197 37...\n9  MULTIPOLYGON (((26.7224 39....\n10 MULTIPOLYGON (((31.96673 38...\n\n\nBase R plot fonksiyonu ile tr_il objemizi Ã§izelim.\n\nplot(tr_il)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sf objesi iÃ§in plot() fonksiyonu, tÃ¼m deÄŸiÅŸkenleri Ã§iziyor. Sadece shapeName deÄŸiÅŸkenini seÃ§ip, eksenleri ve baÅŸlÄ±ÄŸÄ± ekleyerek daha iyi bir TÃ¼rkiye il sÄ±nÄ±rlarÄ± haritasÄ± Ã§izelim.\n\nplot(tr_il[, \"shapeName\"], graticule = TRUE, axes = TRUE, main = \"TÃ¼rkiye HaritasÄ±\")\n\n\n\n\nHop! Ã‡ok daha iyi!\nÅimdi de {tmap} paketinin iÃ§indeki qtm() fonksiyonu ile Ã§izelim.\n\nqtm(tr_il)\n\n\n\n\nDaha az yazarak gayet gÃ¼zel bir sonuÃ§ elde ettik. YukarÄ±da da gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi harita Ã§izmek iÃ§in farklÄ± yÃ¶ntemler mevcut. Ben genelde {ggplot2} ve {tmap} paketlerini tercih ediyorum. Tercih size kalmÄ±ÅŸ.\nÅimdi, kuÅŸ verimizin, TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ±na bakalÄ±m. 2 milyondan fazla satÄ±rÄ± olan bir verinin grafiÄŸini Ã§izmek muhtemelen Râ€™Ä±n Ã§Ã¶kmesine sebep olacaktÄ±r. Bu yÃ¼zden bu verinin de bir alt kÃ¼mesini alacaÄŸÄ±z.\n\nebird_sample <- sample_n(ebird_sf, 500000)\n\nVerideki 500000 satÄ±rÄ± rastgele seÃ§tik. Bu satÄ±r sayÄ±sÄ± bilgisayarÄ±nÄ±z iÃ§in fazla gelebilir. 5-10b de seÃ§ebilirsiniz.\nVerimizi, bu sefer de Râ€™Ä±n vazgeÃ§ilmez paketi olan ggplot ile gÃ¶rselleÅŸtiriyoruz.\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = ebird_sample, aes(), size = .5)\n\n\n\n\n500000 kuÅŸ gÃ¶zlem verisinin TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± bu ÅŸekildeymiÅŸ. BatÄ±â€™da ve bÃ¼yÃ¼kÅŸehirlerin yakÄ±nlarÄ±nda daha Ã§ok gÃ¶zlem var. HazÄ±r bu ÅŸekilde gÃ¶rselleÅŸtirmiÅŸken merak ettiÄŸim 2 tÃ¼rÃ¼n de daÄŸÄ±lÄ±mÄ±na bir bakalÄ±m. TÃ¼r ismine gÃ¶re filtreleyip Ã§iziyoruz.\n\nSakallÄ± Akbaba\n\n\nsakalli <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gypaetus barbatus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = sakalli, aes(), size = .7)\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi sakallÄ± akbabanÄ±n TÃ¼rkiyeâ€™deki daÄŸÄ±lÄ±mÄ± KÃ¶roÄŸlu DaÄŸlarÄ±, AladaÄŸlar, KaÃ§kar DaÄŸlarÄ±, AkdaÄŸ gibi daÄŸlÄ±k alanlarda yoÄŸunlaÅŸÄ±yor.\nBir de kÄ±zÄ±l akbaba iÃ§in bakalÄ±m.\n\nkizil <- ebird_sf |> \n  filter(`SCIENTIFIC NAME` == \"Gyps fulvus\")\n\n\nggplot() +\n  geom_sf(data = tr_il, aes()) +\n  geom_sf(data = kizil, aes(), size = .7)\n\n\n\n\nKÄ±zÄ±l akbaba daÄŸÄ±lÄ±mÄ±nÄ±n, Ã¼reme ve gÃ¶Ã§ bÃ¶lgelerinde yoÄŸunlaÅŸan bir Ã¶rÃ¼ntÃ¼ sergilediÄŸini gÃ¶rebiliyoruz.\nBu arada aynÄ± haritayÄ± {tmap} paketi ile aÅŸaÄŸÄ±daki gibi Ã§izebiliriz.\n\ntm_shape(tr_il) +\n  tm_polygons() +\n  tm_shape(kizil) +\n  tm_dots()\n\n\n\n\n\n\n5. KuÅŸ verisinin gruplanÄ±p Ã¶zetlenmesi\nBiraz oyalanmanÄ±n ardÄ±ndan tekrardan sorumuza odaklanabiliriz. Ã–ncelikle TÃ¼rkiyeâ€™deki kuÅŸ tÃ¼rlerini ve her tÃ¼rden kaÃ§ adet kayÄ±t olduÄŸunu gÃ¶rmek iÃ§in kuÅŸ verisini tÃ¼r ismine gÃ¶re grupluyor, ardÄ±ndan kayÄ±t sayÄ±sÄ±na gÃ¶re Ã¶zetliyoruz. Bu iÅŸlem biraz uzun sÃ¼rebilir.\n\nebird_grouped <- ebird_sf |>\n  group_by(`SCIENTIFIC NAME`) |>\n  summarise(n = n())\nprint(ebird_grouped)\n\nSimple feature collection with 503 features and 2 fields\nGeometry type: GEOMETRY\nDimension:     XY\nBounding box:  xmin: 25.78258 ymin: 34.58944 xmax: 44.78608 ymax: 42.93267\nGeodetic CRS:  WGS 84\n# A tibble: 503 Ã— 3\n   `SCIENTIFIC NAME`             n                                      geometry\n   <chr>                     <int>                                <GEOMETRY [Â°]>\n 1 Acanthis flammea              1                     POINT (32.87976 39.96636)\n 2 Accipiter badius              3 MULTIPOINT ((41.23051 37.10523), (39.85856 4â€¦\n 3 Accipiter brevipes         2157 MULTIPOINT ((26.218 40.00467), (26.20626 40.â€¦\n 4 Accipiter gentilis         1617 MULTIPOINT ((26.16617 39.819), (26.20626 40.â€¦\n 5 Accipiter nisus           17281 MULTIPOINT ((26.01417 39.80894), (25.89106 4â€¦\n 6 Acridotheres tristis        792 MULTIPOINT ((28.56435 41.1764), (28.61338 40â€¦\n 7 Acrocephalus agricola       355 MULTIPOINT ((42.41 38.7), (42.42388 38.70286â€¦\n 8 Acrocephalus arundinaceus  6899 MULTIPOINT ((25.89106 40.15504), (26.16617 3â€¦\n 9 Acrocephalus dumetorum       25 MULTIPOINT ((35.95475 36.06548), (39.72347 4â€¦\n10 Acrocephalus griseldis        1                       POINT (43.578 40.11865)\n# â„¹ 493 more rows\n\n\n\nglimpse(ebird_grouped)\n\nRows: 503\nColumns: 3\n$ `SCIENTIFIC NAME` <chr> \"Acanthis flammea\", \"Accipiter badius\", \"Accipiter bâ€¦\n$ n                 <int> 1, 3, 2157, 1617, 17281, 792, 355, 6899, 25, 1, 2164â€¦\n$ geometry          <GEOMETRY [Â°]> POINT (32.87976 39.96636), MULTIPOINT ((41.â€¦\n\n\neBird veri tabanÄ±nda TÃ¼rkiyeâ€™den kayÄ±tlÄ± 503 tÃ¼r varmÄ±ÅŸ. eBirdâ€™Ã¼n internet sitesinde 494 adet tÃ¼r gÃ¶steriyor ancak veri talebiyle aldÄ±ÄŸÄ±mÄ±z veri de 9 fazla tÃ¼r var. Sebebi nedir bilmiyorum doÄŸrusu. AklÄ±ma, kesin olmayan bazÄ± kayÄ±tlarÄ±n da olabileceÄŸi geliyor sadece. Bilenler aÃ§Ä±klarsa sÃ¼per olur.\n\n\n6. Her bir il sÄ±nÄ±rÄ± iÃ§inde kalan tÃ¼r sayÄ±sÄ±nÄ±n hesaplanmasÄ±\nÅimdi, TÃ¼rkiyeâ€™deki her bir ilin poligonu iÃ§erisindeki noktalarÄ± sayacaÄŸÄ±z. Bu da bize her bir ildeki toplam tÃ¼r sayÄ±sÄ±nÄ± verecek. Ã–ncelikle st_intersects() fonksiyonu ile her bir il ile kesiÅŸen noktalarÄ± belirliyoruz. ArdÄ±ndan lengths() fonksiyonu ile her bir ilde kaÃ§ adet nokta olduÄŸunu hesaplÄ±yoruz ve bunu, tr_il verisine yeni bir sÃ¼tun olarak ekliyoruz. Temelde Ã§ok basit bir iÅŸlem ama baÅŸta anlamak zor olabiliyor.\n\ntr_il$bird_count <- lengths(st_intersects(tr_il, ebird_grouped))\n\n\n\n7. Verinin gÃ¶rselleÅŸtirilmesi\nÅimdi, hÄ±zlÄ±ca bir plotlayalÄ±m. Bunun iÃ§in plot() fonksiyonunu kullacaÄŸÄ±z. tr_il iÃ§indeki bird_count sÃ¼tununu seÃ§elim.\n\nplot(tr_il[, \"bird_count\"])\n\n\n\n\nHaritamÄ±z hazÄ±r. Åimdi daha iyi bir gÃ¶rselleÅŸtirme iÃ§in ggplot() fonksiyonunu kullanalÄ±m.\nÃ–ncelikle kÄ±rÄ±lÄ±mlarÄ±mÄ±z belirleyelim ki haritamÄ±z daha gÃ¼zel gÃ¶rÃ¼nsÃ¼n. Bunun iÃ§in jenks optimizasyonunu kullanacaÄŸÄ±z.\n\nbreaks <-\n  classInt::classIntervals(tr_il$bird_count,\n                           n = 7,\n                           style = \"jenks\")\n\n\nggplot() +\n  geom_sf(data = tr_il,\n          aes(fill = bird_count),\n          colour = \"grey12\",\n          linewidth = .1) +\n  scale_fill_viridis_c(breaks = breaks$brks) +\n  guides(fill = guide_colorsteps(\n    barwidth = 20,\n    barheight = .5,\n    title.position = \"right\"\n  )) +\n  labs(\n    title = \"Ä°llere GÃ¶re KuÅŸ TÃ¼rÃ¼ SayÄ±sÄ±\",\n    x = \"Boylam\",\n    y = \"Enlem\"\n  ) +\n  theme_bw() +\n  theme(\n    legend.position = \"bottom\",\n    plot.background = element_rect(\"white\", colour = \"white\"),\n    text = element_text(family = \"Ubuntu Mono\"),\n    legend.title = element_blank()\n  )\n\n\n\n\nGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Ã§ok daha iyi bir gÃ¶rselleÅŸtirme oldu.\nBurada dikkat etmemiz gereken en Ã¶nemli ÅŸeylerden birisi, verilerin, gÃ¶zlem sayÄ±sÄ± ve il yÃ¼zÃ¶lÃ§Ã¼mÃ¼ farklÄ±lÄ±klarÄ±ndan dolayÄ± yanlÄ± (bias) olduÄŸu. Bu harita genel fikirler verebilir ancak net Ã§Ä±karÄ±mlar iÃ§in verinin standartlaÅŸtÄ±rÄ±lmasÄ± Ã¶nem arz etmektedir.\nÄ°kinci yazÄ±da gÃ¶rÃ¼ÅŸmek dileÄŸiyle.\nBilimle ve huzurla kalÄ±nÄ±z."
  }
]